# 4. ì„¤ê³„ í’ˆì§ˆê³¼ íŠ¸ë ˆì´ë“œ ì˜¤í”„

> ê°ì²´ì§€í–¥ ì„¤ê³„ì˜ í•µì‹¬ì€ ì—­í• , ì±…ì„, í˜‘ë ¥ì´ë‹¤.
> ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ *ì±…ì„* ì´ë‹¤.

## ê°ì²´ ì§€í–¥ ì„¤ê³„
- ê°ì²´ì§€í–¥ ì„¤ê³„ì—ì„œ ì—­í• , ì±…ì„, í˜‘ë ¥ ì¤‘ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œê²ƒì€ *ì±…ì„* ì´ê³  ì´ë¥¼ ì±…ì„ ì£¼ë„ ì„¤ê³„ë¼ê³  í•œë‹¤.
- ê°ì²´ì§€í–¥ ì„¤ê³„ë€ ì˜¬ë°”ë¥¸ ì±…ì„ì„ í• ë‹¹í•˜ë©´ì„œ ë‚®ì€ ê²°í•©ë„ì™€ ë†’ì€ ì‘ì§‘ë„ë¥¼ ê°€ì§„ êµ¬ì¡°ë¥¼ ì°½ì¡°í•˜ëŠ” í™œë™.
- ì ì ˆí•œ ë¹„ìš© ì•ˆì—ì„œ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ì„¤ê³„ëŠ” ì‘ì§‘ë„ê°€ ë†’ê³  ì„œë¡œ ëŠìŠ¨í•˜ê²Œ ê²°í•©ë¼ ìˆëŠ” ìš”ì†Œë¡œ êµ¬ì„±ëœë‹¤.
- ê°ì²´ì˜ ìƒíƒœê°€ ì•„ë‹ˆë¼ ê°ì²´ì˜ í–‰ë™ì— ì´ˆì ì„ ë§ì¶° ê²°í•©ë„ì™€ ì‘ì§‘ë„ë¥¼ í•©ë¦¬ì ì¸ ìˆ˜ì¤€ìœ¼ë¡œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- ê°ì²´ì˜ ì±…ì„ì— ì´ˆì ì„ ë‘ê³  ì„¤ê³„ í•´ì•¼ í•œë‹¤.
- ì±…ì„ì€ ê°ì²´ì˜ ìƒíƒœì—ì„œ í–‰ë™ìœ¼ë¡œ, ê°ì²´ì™€ ê°ì²´ ì‚¬ì´ì˜ ìƒí˜¸ì‘ìš©ìœ¼ë¡œ ì„¤ê³„ ì¤‘ì‹¬ì„ ì´ë™ì‹œí‚¤ê³ , ê²°í•©ë„ê°€ ë‚®ê³  ì‘ì§‘ë„ê°€ ë†’ìœ¼ë©° êµ¬í˜„ì„ íš¨ê³¼ì ìœ¼ë¡œ ìº¡ìŠí™” í•˜ëŠ” ê°ì²´ë“¤ì„ ì°½ì¡°í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ì„ ì œê³µí•œë‹¤.


> ì˜ˆì œì½”ë“œ

```typescript title="ê¸°ë³¸ ì˜ˆì œ ì½”ë“œ"
class Money {
  static readonly ZERO = Money.wons(0);

  constructor(private _amount: number) {}

  static wons(amount: number) {
    return new Money(amount);
  }

  get amount(): number {
    return this._amount;
  }

  plus = (amount: number): Money => {
    return new Money(this._amount + amount);
  };

  minus = (amount: any): Money => {
    return new Money(this._amount - amount);
  };

  times = (percent: number): Money => {
    return new Money(this._amount * percent);
  };

  isLessThan = (other: Money): boolean => {
    return this._amount < other.amount;
  };

  isGreaterThanOrEqual = (other: Money): boolean => {
    return this._amount >= other.amount;
  };
}

class Customer {
  constructor(private _name: string, private _id: string) {}
}

class Screening {
  constructor(
    private _movie: Movie,
    private _sequence: number,
    private _whenScreened: Date
  ) {}

  get movie() {
    return this._movie;
  }

  setMovie(movie: Movie) {
    this._movie = movie;
  }

  get whenScreened() {
    return this._whenScreened;
  }

  setWhenScreened(whenScreened: Date) {
    this._whenScreened = whenScreened;
  }

  get sequence() {
    return this._sequence;
  }

  setSequence(sequence: number) {
    this._sequence = sequence;
  }
}

class Reservation {
  constructor(
    private _customer: Customer,
    private _screening: Screening,
    private _fee: Money,
    private _audienceCount: number
  ) {}

  get costomer() {
    return this._customer;
  }

  setCustomer(customer: Customer) {
    this._customer = customer;
  }

  get screening() {
    return this._screening;
  }

  setScreening(screening: Screening) {
    this._screening = screening;
  }

  get fee() {
    return this._fee;
  }

  setFee(fee: Money) {
    this._fee = fee;
  }

  get audienceCount() {
    return this._audienceCount;
  }

  setAudienceCount(audienceCount: number) {
    this._audienceCount = audienceCount;
  }
}

class DiscountCondition {
  constructor(
    private _type: DiscountConditionType,

    private _sequence: number,

    private _dayOfWeek: number,
    private _startTime: number,
    private _endTime: number
  ) {}

  get type() {
    return this._type;
  }

  setType(type: DiscountConditionType) {
    this._type = type;
  }

  get dayOfWeek() {
    return this._dayOfWeek;
  }

  setDayOfWeek(dayOfWeek: number) {
    this._dayOfWeek = dayOfWeek;
  }

  get startTime() {
    return this._startTime;
  }

  setStartTime(startTime: number) {
    this._startTime = startTime;
  }

  get endTime() {
    return this._endTime;
  }

  setEndTime(endTime: number) {
    this._endTime = endTime;
  }

  get sequence() {
    return this._sequence;
  }

  setSequence(sequence: number) {
    this._sequence = sequence;
  }
}

enum DiscountConditionType {
  SEQUENCE = "SEQUENCE",
  PERIOD = "PERIOD",
}

enum MovieType {
  AMOUNT_DISCOUNT = "AMOUNT_DISCOUNT",
  PERCENT_DISCOUNT = "PERCENT_DISCOUNT",
  NONE_DISCOUNT = "NONE_DISCOUNT",
}
class Movie {
  constructor(
    private _title: string,
    private _runningTime: number,
    private _fee: Money,
    private _discountConditions: Array<DiscountCondition>,

    private _movieType: MovieType,
    private _discountAmount: Money,
    private _discountPercent: number
  ) {}

  get movieType() {
    return this._movieType;
  }

  setMovieType(movieType: MovieType) {
    this._movieType = movieType;
  }

  get fee() {
    return this._fee;
  }

  setFee(fee: Money) {
    this._fee = fee;
  }

  get discountCoditions() {
    return this._discountConditions;
  }

  setDiscountConditions(discountCounditions: Array<DiscountCondition>) {
    this._discountConditions = discountCounditions;
  }

  get discountAmount() {
    return this._discountAmount;
  }

  setDiscountAmount(discountAmount: Money) {
    this._discountAmount = discountAmount;
  }

  get discountPercent() {
    return this._discountPercent;
  }

  setDiscountPercent(discountPercent: number) {
    this._discountPercent = discountPercent;
  }
}

// Rectangle ì˜ˆì‹œ

class Rectangle {
  constructor(
    private _left: number,
    private _top: number,
    private _right: number,
    private _bottom: number
  ) {}

  get left(): number {
    return this._left;
  }
  setLeft(left: number) {
    this._left = left;
  }

  get top(): number {
    return this._top;
  }
  setTop(top: number) {
    this._top = top;
  }

  get right(): number {
    return this._right;
  }
  setRight(right: number) {
    this._right = right;
  }

  get bottom(): number {
    return this._bottom;
  }
  setBottom(bottom: number) {
    this._bottom = bottom;
  }
}

class AnyClass {
  anyMethod(rectangle: Rectangle, multiple: number) {
    rectangle.setRight(rectangle.right * multiple);
    rectangle.setBottom(rectangle.right * multiple);
    // ...
  }
}
```


# ğŸ¶ ìƒíƒœ ì¤‘ì‹¬ ê³¼ ì±…ì„ ì¤‘ì‹¬
> ê°ì²´ ì§€í–¥ ì„¤ê³„ì—ì„œ ì‹œìŠ¤í…œì„ ê°ì²´ë¡œ ë¶„í• í•˜ëŠ” ë‘ê°€ì§€ ë°©ë²•

- ìƒíƒœ(ë°ì´í„°)ë¥¼ ë¶„í• ì˜ ì¤‘ì‹¬ì¶•ìœ¼ë¡œ ì‚¼ëŠ” ë°©ë²•
- ì±…ì„ì„ ë¶„í• ì˜ ì¤‘ì‹¬ì¶•ìœ¼ë¡œ ì‚¼ëŠ” ë°©ë²•

> í›Œë¥­í•œ ê°ì²´ì§€í–¥ ì„¤ê³„ëŠ” ë°ì´í„°(ìƒíƒœ) ì¤‘ì‹¬ì´ ì•„ë‹ˆë¼ *ì±…ì„* ì— ì´ˆì ì„ ë§ì¶°ì•¼ í•œë‹¤.
> ìƒíƒœì— ì´ˆì ì„ ë§ì¶”ê²Œ ë˜ë©´ ë³€ê²½ì— ì·¨ì•½í•´ì§€ê¸° ë•Œë¬¸ì´ë‹¤.

## ë°ì´í„°ë¥¼ ì¤€ë¹„í•˜ì
> ë°ì´í„°(ìƒíƒœ) ì¤‘ì‹¬ì˜ ì„¤ê³„ë€ ê°ì²´ ë‚´ë¶€ì—ì„œ ì €ì¥ë˜ëŠ” ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹œìŠ¤í…œì„ ë¶„í• í•˜ëŠ” ë°©ë²•ì´ë‹¤.
> ì¦‰, ë°ì´í„°(ìƒíƒœ) ì¤‘ì‹¬ì˜ ì„¤ê³„ëŠ” ê°ì²´ê°€ ë‚´ë¶€ì— ì €ì¥í•´ì•¼ í•˜ëŠ” 'ë°ì´í„°ê°€ ë¬´ì—‡ì¸ê°€'ë¥¼ ë¬»ëŠ”ê²ƒìœ¼ë¡œ ì‹œì‘í•œë‹¤.

- [n] Comment
> ì§€ê¸ˆê¹Œì§€ ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œëŠ” ë°ì´í„°ì¤‘ì‹¬ì˜ ì„¤ê³„ë¥¼ í•œê²ƒ ê°™ë‹¤. ì´ì±…ì„ ë³´ë©´ì„œ ê³„ì†í•´ì„œ ë¨¸ë¦¬ê°€ ëµí•œë‹¤.

```typescript title="Movie í´ë˜ìŠ¤"

class Movie {
  constructor(
    private _title: string,
    private _runningTime: number,
    private _fee: Money,
    private _discountConditions: Array<DiscountCondition>,

    private _movieType: MovieType,
    private _discountAmount: Money,
    private _discountPercent: number
  ) {}

}
```

> ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì—ì„œ ì œëª©, ìƒì˜ì‹œê°„, ìš”ê¸ˆê¹Œì§€ ê¸°ë³¸ì ì¸ ì •ë³´ëŠ” ì±…ì„ ì¤‘ì‹¬ ì„¤ê³„ì™€ ì—¬ê¸°ê¹Œì§€ë§Œ ê°™ë‹¤.
> ê°€ì¥ í° ì°¨ì´ì ì€ ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì—ì„œëŠ” *í• ì¸ ì¡°ê±´ ëª©ë¡(discountConditions)* ì´ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ *Movie* ì•ˆì— ì§ì ‘ í¬í•¨ë¼ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.


```typescript title="ì—´ê±°í˜• MovieType"
enum MovieType {
  AMOUNT_DISCOUNT = "AMOUNT_DISCOUNT", // ê¸ˆì•¡ í• ì¸ ì •ì±…
  PERCENT_DISCOUNT = "PERCENT_DISCOUNT", // ë¹„ìœ¨ í• ì¸ ì •ì±…
  NONE_DISCOUNT = "NONE_DISCOUNT", // ë¯¸ì ìš©
}
```

- ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì—ì„œ ì˜í™”ì— ì‚¬ìš©ëœ í• ì¸ ì •ì±…ì˜ ì¢…ë¥˜ë¥¼ í•˜ëŠ” ë°©ë²•ì€ ë°”ë¡œ `MovieType` ì´ë‹¤.



# ğŸ¦Š ì„¤ê³„ íŠ¸ë ˆì´ë“œ ì˜¤í”„

```typescript title="ì˜ˆì œì½”ë“œ2"
class Money {
  static readonly ZERO = Money.wons(0);

  constructor(private _amount: number) {}

  static wons(amount: number) {
    return new Money(amount);
  }

  get amount(): number {
    return this._amount;
  }

  plus = (amount: number): Money => {
    return new Money(this._amount + amount);
  };

  minus = (amount: any): Money => {
    return new Money(this._amount - amount);
  };

  times = (percent: number): Money => {
    return new Money(this._amount * percent);
  };

  isLessThan = (other: Money): boolean => {
    return this._amount < other.amount;
  };

  isGreaterThanOrEqual = (other: Money): boolean => {
    return this._amount >= other.amount;
  };
}

class Customer {
  constructor(private _name: string, private _id: string) {}
}

class Screening {
  constructor(
    private _movie: Movie,
    private _sequence: number,
    private _whenScreened: Date
  ) {}

  get movie() {
    return this._movie;
  }

  setMovie(movie: Movie) {
    this._movie = movie;
  }

  get whenScreened() {
    return this._whenScreened;
  }

  setWhenScreened(whenScreened: Date) {
    this._whenScreened = whenScreened;
  }

  get sequence() {
    return this._sequence;
  }

  setSequence(sequence: number) {
    this._sequence = sequence;
  }
}

class Reservation {
  constructor(
    private _customer: Customer,
    private _screening: Screening,
    private _fee: Money,
    private _audienceCount: number
  ) {}

  get costomer() {
    return this._customer;
  }

  setCustomer(customer: Customer) {
    this._customer = customer;
  }

  get screening() {
    return this._screening;
  }

  setScreening(screening: Screening) {
    this._screening = screening;
  }

  get fee() {
    return this._fee;
  }

  setFee(fee: Money) {
    this._fee = fee;
  }

  get audienceCount() {
    return this._audienceCount;
  }

  setAudienceCount(audienceCount: number) {
    this._audienceCount = audienceCount;
  }
}

class DiscountCondition {
  constructor(
    private _type: DiscountConditionType,

    private _sequence: number,

    private _dayOfWeek: number,
    private _startTime: number,
    private _endTime: number
  ) {}

  get type() {
    return this._type;
  }

  setType(type: DiscountConditionType) {
    this._type = type;
  }

  get dayOfWeek() {
    return this._dayOfWeek;
  }

  setDayOfWeek(dayOfWeek: number) {
    this._dayOfWeek = dayOfWeek;
  }

  get startTime() {
    return this._startTime;
  }

  setStartTime(startTime: number) {
    this._startTime = startTime;
  }

  get endTime() {
    return this._endTime;
  }

  setEndTime(endTime: number) {
    this._endTime = endTime;
  }

  get sequence() {
    return this._sequence;
  }

  setSequence(sequence: number) {
    this._sequence = sequence;
  }
}

enum DiscountConditionType {
  SEQUENCE = "SEQUENCE",
  PERIOD = "PERIOD",
}

enum MovieType {
  AMOUNT_DISCOUNT = "AMOUNT_DISCOUNT",
  PERCENT_DISCOUNT = "PERCENT_DISCOUNT",
  NONE_DISCOUNT = "NONE_DISCOUNT",
}

class Movie {
  constructor(
    private _title: string,
    private _runningTime: number,
    private _fee: Money,
    private _discountConditions: Array<DiscountCondition>,

    private _movieType: MovieType,
    private _discountAmount: Money,
    private _discountPercent: number
  ) {}

  get movieType() {
    return this._movieType;
  }

  setMovieType(movieType: MovieType) {
    this._movieType = movieType;
  }

  get fee() {
    return this._fee;
  }

  setFee(fee: Money) {
    this._fee = fee;
  }

  get discountCoditions() {
    return this._discountConditions;
  }

  setDiscountConditions(discountCounditions: Array<DiscountCondition>) {
    this._discountConditions = discountCounditions;
  }

  get discountAmount() {
    return this._discountAmount;
  }

  setDiscountAmount(discountAmount: Money) {
    this._discountAmount = discountAmount;
  }

  get discountPercent() {
    return this._discountPercent;
  }

  setDiscountPercent(discountPercent: number) {
    this._discountPercent = discountPercent;
  }
}

class ReservationAgency {
  reserve(
    screening: Screening,
    customer: Customer,
    audienceCount: number
  ): Reservation {
    const movie: Movie = screening.movie;

    let discountable: boolean = false;
    for (let condition of movie.discountCoditions) {
      if (condition.type === DiscountConditionType.PERIOD) {
        discountable =
          screening.whenScreened.getDay() === condition.dayOfWeek &&
          screening.whenScreened.getTime() >= condition.startTime &&
          screening.whenScreened.getTime() <= condition.endTime;
      } else {
        discountable = condition.sequence === screening.sequence;
      }

      if (discountable) {
        break;
      }
    }

    let fee: Money;
    if (discountable) {
      let discountAmount: Money = Money.ZERO;
      switch (movie.movieType) {
        case "AMOUNT_DISCOUNT":
          discountAmount = movie.discountAmount;
          break;
        case "PERCENT_DISCOUNT":
          discountAmount = movie.fee.times(movie.discountPercent);
          break;
        case "NONE_DISCOUNT":
          discountAmount = Money.ZERO;
          break;
      }
      fee = movie.fee.minus(discountAmount);
    } else {
      fee = movie.fee;
    }

    return new Reservation(customer, screening, fee, audienceCount);
  }
}

class Rectangle {
  constructor(
    private _left: number,
    private _top: number,
    private _right: number,
    private _bottom: number
  ) {}

  get left(): number {
    return this._left;
  }
  setLeft(left: number) {
    this._left = left;
  }

  get top(): number {
    return this._top;
  }
  setTop(top: number) {
    this._top = top;
  }

  get right(): number {
    return this._right;
  }
  setRight(right: number) {
    this._right = right;
  }

  get bottom(): number {
    return this._bottom;
  }
  setBottom(bottom: number) {
    this._bottom = bottom;
  }

  enlarge(multiple: number) {
    this._right *= multiple;
    this._bottom *= multiple;
  }
}

class AnyClass {
  anyMethod(rectangle: Rectangle, multiple: number) {
    rectangle.setRight(rectangle.right * multiple);
    rectangle.setBottom(rectangle.right * multiple);
  }
}
```

> ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì™€ ì±…ì„ ì¤‘ì‹¬ ì„¤ê³„ì˜ ì¥ë‹¨ì  ë¹„êµë¥¼ ìœ„í•œ 
> ìº¡ìŠí™”, ì‘ì§‘ë„, ê²°í•©ë„ë¥¼ ì´ìš©í•´ ë¹„êµ

## ìº¡ìŠí™”
- ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì„ ê°ì²´ ë‚´ë¶€ë¡œ ìˆ¨ê¸°ëŠ” ì¶”ìƒí™” ê¸°ë²•.
- ë³€ê²½ ë  ìˆ˜ ìˆëŠ” ì–´ë–¤ ê²ƒì´ë¼ë„ ìº¡ìŠí™” í•´ì•¼ í•œë‹¤.
- ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì€ ë‚´ë¶€ì— ìˆ¨ê¸°ê³  ì™¸ë¶€ì—ì„œ ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ë¶€ë¶„ë§Œ ê³µê°œí•¨ìœ¼ë¡œì¨ ë³€ê²½ì˜ ì—¬íŒŒë¥¼ í†µì œí•  ìˆ˜ ìˆë‹¤.
- ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì„ *êµ¬í˜„* , ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ë¶€ë¶„ì„ *ì¸í„°í˜ì´ìŠ¤* 
- ë³€ê²½ì˜ ì •ë„ì— ë”°ë¼ êµ¬í˜„ê³¼ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ê³  ì™¸ë¶€ì—ì„œ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë„ë¡ ê´€ê³„ë¥¼ ì¡°ì ˆí•˜ëŠ” ê²ƒì´ë‹¤.

## ì‘ì§‘ë„ì™€ ê²°í•©ë„
#ê°ì²´ì§€í–¥/coupling-ê²°í•©ë„ , #ê°ì²´ì§€í–¥/cohesion-ì‘ì§‘ë„
- ì‘ì§‘ë„ : ëª¨ë“ˆì— í¬í•¨ëœ ë‚´ë¶€ ìš”ì†Œë“¤ì´ ì—°ê´€ë¼ ìˆëŠ” ì •ë„.
	- ê°ì²´ì§€í–¥ì˜ ê´€ì ì—ì„œ ì‘ì§‘ë„ëŠ” ê°ì²´ ë˜ëŠ” í´ë˜ìŠ¤ì— ì–¼ë§ˆë‚˜ ê´€ë ¨ ë†’ì€ ì±…ì„ì„ í• ë‹¹í–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
- ê²°í•©ë„: ì˜ì¡´ì„±ì˜ ì •ë„ë¥¼ ë‚˜íƒ€ë‚´ë©° ë‹¤ë¥¸ ëª¨ë“ˆì— ëŒ€í•´ ì–¼ë§ˆë‚˜ ë§ì€ ì§€ì‹ì„ ê°–ê³  ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
	- ê°ì²´ì§€í–¥ì˜ ê´€ì ì—ì„œ ê²°í•©ë„ëŠ” ê°ì²´ ë˜ëŠ” í´ë˜ìŠ¤ê°€ í˜‘ë ¥ì— í•„ìš”í•œ ì ì ˆí•œ ìˆ˜ì¤€ì˜ ê´€ê³„ë§Œì„ ìœ ì§€í•˜ê³  ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

### ë³€ê²½ì˜ ê´€ì ì—ì„œ ì‘ì§‘ë„
> ë³€ê²½ì˜ ê´€ì ì—ì„œ ì‘ì§‘ë„ë€ *ë³€ê²½ì´ ë°œìƒí•  ë•Œ ëª¨ë“ˆ ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ë³€ê²½ì˜ ì •ë„* 

- í•˜ë‚˜ì˜ ë³€ê²½ì„ ìˆ˜ìš©í•˜ê¸° ìœ„í•´ ëª¨ë“ˆ ì „ì²´ê°€ í•¨ê»˜ ë³€ê²½ëœë‹¤ë©´ ì‘ì§‘ë„ê°€ ë†’ë‹¤.
- ëª¨ë“ˆ ì¼ë¶€ë§Œ ë³€ê²½ëœë‹¤ë©´ ì‘ì§‘ë„ê°€ ë‚®ë‹¤.
- í•˜ë‚˜ì˜ ë³€ê²½ì— ëŒ€í•´ í•˜ë‚˜ì˜ ëª¨ë“ˆë§Œ ë³€ê²½ëœë‹¤ë©´ ì‘ì§‘ë„ê°€ ë†’ë‹¤.
- ë‹¤ìˆ˜ì˜ ëª¨ë“ˆì´ í•¨ê»˜ ë³€ê²½ë¼ì•¼ í•œë‹¤ë©´ ì‘ì§‘ë„ê°€ ë‚®ë‹¤.


- [n] Comment
> ì˜ˆë¥¼ ë“¤ì–´ feedì— ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•´ feed ëª¨ë“ˆì„ ìˆ˜ì • í•  ë•Œ feed ëª¨ë“ˆë§Œ ë³€ê²½ëœë‹¤ë©´ ì‘ì§‘ë„ê°€ ë†’ë‹¤.
> feed ëª¨ë“ˆê³¼ member ëª¨ë“ˆì„ ìˆ˜ì • í•´ì•¼ ë˜ë©´ ì‘ì§‘ë„ê°€ ë‚®ë‹¤.

### ë³€ê²½ì˜ ê´€ì ì—ì„œ ê²°í•©ë„
> ë³€ê²½ì˜ ê´€ì ì—ì„œ ê²°í•©ë„ë€ *í•œ ëª¨ë“ˆì´ ë³€ê²½ë˜ê¸° ìœ„í•´ì„œ ë‹¤ë¥¸ ëª¨ë“ˆì˜ ë³€ê²½ì„ ìš”êµ¬í•˜ëŠ” ì •ë„* 

- í•˜ë‚˜ì˜ ëª¨ë“ˆì„ ìˆ˜ì •í•  ë•Œ ì–¼ë§ˆë‚˜ ë§ì€ ëª¨ë“ˆì„ í•¨ê»˜ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
- ê²°í•©ë„ê°€ ë†’ì„ìˆ˜ë¡ í•¨ê»˜ ë³€ê²½í•´ì•¼ í•˜ëŠ” ëª¨ë“ˆì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì— ë³€ê²½í•˜ê¸°ê°€ ì–´ë µë‹¤.
- ë‚´ë¶€ êµ¬í˜„ì„ ë³€ê²½ í–ˆì„ ë•Œ ì´ê²ƒì´ ë‹¤ë¥¸ ëª¨ë“ˆì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²½ìš°ì—ëŠ” ë‘ ëª¨ë“ˆ ì‚¬ì´ì˜ ê²°í•©ë„ê°€ ë†’ë‹¤ê³  í‘œí˜„í•œë‹¤.
- Public interfaceë¥¼ ìˆ˜ì • í–ˆì„ ë•Œë§Œ ë‹¤ë¥¸ ëª¨ë“ˆì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²½ìš°ì—ëŠ” ê²°í•©ë„ê°€ ë‚®ë‹¤ê³  í‘œí˜„í•œë‹¤.
- í´ë˜ìŠ¤ì˜ êµ¬í˜„ì´ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ ë‚®ì€ ê²°í•©ë„ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

- [n] Comment
- ì˜ˆì‹œ: ì‡¼í•‘ëª° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²°ì œ ê¸°ëŠ¥
### 1. **ë‚®ì€ ê²°í•©ë„**
- **ì„¤ëª…**: `PaymentService`, `OrderService`, `HistoryService` ëª¨ë“ˆë“¤ì´ ê°ìì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ë©´ì„œ, ì„œë¡œì˜ ë‚´ë¶€ êµ¬í˜„ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í†µì‹ í•˜ë„ë¡ ì„¤ê³„í•˜ì—¬ ê²°í•©ë„ë¥¼ ë‚®ì¶¥ë‹ˆë‹¤.
- **ì˜ˆì‹œ**:
    
    - `PaymentService`ëŠ” ê²°ì œ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.
    - `OrderService`ëŠ” ê²°ì œ í›„ ì£¼ë¬¸ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
    - `HistoryService`ëŠ” ê²°ì œ ê¸°ë¡ì„ ì €ì¥í•©ë‹ˆë‹¤.
    
> ì´ë•Œ `PaymentService`ê°€ ê²°ì œë¥¼ ì™„ë£Œí•œ í›„, `OrderService`ì—ê²Œ ì£¼ë¬¸ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ë¼ê³  ìš”ì²­í•  ë•Œ, `PaymentService`ëŠ” `OrderService`ì˜ ë‚´ë¶€ êµ¬í˜„ì„ ëª°ë¼ë„ ë©ë‹ˆë‹¤. ëŒ€ì‹ , `OrderService`ê°€ ì œê³µí•˜ëŠ” ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤(API)ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ `OrderService`ì˜ ë‚´ë¶€ê°€ ë³€ê²½ë˜ë”ë¼ë„ `PaymentService`ëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šìœ¼ë©°, ì´ê²ƒì´ ë‚®ì€ ê²°í•©ë„ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

### 2. **ë†’ì€ ì‘ì§‘ë„**
- **ì„¤ëª…**: `PaymentService` ëª¨ë“ˆì€ ê²°ì œì™€ ê´€ë ¨ëœ ëª¨ë“  ë¡œì§ì„ ìì²´ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì¦‰, ê²°ì œ ì²˜ë¦¬, ê²°ì œ ìƒíƒœ ì—…ë°ì´íŠ¸, ê²°ì œ ê¸°ë¡ ì €ì¥ ë“±ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆì— ì§‘ì¤‘ì‹œí‚¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê° ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ëª¨ë“ˆë¡œ ë‚˜ëˆ„ì–´ì„œ ì‘ì§‘ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.
- **ì˜ˆì‹œ**:
    - `PaymentService`ëŠ” ê²°ì œ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ê³ , ê²°ì œ ë°©ë²•ì— ë”°ë¼ `KakaoPaymentService`, `NaverPaymentService`ì™€ ê°™ì€ í•˜ìœ„ ëª¨ë“ˆì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - **ì¤‘ìš”**: ë†’ì€ ì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ `PaymentService`ê°€ ëª¨ë“  ê²°ì œ ë°©ë²•ì— ëŒ€í•œ ì„¸ë¶€ ë¡œì§ì„ ì²˜ë¦¬í•˜ì§€ ì•Šê³ , ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ í•˜ìœ„ ëª¨ë“ˆ(`GooglePaymentService` ë“±)ì„ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì´ ë°©ì‹ì€ ê²°ì œì™€ ê´€ë ¨ëœ ë¡œì§ì´ íŠ¹ì • ê²°ì œ ë°©ë²•ì— ì¢…ì†ë˜ì§€ ì•Šê³ , `PaymentService`ê°€ ê° ê²°ì œ ëª¨ë“ˆì„ í†µí•© ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì— ì‘ì§‘ë„ê°€ ë†’ì€ ê²ƒì…ë‹ˆë‹¤.

> ë”°ë¼ì„œ, ê²°ì œ ê´€ë ¨ ë¡œì§ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆì— ëª¨ë‘ í¬í•¨ì‹œí‚¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê° ì—­í• ë³„ë¡œ ëª¨ë“ˆì„ ë‚˜ëˆ„ì–´ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ë†’ì€ ì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ë©´ì„œ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ì¢‹ì€ ì„¤ê³„ì…ë‹ˆë‹¤.

**ìš”ì•½**:
- **ë‚®ì€ ê²°í•©ë„**: ëª¨ë“ˆë“¤ì´ ì„œë¡œ ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í†µì‹ í•˜ì—¬ ë‚´ë¶€ êµ¬í˜„ì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•©ë‹ˆë‹¤.
- **ë†’ì€ ì‘ì§‘ë„**: `PaymentService`ëŠ” ëª¨ë“  ê²°ì œ ê´€ë ¨ ë¡œì§ì„ ëª¨ë“ˆì— ì§‘ì¤‘ì‹œí‚¤ì§€ ì•Šê³ , ê° ê²°ì œ ë°©ë²•ì— ë”°ë¼ í•˜ìœ„ ëª¨ë“ˆì„ ë§Œë“¤ì–´ ê´€ë¦¬í•˜ì—¬ ì‘ì§‘ë„ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.


### ê²°ë¡ 
- ì‘ì§‘ë„ì™€ ê²°í•©ë„ëŠ” ë³€ê²½ê³¼ ê´€ë ¨ì´ ê¹Šë‹¤.
- ìº¡ìŠí™”ì˜ ì •ë„ê°€ ì‘ì§‘ë„ì™€ ê²°í•©ë„ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

# ğŸ¦ ë°ì´í„° ì¤‘ì‹¬ì˜ ì˜í™” ì˜ˆë§¤ ì‹œìŠ¤í…œì˜ ë¬¸ì œì 
## ìº¡ìŠí™” ìœ„ë°˜
```typescript title="Movie í´ë˜ìŠ¤"
class Movie {
  constructor(
    private _fee: Money,

  ) {}

  get fee() {
    return this._fee;
  }

  set Fee(fee: Money) {
    this._fee = fee;
  }

  get discountCoditions() {
    return this._discountConditions;
  }
  
}
```

> ë°ì´í„° ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„í•œ `Movie` í´ë˜ìŠ¤ë¥¼ ë³´ë©´ ì˜¤ì§ ë©”ì„œë“œë¥¼ í†µí•´ì„œë§Œ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
> ìº¡ìŠí™”ê°€ ì˜ë˜ì–´ ìˆëŠ”ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‚¬ì‹¤ Money íƒ€ì…ì˜ feeë¼ëŠ” ì´ë¦„ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ì¡´ì¬í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ì— ë…¸ê³¨ì ìœ¼ë¡œ ë“œëŸ¬ë‚¸ë‹¤.

- ì¶”ì¸¡ì— ì˜í•œì„¤ê³„ ì „ëµ(design-by-guessing strategy) : ì ‘ê·¼ìì™€ ìˆ˜ì •ìì— ê³¼ë„í•˜ê²Œ ì˜ì¡´í•˜ëŠ” ì„¤ê³„ ë°©ì‹
- í•´ë‹¹ ì „ëµì€ ê°ì²´ê°€ ì‚¬ìš©ë  í˜‘ë ¥ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ê°ì²´ê°€ ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆì„ê²ƒì´ë¼ëŠ” ë§‰ì—°í•œ ì¶”ì¸¡ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë¥¼ ì§„í–‰
- í•´ë‹¹ ì „ëµìœ¼ë¡œ ì¸í•´ í”„ë¡œê·¸ë˜ë¨¸ëŠ” ë‚´ë¶€ ìƒíƒœë¥¼ ë“œëŸ¬ë‚´ëŠ” ë©”ì„œë“œë¥¼ ìµœëŒ€í•œ ë§ì´ì¶”ê°€ í•´ì•¼ í•œë‹¤ëŠ” ì••ë°•ê°ì— ì‹œë‹¬ë¦´ ìˆ˜ ë°–ì— ì—†ìœ¼ë©° ê²°ê³¼ì ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ë‚´ë¶€ êµ¬í˜„ì´ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ì— ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ì–´ ìº¡ìŠí™”ì˜ ì›ì¹™ì„ ìœ„ë°˜í•˜ëŠ” ë³€ê²½ì— ì·¨ì•½í•œ ì„¤ê³„ê°€ ëœë‹¤.


## ë†’ì€ ê²°í•©ë„
- ê°ì²´ ë‚´ë¶€ì˜ êµ¬í˜„ì´ ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ì— ë“œëŸ¬ë‚˜ê²Œ ë˜ê³  í´ë¼ì´ì–¸íŠ¸ê°€ êµ¬í˜„ì— ê°•í•˜ê²Œ ê²°í•©ëœë‹¤.
- ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ëŠ” ê°ì²´ì˜ ìº¡ìŠí™”ë¥¼ ì•½í™”ì‹œí‚¤ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ê°€ ê°ì²´ì˜ êµ¬í˜„ì— ê°•í•˜ê²Œ ê²°í•©ëœë‹¤.
- ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ëŠ” ì—¬ëŸ¬ ë°ì´í„° ê°ì²´ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ì œì–´ ë¡œì§ì´ íŠ¹ì • ê°ì²´ ì•ˆì— ì§‘ì¤‘ë˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ì œì–´ ê°ì²´ê°€ ë‹¤ìˆ˜ì˜ ë°ì´í„° ê°ì²´ì— ê°•í•˜ê²Œ ê²°í•©ëœë‹¤ëŠ” ê²ƒì´ë‹¤. (ì–´ë–¤ ë°ì´í„° ê°ì²´ë¥¼ ë³€ê²½í•˜ë”ë¼ë„ ì œì–´ ê°ì²´ë¥¼ í•¨ê»˜ ë³€ê²½ í•´ì•¼ í•¨.)
- ì‹œìŠ¤í…œì„ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì˜ì¡´ì„± ë©ì–´ë¦¬ë¡œ ë§Œë“¤ì–´ë²„ë¦¬ê¸° ë•Œë¬¸ì— ì–´ë–¤ ë³€ê²½ì´ë¼ë„ ë°œìƒí•˜ë©´ ì‹œìŠ¤í…œ ì „ì²´ê°€ ìš”ë™ì¹œë‹¤.
## ë‚®ì€ ì‘ì§‘ë„
> ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ” ì½”ë“œê°€ í•˜ë‚˜ì˜ ëª¨ë“ˆ ì•ˆì— ê³µì¡´í•  ë•Œ ëª¨ë“ˆì˜ ì‘ì§‘ë„ê°€ ë‚®ë‹¤ê³  ë§í•œë‹¤.

- ë³€ê²½ì˜ ì´ìœ ê°€ ì„œë¡œ ë‹¤ë¥¸ ì½”ë“œë“¤ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆ ì•ˆì— ë­‰ì³ ë†“ì•˜ê¸° ë•Œë¬¸ì— ë³€ê²½ê³¼ ì•„ë¬´ ìƒê´€ì´ ì—†ëŠ” ì½”ë“œë“¤ì´ ì˜í–¥ì„ ë°›ê²Œ ëœë‹¤.
- í•˜ë‚˜ì˜ ìš”êµ¬ì‚¬í•­ ë³€ê²½ì„ ë°˜ì˜í•˜ê¸° ìœ„í•´ ë™ì‹œì— ì—¬ëŸ¬ ëª¨ë“ˆì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤.


# ğŸ¼ ììœ¨ì ì¸ ê°ì²´ë¥¼ í–¥í•´

## ìº¡ìŠí™”ë¥¼ ì§€ì¼œë¼

```typescript title="Rectangle ì˜ˆì‹œ"

class Rectangle {
  constructor(
    private _left: number,
    private _top: number,
    private _right: number,
    private _bottom: number
  ) {}

  get left(): number {
    return this._left;
  }
  setLeft(left: number) {
    this._left = left;
  }

  get top(): number {
    return this._top;
  }
  setTop(top: number) {
    this._top = top;
  }

  get right(): number {
    return this._right;
  }
  setRight(right: number) {
    this._right = right;
  }

  get bottom(): number {
    return this._bottom;
  }
  setBottom(bottom: number) {
    this._bottom = bottom;
  }
}

class AnyClass {
  anyMethod(rectangle: Rectangle, multiple: number) {
    rectangle.setRight(rectangle.right * multiple);
    rectangle.setBottom(rectangle.right * multiple);
    // ...
  }
}
```

> í•´ë‹¹ ì˜ˆì œ ì½”ë“œì˜ ë¬¸ì œì 

1. `ì½”ë“œ ì¤‘ë³µ` ì´ ë°œìƒ í•  í™•ë¥ ì´ ë†’ë‹¤.
2. `ë³€ê²½ì— ì·¨ì•½í•˜ë‹¤` 

```typescript title="ê°œì„  ì½”ë“œ"
class Rectangle {
  constructor(
    private _left: number,
    private _top: number,
    private _right: number,
    private _bottom: number
  ) {}

  get left(): number {
    return this._left;
  }
  setLeft(left: number) {
    this._left = left;
  }

  get top(): number {
    return this._top;
  }
  setTop(top: number) {
    this._top = top;
  }

  get right(): number {
    return this._right;
  }
  setRight(right: number) {
    this._right = right;
  }

  get bottom(): number {
    return this._bottom;
  }
  setBottom(bottom: number) {
    this._bottom = bottom;
  }

  enlarge(multiple: number) {
    this._right *= multiple;
    this._bottom *= multiple;
  }
}
```

> `Rectangle` ì„ ë³€ê²½í•˜ëŠ” ì£¼ì²´ë¥¼ ì™¸ë¶€ì˜ ê°ì²´ì—ì„œ `Rectangle` ë¡œ ì´ë™ ì‹œì¼°ë‹¤.
> ìì‹ ì˜ í¬ê¸°ë¥¼ `Rectangle` ìŠ¤ìŠ¤ë¡œ ì¦ê°€ì‹œí‚¤ë„ë¡ ì±…ì„ì„ ì´ë™ì‹œí‚¨ê²ƒì´ë‹¤. ê°ì²´ê°€ ìê¸° ìŠ¤ìŠ¤ë¡œ ì±…ì„ì„ ì§€ê²Œ ë§Œë“¤ì—ˆë‹¤.


## ìŠ¤ìŠ¤ë¡œ ìì‹ ì˜ ë°ì´í„°ë¥¼ ì±…ì„ì§€ëŠ” ê°ì²´
> ê°ì²´ë¥¼ ì„¤ê³„ í•  ë•Œ "ì´ ê°ì²´ê°€ ì–´ë–¤ ë°ì´í„°ë¥¼ í¬í•¨í•´ì•¼ í•˜ëŠ”ê°€?" ë¼ëŠ” ì§ˆë¬¸ì„ ë‘ê°€ì§€ ê°œë³„ ì§ˆë¬¸ìœ¼ë¡œ ë¶„ë¦¬í•´ì•¼ í•œë‹¤.

- ì´ ê°ì²´ê°€ ì–´ë–¤ ë°ì´í„°ë¥¼ í¬í•¨í•´ì•¼ í•˜ëŠ”ê°€?
- ì´ ê°ì²´ê°€ ë°ì´í„°ì— ëŒ€í•´ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì˜¤í¼ë ˆì´ì…˜ì€ ë¬´ì—‡ì¸ê°€?

```typescript title="ì˜ˆì œì½”ë“œ3"
class Money {
  static readonly ZERO = Money.wons(0);

  constructor(private _amount: number) {}

  static wons(amount: number) {
    return new Money(amount);
  }

  get amount(): number {
    return this._amount;
  }

  plus = (amount: number): Money => {
    return new Money(this._amount + amount);
  };

  minus = (amount: any): Money => {
    return new Money(this._amount - amount);
  };

  times = (percent: number): Money => {
    return new Money(this._amount * percent);
  };

  isLessThan = (other: Money): boolean => {
    return this._amount < other.amount;
  };

  isGreaterThanOrEqual = (other: Money): boolean => {
    return this._amount >= other.amount;
  };
}

class Customer {
  constructor(private _name: string, private _id: string) {}
}

class Screening {
  constructor(
    private _movie: Movie,
    private _sequence: number,
    private _whenScreened: Date
  ) {}

  get movie() {
    return this._movie;
  }

  setMovie(movie: Movie) {
    this._movie = movie;
  }

  get whenScreened() {
    return this._whenScreened;
  }

  setWhenScreened(whenScreened: Date) {
    this._whenScreened = whenScreened;
  }

  get sequence() {
    return this._sequence;
  }

  setSequence(sequence: number) {
    this._sequence = sequence;
  }

  calculateFee(audienceCount: number) {
    switch (this.movie.movieType) {
      case "AMOUNT_DISCOUNT":
        if (this.movie.isDiscountable(this.whenScreened, this.sequence)) {
          return this.movie.calculateAmountDiscountedFee().times(audienceCount);
        }
        break;
      case "PERCENT_DISCOUNT":
        if (this.movie.isDiscountable(this.whenScreened, this.sequence)) {
          return this.movie
            .calculatePercentDiscountedFee()
            .times(audienceCount);
        }
        break;
      case "NONE_DISCOUNT":
        return this.movie.calculateNoneDiscountedFee().times(audienceCount);
    }
    return this.movie.calculateNoneDiscountedFee().times(audienceCount);
  }
}

class Reservation {
  constructor(
    private _customer: Customer,
    private _screening: Screening,
    private _fee: Money,
    private _audienceCount: number
  ) {}

  get costomer() {
    return this._customer;
  }

  setCustomer(customer: Customer) {
    this._customer = customer;
  }

  get screening() {
    return this._screening;
  }

  setScreening(screening: Screening) {
    this._screening = screening;
  }

  get fee() {
    return this._fee;
  }

  setFee(fee: Money) {
    this._fee = fee;
  }

  get audienceCount() {
    return this._audienceCount;
  }

  setAudienceCount(audienceCount: number) {
    this._audienceCount = audienceCount;
  }
}

const IllegalArgumentException = () => {
  return "";
};

class DiscountCondition {
  constructor(
    private _type: DiscountConditionType,

    private _sequence: number,

    private _dayOfWeek: number,
    private _startTime: number,
    private _endTime: number
  ) {}

  isDiscountableForWhen(dayOfWeek: number, time: number): boolean {
    if (this.type !== DiscountConditionType.PERIOD) {
      throw IllegalArgumentException();
    }

    return (
      this.dayOfWeek === dayOfWeek &&
      this.startTime >= time &&
      this.endTime <= time
    );
  }

  isDiscountableForSequence(sequence: number): boolean {
    if (this.type !== DiscountConditionType.PERIOD) {
      throw IllegalArgumentException();
    }

    return this.sequence === sequence;
  }

  get type() {
    return this._type;
  }

  setType(type: DiscountConditionType) {
    this._type = type;
  }

  get dayOfWeek() {
    return this._dayOfWeek;
  }

  setDayOfWeek(dayOfWeek: number) {
    this._dayOfWeek = dayOfWeek;
  }

  get startTime() {
    return this._startTime;
  }

  setStartTime(startTime: number) {
    this._startTime = startTime;
  }

  get endTime() {
    return this._endTime;
  }

  setEndTime(endTime: number) {
    this._endTime = endTime;
  }

  get sequence() {
    return this._sequence;
  }

  setSequence(sequence: number) {
    this._sequence = sequence;
  }
}

enum DiscountConditionType {
  SEQUENCE = "SEQUENCE",
  PERIOD = "PERIOD",
}

enum MovieType {
  AMOUNT_DISCOUNT = "AMOUNT_DISCOUNT",
  PERCENT_DISCOUNT = "PERCENT_DISCOUNT",
  NONE_DISCOUNT = "NONE_DISCOUNT",
}

class Movie {
  constructor(
    private _title: string,
    private _runningTime: number,
    private _fee: Money,
    private _discountConditions: Array<DiscountCondition>,

    private _movieType: MovieType,
    private _discountAmount: Money,
    private _discountPercent: number
  ) {}

  get movieType() {
    return this._movieType;
  }

  calculateAmountDiscountedFee(): Money {
    if (this.movieType !== MovieType.AMOUNT_DISCOUNT) {
      throw IllegalArgumentException();
    }

    return this.fee.minus(this.discountAmount);
  }

  calculatePercentDiscountedFee(): Money {
    if (this.movieType !== MovieType.PERCENT_DISCOUNT) {
      throw IllegalArgumentException();
    }

    return this.fee.minus(this.fee.times(this.discountPercent));
  }

  calculateNoneDiscountedFee(): Money {
    if (this.movieType !== MovieType.NONE_DISCOUNT) {
      throw IllegalArgumentException();
    }

    return this.fee;
  }

  isDiscountable(whenScreened: Date, sequence: number) {
    for (let condition of this._discountConditions) {
      if (condition.type === DiscountConditionType.PERIOD) {
        if (
          condition.isDiscountableForWhen(
            whenScreened.getDay(),
            whenScreened.getTime()
          )
        ) {
          return true;
        }
      } else {
        if (condition.isDiscountableForSequence(sequence)) {
          return true;
        }
      }

      return false;
    }
    return false;
  }

  setMovieType(movieType: MovieType) {
    this._movieType = movieType;
  }

  get fee() {
    return this._fee;
  }

  setFee(fee: Money) {
    this._fee = fee;
  }

  get discountCoditions() {
    return this._discountConditions;
  }

  setDiscountConditions(discountCounditions: Array<DiscountCondition>) {
    this._discountConditions = discountCounditions;
  }

  get discountAmount() {
    return this._discountAmount;
  }

  setDiscountAmount(discountAmount: Money) {
    this._discountAmount = discountAmount;
  }

  get discountPercent() {
    return this._discountPercent;
  }

  setDiscountPercent(discountPercent: number) {
    this._discountPercent = discountPercent;
  }
}

class ReservationAgency {
  reserve(
    screening: Screening,
    customer: Customer,
    audienceCount: number
  ): Reservation {
    const fee: Money = screening.calculateFee(audienceCount);

    return new Reservation(customer, screening, fee, audienceCount);
  }
}
```
## ìº¡ìŠí™” ìœ„ë°˜

- ë‚´ë¶€ êµ¬í˜„ì˜ ë³€ê²½ì´ ì™¸ë¶€ë¡œ í¼ì ¸ë‚˜ê°€ëŠ” íŒŒê¸‰íš¨ê³¼(ripple effect)ëŠ” ìº¡ìŠí™”ê°€ ë¶€ì¡±í•˜ë‹¤ëŠ” ëª…ë°±í•œ ì¦ê±°ë‹¤.
## ë†’ì€ ê²°í•©ë„
- ìœ ì—°í•œ ì„¤ê³„ë¥¼ ì°½ì¡°í•˜ê¸° ìœ„í•´ì„œëŠ” *ìº¡ìŠí™”* ë¥¼ ì„¤ê³„ì˜ ì²« ë²ˆì§¸ ëª©í‘œë¡œ ì‚¼ì•„ì•¼ í•œë‹¤.

## ë‚®ì€ ì‘ì§‘ë„
- ì‘ì§‘ë„ê°€ ë‚®ì€ ì´ìœ ëŠ” *ìº¡ìŠí™”* ë¥¼ ìœ„ë°˜í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

# ğŸŒ» ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì˜ ë¬¸ì œì  (ê²°ë¡ )
- ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ë„ˆë¬´ ì´ë¥¸ ì‹œê¸°ì— ë°ì´í„°ì— ê´€í•´ ê²°ì •í•˜ë„ë¡ ê°•ìš”í•œë‹¤.
	- ê°ì²´ì˜ ë‚´ë¶€ êµ¬í˜„ì´ ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì–´ì§€ëŸ½íˆê³  ê°ì²´ì˜ ì‘ì§‘ë„ì™€ ê²°í•©ë„ì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹˜ê¸° ë•Œë¬¸ì— ë³€ê²½ì´ ì·¨ì•½í•œ ì½”ë“œë¥¼ ë‚³ê²Œ ëœë‹¤.
- ë°ì´í„° ì¤‘ì‹¬ ì„¤ê³„ì—ì„œëŠ” í˜‘ë ¥ì´ë¼ëŠ” ë¬¸ë§¥ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ê°ì²´ë¥¼ ê³ ë¦½ì‹œí‚¨ ì±„ ì˜¤í¼ë ˆì´ì…˜ì„ ê²°ì •í•œë‹¤.
	- ê°ì²´ ë‚´ë¶€ êµ¬í˜„ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ í˜‘ë ¥í•˜ëŠ” ê°ì²´ ëª¨ë‘ê°€ ì˜í–¥ì„ ë°›ì•˜ë‹¤.

