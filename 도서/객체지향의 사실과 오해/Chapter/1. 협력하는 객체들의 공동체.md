
## 협력하는 사람들
![](../images/image04.png)
### 사람의 역할의 특징
- 여러 사람이 동일한 역할을 수행할 수 있다.
- 역할은 대체 가능성을 의미한다.
- 책임을 수행하는 방법은 자율적으로 선택할 수 있다.
- 한 사람이 동시에 여러 역할을 수행할 수 있다.

> 동일한 요청에 대해 서로 다른 방식으로 응돕할 수 있는 능력을 *다형성(polymorphism)*  이라고 한다. 


## 역할, 책임, 협력
> 실세계의 커피를 주문하는 과정을 객체지향의 핵심적이고 중요한 개념을 대부분 포함하고 있다.
> 사람 *(객체)* ,에이전트의 요청 *(메세지)* , 에이전트가 요청을 처리하는 방법 *(메서드)* 

> 사람들의 *협력* 이 객체들의 *협력* 과 다른 점이라면 사람들의 경우 공통의 목표를 달성하기 위해 협력하는 데 비해 객체들의 경우에는 애플리케이션의 기능을 구현하기 위해 협력한다.

> 시스템은 역할과 책임을 수행하는 객체로 분할되고 시스템의 기능은 객체 간의 연쇄적인 요청과 응답의 흐름으로 구성된 협력으로 구현된다.

> *책임* 은 객체지향 설계의 품질을 결정하는 가장 중요한 요소다.
> *역할* 은 관련성 높은 책임의 집합이다.

- 역할
    - **커피를 주문하는** 손님
    - **주문을 받는** 캐시어
    - **커피를 만드는** 바리스타
- 책임
    - 손님 : 커피를 주문한다.
    - 캐시어 : 커피 주문을 받는다.
    - 바리스타 : 커피를 만든다.
- 협력
    - 모두가 **커피 주문**이라는 협력에 참여하고 있다.
    - 만약 손님이 커피를 받고 카페를 나가면 협력 관계가 종료된다.

### 객체의 역할의 특징
- 여러 객체가 동일한 역할을 수행할 수 있다.
- 역할은 대체 가능성을 의미한다.
- 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
- 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

> 객체의 역할은 사람의 역할과 유사하다.


> **역할은 유연하고 재사용 가능한 협력 관계를 구축하는 데 중요한 설계 요소다.** 
> 대체 가능한 역할과 책임은 객체지향 패러다임의 중요한 기반을 제공하는 다형성과도 깊이 연관돼 있다.

## 협력 속에 사는 객체

> 일반적으로 객체는 다른 객체와의 *협력* 을 통해 기능을 구현하게 된다.
> 객체지향 애플리케이션의 아름다움을 결정하는 것이 *협력* 이라면 *협력* 이 얼마나 조화를 이루는지를 결정하는 것은 객체다.
> **협력의 품질을 결정하는 것은 객체의 품질이다** 


### 객체의 두 가지 덕목
1. 객체는 충분히 *"협력적"*  이어야 한다.

> 객체는 다른 객체의 요청에 충실히 귀 기울이고 다른 객체에게 적극적으로 도움을 요청할 정도로 열린 마음을 지녀야 한다.
> 객체는 다른 객체에 요청에 응답할 뿐이고, 어떤 방식으로 응답할지는 객체 스스로 판단하고 결정한다.
> 요청에 응할지 여부도 객체 스스로 결정 할 수 있다.

2. 객체가 충분히 *"자율적"*  이어야 한다.

> "자율적" 이라는 단어의 뜻은 '자기 스스로의 원칙에 따라 어떤 일을 하거나 자기 스스로를 통제하여 절제하는 것'


> **객체지향 설계의 묘미는 다른 객체와 조화롭게 협력할 수 있을 만큼 충분히 개방적인 동시에 협력에 참여하는 방법을 스스로 결정할 수 있을 만큼 충분히 자율적인 객체들의 공동체를 설계하는 데 있다.** 


#### 상태와 행동을 함께 지닌 자율적인 객체
> 객체를 *상태(state)* 와 *행동(behavior)* 을 함께 지닌 실체라고 정의한다.
> 객체가 협력에 참여하기 위해 어떤 행동을 해야 한다면 그 행동을 하는 데 필요한 상태도 함께 지니고 있어야 한다는 것을 의미한다.
> 객체가 스스로 판단하고 스스로 결정하는 자율적인 존재로 남기 위해서는 필요한 *행동과 상태* 를 함께 지니고 있어야 한다.
> 객체의 자율성은 객체의 내부와 외부를 명확하게 구분하는 것으로부터 나온다.

> 객체의 사적인 부분은 객체 스스로 관리하고 외부에서 일체 간섭할 수 없도록 차단해야 하며, 객체의 외부에서 접근이 허락된 수단을 통해서만 객체와 의사소통해야 한다.
> 객체는 다른 객체가 *무엇(what)* 을 수행하는지는 알 수 있지만 *어떻게(how)* 수행하는지에 대해서는 알 수 없다.

> 커피를 주문하는 협력 과정에 참여한 손님과 캐시어, 바리스타 상황에서
> 객체는 행동을 위해 필요한 상태를 포함하는 동시에 **(바리스타는 커피 제조 방법을 기억하고 있다)**  
> 특정한 행동을 수행하는 방법을 스스로 결정할 수 있어야 한다 **(바리스타는 자신이 알고 있는 방법에 따라 커피를 제조한다)** 
> 따라서 객체는 상태와 행위를 하나의 단위로 묶는 자율적인 존재다.


#### 협력과 메세지
> 객체지향의 세계에서는 오직 한 가지 의사소통 수단만이 존재한다.
> 이를 *메세지* 라고 한다.
> 한 객체가 다른 객체에게 요청하는 것을 메세지를 전송한다고 말하고 다른 객체로부터 요청을 받는 것을 메세지를 수신한다고 말한다.
> **객체지향의 세계에서 협력은 메세지를 전송하는 객체와 메세지를 수신하는 객체 사이의 관계로 구성된다.** 
> 메세지를 전송하는 객체 *송신자(sender)* 메세지를 수신하는 객체를 *수신자(receiver)* 라고 부른다.

#### 메서드와 자율성
> 객체가 수신된 메세지를 처리하는 방법을 *메서드(method)* 라고 부른다.
> **메세지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있다는 점은 다른 프로그래밍 언어와 객체지향 프로그래밍 언어를 구분 짓는 핵심적인 특징 중 하나다** 
> 객체지향의 개념에 비유하면 바리스타로 전달된 커피 제조 요청이 메세지이고 커피를 제조하는 구체적인 방법이 메서드다.

> 외부의 요청이 무엇인지를 표현하는 메세지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리하는 것은 객체의 자율성을 높이는 핵심 매커니즘이다. 이는 *캡슐화(encapsulation)* 라는 개념과도 깊이 관련돼 있다.


## 객체지향의 본질

- 객체지향
    - 시스템을 상호작용하는 *자율적인 객체들의 공동체*  로 바라보고, 객체를 이용해 시스템을 분할하는 방법
- 객체
	- 자율적인 객체 : *상태* 와 *행위* 를 함께 지니며 자기 자신을 책임지는 객체
	- 객체간의 협력 내에서 정해진 *역할* 을 수행하며 역할은 관련된 *책임* 의 집합
- 메세지
	- 다른 객체와 협력하기 위해 메세지를 전송한다.
- 메서드
	- 수신한 객체가 메세지를 처리하는 방법을 *메서드* 라한다.
	- 수신한 객체는 적합한 메서드를 *자율적적으로* 선택하여 처리한다.


### 객체를 지향하라
> 객체지향의 핵심은 클래스가 아니라 **적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축** 하는것이다.
> 클래스는 협력에 참여하는 객체를 만드는데 필요한 구현 메커니즘일 뿐이다.
> *객체의 역할, 책임, 협력* 에 집중하라

