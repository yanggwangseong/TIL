## ğŸ¦ 4-1 (ì•„ì´í…œ31) íƒ€ì… ì£¼ë³€ì— nullê°’ ë°°ì¹˜í•˜ê¸°

```ts
// strictNullChecksê°€ falseì¸ê²ƒì— ì£¼ì˜í•˜ì
// tsConfig: {"strictNullChecks":false}

function extent(nums: number[]) {
  let min, max
  for (const num of nums) {
    if (!min) {
      min = num
      max = num
    } else {
      min = Math.min(min, num)
      max = Math.max(max, num)
    }
  }
  return [min, max]
}

```

> ë¬¸ì œ1 : extent(0, 1, 2)ì˜ ê²°ê³¼ëŠ” `[0, 2]` ê°€ ì•„ë‹ˆë¼ `[1, 2]` ê°€ ë©ë‹ˆë‹¤.
> ì™œëƒí•˜ë©´ if(!min) ì— 0ë„ !minì— í•´ë‹¹í•˜ê¸° ë•Œë¬¸ì—
> ë¬¸ì œ2: nums ë°°ì—´ì´ ë¹„ì–´ ìˆë‹¤ë©´ í•¨ìˆ˜ëŠ” `[undefined, undefined]` ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
> ë²„ê·¸ì™€ í•¨ê»˜ ì„¤ê³„ì  ê²°í•¨ì´ ìˆìŠµë‹ˆë‹¤.

```ts
// tsConfig: {"strictNullChecks": true}
function extent(nums: number[]) {
  let min, max
  for (const num of nums) {
    if (!min) {
      min = num
      max = num
    } else {
      min = Math.min(min, num)
      max = Math.max(max, num)
      // ~~~ Argument of type 'number | undefined' is not
      //     assignable to parameter of type 'number'
    }
  }
  return [min, max]
}
const [min, max] = extent([0, 1, 2])
const span = max - min
// ~~~   ~~~ Object is possibly 'undefined'
```

> strictNullChecks ì˜µì…˜ì„ trueë¡œ ë³€ê²½í•˜ë©´ ë¬¸ì œ1ê³¼ ë¬¸ì œ2ê°€ íƒ€ì…ì²´ì»¤ ì—ëŸ¬ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

```ts
function extent(nums: number[]) {
  let result: [number, number] | null = null
  for (const num of nums) {
    if (!result) {
      result = [num, num]
    } else {
      result = [Math.min(num, result[0]), Math.max(num, result[1])]
    }
  }
  return result
}

// null ì•„ë‹˜ ë‹¨ì–¸(1)ì„ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ ì²˜ë¦¬í•˜ê¸°
const [min, max] = extent([0, 1, 2])!
const span = max - min // OK

// ë‹¨ìˆœ ifë¬¸ìœ¼ë¡œ ê²°ê³¼ ì²˜ë¦¬í•˜ê¸°
const range = extent([0, 1, 2])
if (range) {
  const [min, max] = range
  const span = max - min // OK
}
```

> minê³¼ maxë¥¼ í•˜ë‚˜ì˜ ê°ì²´ì— ë‹´ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•


### null ê³¼ null ì´ ì•„ë‹Œ ê°’ì„ ì„ì–´ì„œ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ì—ì„œë„ ë¬¸ì œê°€ ìƒê¹ë‹ˆë‹¤.

```ts
interface UserInfo {
  name: string
}
interface Post {
  post: string
}
declare function fetchUser(userId: string): Promise<UserInfo>
declare function fetchPostsForUser(userId: string): Promise<Post[]>
class UserPosts {
  user: UserInfo | null
  posts: Post[] | null

  constructor() {
    this.user = null
    this.posts = null
  }

  async init(userId: string) {
    return Promise.all([
      async () => (this.user = await fetchUser(userId)),
      async () => (this.posts = await fetchPostsForUser(userId)),
    ])
  }

  getUserName() {
    // ...?
  }
}
```

> ë‘ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ë¡œë“œë˜ëŠ” ë™ì•ˆ userì™€ posts ì†ì„±ì€ null ìƒíƒœì…ë‹ˆë‹¤.
> ì–´ë–¤ ì‹œì ì—ëŠ” ë‘˜ë‹¤ null ì´ê±°ë‚˜, ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ null ì´ê±°ë‚˜, ë‘˜ë‹¤ null ì´ ì•„ë‹ ê²ƒì…ë‹ˆë‹¤. ì´ ë„¤ ê°€ì§€ ê²½ìš°ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ì†ì„±ê°’ì˜ ë¶ˆí™•ì‹¤ì„±ì´ í´ë˜ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.

```ts
// ê°œì„ ëœ ì„¤ê³„
interface UserInfo {
  name: string
}
interface Post {
  post: string
}
declare function fetchUser(userId: string): Promise<UserInfo>
declare function fetchPostsForUser(userId: string): Promise<Post[]>
class UserPosts {
  user: UserInfo
  posts: Post[]

  constructor(user: UserInfo, posts: Post[]) {
    this.user = user
    this.posts = posts
  }

  static async init(userId: string): Promise<UserPosts> {
    const [user, posts] = await Promise.all([fetchUser(userId), fetchPostsForUser(userId)])
    return new UserPosts(user, posts)
  }

  getUserName() {
    return this.user.name
  }
}
```

> ì´ì œ UserPosts í´ë˜ìŠ¤ëŠ” ì™„ì „íˆ null ì´ ì•„ë‹ˆê²Œ ë˜ì—ˆê³ , ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ê¸° ì‰¬ì›Œì¡ŒìŠµë‹ˆë‹¤.


> ìš”ì•½

- í•œ ê°’ì˜ null ì—¬ë¶€ê°€ ë‹¤ë¥¸ ê°’ì˜ null ì—¬ë¶€ì— ì•”ì‹œì ìœ¼ë¡œ ê´€ë ¨ë˜ë„ë¡ ì„¤ê³„í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.
- API ì‘ì„± ì‹œì—ëŠ” ë°˜í™˜ íƒ€ì…ì„ í° ê°ì²´ë¡œ ë§Œë“¤ê³  ë°˜í™˜ íƒ€ì… ì „ì²´ê°€ nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.ì‚¬ëŒê³¼ íƒ€ì… ì²´ì»¤ ëª¨ë‘ì—ê²Œ ëª…ë£Œí•œ ì½”ë“œê°€ ë  ê²ƒì…ë‹ˆë‹¤.
- í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•ŒëŠ” í•„ìš”í•œ ëª¨ë“  ê°’ì´ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ìƒì„±í•˜ì—¬ nullì´ ì¡´ì¬ í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
- strictNullChecksë¥¼ ì„¤ì •í•˜ë©´ ì½”ë“œì— ë§ì€ ì˜¤ë¥˜ê°€ í‘œì‹œë˜ê² ì§€ë§Œ, null ê°’ê³¼ ê´€ë ¨ëœ ë¬¸ì œì ì„ ì°¾ì•„ë‚¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤.


## ğŸµ 4-2 (ì•„ì´í…œ32) ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ê¸°

### ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ ì‚¬ìš© ì˜ˆì‹œ ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
```ts
type FillPaint = unknown
type LinePaint = unknown
type PointPaint = unknown
type FillLayout = unknown
type LineLayout = unknown
type PointLayout = unknown
interface Layer {
  layout: FillLayout | LineLayout | PointLayout
  paint: FillPaint | LinePaint | PointPaint
}
```

>  layoutì´ LineLayout íƒ€ì…ì´ë©´ì„œ paint ì†ì„±ì´ FillPaint íƒ€ì…ì¸ ê²ƒì€ ë§ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> ì´ëŸ° ì¡°í•©ì„ í—ˆìš©í•œë‹¤ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‹­ìƒì´ê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¤ë£¨ê¸°ë„ ì–´ë ¤ìš¸ê²ƒì´ë‹¤.

```ts
type FillPaint = unknown
type LinePaint = unknown
type PointPaint = unknown
type FillLayout = unknown
type LineLayout = unknown
type PointLayout = unknown
interface FillLayer {
  layout: FillLayout
  paint: FillPaint
}
interface LineLayer {
  layout: LineLayout
  paint: LinePaint
}
interface PointLayer {
  layout: PointLayout
  paint: PointPaint
}
type Layer = FillLayer | LineLayer | PointLayer
```

> ì´ëŸ° í˜•íƒœë¡œ Layerë¥¼ ì •ì˜í•˜ë©´ Layoutê³¼ paint ì†ì„±ì´ ì˜ëª»ëœ ì¡°í•©ìœ¼ë¡œ ì„ì´ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- [n] comment
> ì‹¤ì œë¡œ í”„ë¡œì íŠ¸ ê°œë°œì¤‘ì— ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë  ê²½ìš°ê°€ ë°œìƒí–ˆë‹¤.

```ts
export interface SwiperContainerProps {
	list: MediaInfo[] | ImageGallaryInfo[];
	overrideSwiperOptions?: SwiperOptions;
}
```

> ë¬¼ë¡  í•´ë‹¹ ì½”ë“œì—ì„œ listëŠ” ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ì§€ë§Œ ë‹¤ë¥¸ í”„ë¡œí¼í‹° ì˜µì…˜ì´ 1ê°œë¿ì´ë¼ MediaInfoì´ë©´ì„œ SwiperOptionsì¼ ìˆ˜ ìˆê³ , ImageGallaryInfoì´ë©´ì„œ SwiperOptionsì¼ ìˆœ ìˆì§€ë§Œ ì¶”í›„ í”„ë¡œí¼í‹°ê°€ ì¶”ê°€ë˜ì„œ í™•ì¥ì„±ì„ ê³ ë ¤í•´ì„œ ì¸í„°í˜ì´ìŠ¤ì´ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë³€ê²½ í•´ë³´ì•˜ë‹¤.

```ts
export interface SwiperContainerMediaInfo {
	list: MediaInfo[];
	overrideSwiperOptions?: SwiperOptions;
}

export interface SwiperContainerImagesGallary {
	list: ImageGallaryInfo[];
	overrideSwiperOptions?: SwiperOptions;
}

export type SwiperContainerProps =
| SwiperContainerMediaInfo
| SwiperContainerImagesGallary;
```


### ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ ì‚¬ìš© ì˜ˆì‹œ íƒœê·¸ëœ ìœ ë‹ˆì˜¨ ì‚¬ìš©

```ts
type FillPaint = unknown
type LinePaint = unknown
type PointPaint = unknown
type FillLayout = unknown
type LineLayout = unknown
type PointLayout = unknown

// ì˜ëª»ëœ ì˜ˆì‹œ
interface Layer {
  type: 'fill' | 'line' | 'point'
  layout: FillLayout | LineLayout | PointLayout
  paint: FillPaint | LinePaint | PointPaint
}

// ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
interface FillLayer {
  type: 'fill'
  layout: FillLayout
  paint: FillPaint
}
interface LineLayer {
  type: 'line'
  layout: LineLayout
  paint: LinePaint
}
interface PointLayer {
  type: 'paint'
  layout: PointLayout
  paint: PointPaint
}
type Layer = FillLayer | LineLayer | PointLayer
```

> ì˜ëª»ëœ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ë©´ type: 'fill'ê³¼ í•¨ê»˜ LineLayoutê³¼ PointPaint íƒ€ì…ì´ ì“°ì´ëŠ” ê²ƒì€ ë§ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.
> ì˜¬ë°”ë¥¸ ì˜ˆëŠ” ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ Layerë¥¼ ì¸í„°í˜ì´ìŠ¤ì´ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ì‚¬ìš©í–ˆë‹¤.


```ts
type FillPaint = unknown
type LinePaint = unknown
type PointPaint = unknown
type FillLayout = unknown
type LineLayout = unknown
type PointLayout = unknown
interface FillLayer {
  type: 'fill'
  layout: FillLayout
  paint: FillPaint
}
interface LineLayer {
  type: 'line'
  layout: LineLayout
  paint: LinePaint
}
interface PointLayer {
  type: 'paint'
  layout: PointLayout
  paint: PointPaint
}
type Layer = FillLayer | LineLayer | PointLayer
function drawLayer(layer: Layer) {
  if (layer.type === 'fill') {
    const { paint } = layer // Type is FillPaint
    const { layout } = layer // Type is FillLayout
  } else if (layer.type === 'line') {
    const { paint } = layer // Type is LinePaint
    const { layout } = layer // Type is LineLayout
  } else {
    const { paint } = layer // Type is PointPaint
    const { layout } = layer // Type is PointLayout
  }
}
```

> íƒœê·¸ëœ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì¢í ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> ì–´ë–¤ ë°ì´í„° íƒ€ì…ì„ íƒœê·¸ëœ ìœ ë‹ˆì˜¨ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ë©´, ë³´í†µì€ ê·¸ë ‡ê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
> ì—¬ëŸ¬ ê°œì˜ ì„ íƒì  í•„ë“œê°€ ë™ì‹œì— ê°’ì´ ìˆê±°ë‚˜ ë™ì‹œì— undefinedì¸ ê²½ìš°ì—ë„ íƒœê·¸ëœ ìœ ë‹ˆì˜¨ íŒ¨í„´ì´ ì˜ ë§ìŠµë‹ˆë‹¤.


- ì—¬ëŸ¬ ê°œì˜ ì„ íƒì  í•„ë“œê°€ ë™ì‹œì— ê°’ì´ ìˆê±°ë‚˜ ë™ì‹œì— undefinedì¸ ê²½ìš° null ê°’ì„ ê²½ê³„ë¡œ ë‘ëŠ” ë°©ë²•(ì•„ì´í…œ 31)

```ts
interface Person {
  name: string
  // ë‹¤ìŒì€ ë‘˜ ë‹¤ ë™ì‹œì— ìˆê±°ë‚˜ ë™ì‹œì— ì—†ìŠµë‹ˆë‹¤.
  placeOfBirth?: string
  dateOfBirth?: Date
}

// ë‘ ê°œì˜ ì†ì„±ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ëª¨ìœ¼ëŠ” ê²ƒì´ ë” ë‚˜ì€ ì„¤ê³„ì…ë‹ˆë‹¤.(ì•„ì´í…œ31)
interface Person {
  name: string
  birth?: {
    place: string
    date: Date
  }
}
// placeë§Œ ìˆê³  dateê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
const alanT: Person = {
  name: 'Alan Turing',
  birth: {
    // ~~~~ 'date' ì†ì„±ì´ '{ place: string; }' í˜•ì‹ì— ì—†ì§€ë§Œ
    //      '{ place: string; date: Date; }' í˜•ì‹ì—ì„œ í•„ìˆ˜ì…ë‹ˆë‹¤.
    place: 'London',
  },
}
```

- [n] comment
> optional í”„ë¡œí¼í‹°ë“¤ì´ ë™ì‹œì— ê°’ì´ ìˆê±°ë‚˜ ë™ì‹œì— ì—†ìœ¼ë©´ ê°ì²´ë¡œ ëª¨ìœ¼ëŠ”ê²ƒì´ ì¢‹ë‹¤.


> ì¥ì  1 
> ì„ íƒì  í”„ë¡œí¼í‹°ê°€ ë™ì‹œì— ìˆê±°ë‚˜ ë™ì‹œì— undefinedì—¬ì•¼ í• ë•Œ í•˜ë‚˜ì˜ í”„ë¡œí¼í‹°ê°€ ì—†ìœ¼ë©´ íƒ€ì…ì²´ì»¤ê°€ ì˜¤ë¥˜ë¥¼ ì¡ì•„ëƒ…ë‹ˆë‹¤.


>ì¥ì 2
>	Person ê°ì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜ëŠ” birth í•˜ë‚˜ë§Œ ì²´í¬í•˜ë©´ ë©ë‹ˆë‹¤.

```ts
interface Person {
  name: string
  birth?: {
    place: string
    date: Date
  }
}
function eulogize(p: Person) {
  console.log(p.name)
  const { birth } = p
  if (birth) {
    console.log(`was born on ${birth.date} in ${birth.place}.`)
  }
}
```


### ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ ì‚¬ìš© ì˜ˆì‹œ íƒ€ì…ì˜ êµ¬ì¡°ë¥¼ ì† ëŒˆ ìˆ˜ ì—†ëŠ” ìƒí™©(ì˜ˆë¥¼ ë“¤ì–´ APIì˜ ê²°ê³¼)ì´ë©´
```ts
interface Name {
  name: string
}

interface PersonWithBirth extends Name {
  placeOfBirth: string
  dateOfBirth: Date
}

type Person = Name | PersonWithBirth
function eulogize(p: Person) {
  if ('placeOfBirth' in p) {
    p // íƒ€ì…ì´ PersonwithBirth
    const { dateOfBirth } = p // ì •ìƒ, íƒ€ì…ì´ Date
  }
  
```

> ì¸í„° í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•´ì„œ ì†ì„± ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ëª¨ë¸ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


> ìš”ì•½

- ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ ì†ì„±ì„ ì—¬ëŸ¬ ê°œ ê°€ì§€ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ì„œëŠ” ì†ì„± ê°„ì˜ ê´€ê³„ê°€ ë¶„ëª…í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‹¤ìˆ˜ê°€ ìì£¼ ë°œìƒí•˜ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
- ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì´ ë” ì •í™•í•˜ê³  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì´í•´í•˜ê¸°ë„ ì¢‹ìŠµë‹ˆë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì œì–´ íë¦„ì„ ë¶„ì„í•  ìˆ˜ ìˆë„ë¡ íƒ€ì…ì— íƒœê·¸ë¥¼ ë„£ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. íƒœê·¸ëœ ìœ ë‹ˆì˜¨ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ ë§¤ìš° ì˜ ë§ê¸° ë•Œë¬¸ì— ìì£¼ ë³¼ ìˆ˜ ìˆëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.


## ğŸ¶ 4-3 (ì•„ì´í…œ33) string íƒ€ì…ë³´ë‹¤ ë” êµ¬ì²´ì ì¸ íƒ€ì… ì‚¬ìš©í•˜ê¸°

> string íƒ€ì…ì˜ ë²”ìœ„ëŠ” ë§¤ìš° ë„“ìŠµë‹ˆë‹¤. ê·¸ë³´ë‹¤ ë” ì¢ì€ íƒ€ì…ì´ ì ì ˆí•˜ì§€ëŠ” ì•Šì„ì§€ ê²€í† í•´ ë³´ì•„ì•¼ í•©ë‹ˆë‹¤.

```ts
// ìŒì•… ì»¬ë ‰ì…˜ì„ ë§Œë“¤ê¸° ìœ„í•´ ì•¨ë²”ì˜ íƒ€ì…ì„ ì •ì˜í•œë‹¤ê³  ê°€ì •
interface Album {
  artist: string
  title: string
  releaseDate: string // YYYY-MM-DD
  recordingType: string // E.g., "live" or "studio"
}
const kindOfBlue: Album = {
  artist: 'Miles Davis',
  title: 'Kind of Blue',
  releaseDate: 'August 17th, 1959', // ë‚ ì§œ í˜•ì‹ì´ ë‹¤ë¦…ë‹ˆë‹¤
  recordingType: 'Studio', // ì˜¤íƒ€(ëŒ€ë¬¸ì S)
} // íƒ€ì… ì²´ì»¤ í†µê³¼

function recordRelease(title: string, date: string) {
  /* ... */
}
recordRelease(kindOfBlue.releaseDate, kindOfBlue.title) // íƒ€ì…ì²´ì»¤ í†µê³¼
```

> 1.  ëª¨ë“  stringì´ ë‹¤ ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜¤íƒ€ë‚˜ ë‹¤ë¥¸ í˜•ì‹ì´ ì™€ë„ stringì´ë¼ë©´ íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼ ë¬¸ì œ
> 2. í•¨ìˆ˜ì˜ ì¸ìê°’ì´ ë°˜ëŒ€ë¡œ ì˜¤ë”ë¼ë„ ë‘˜ë‹¤ string íƒ€ì…ì´ë¯€ë¡œ íƒ€ì… ì²´ì»¤ í†µê³¼ ë¬¸ì œ


- êµ¬ì²´ì ì¸ íƒ€ì…ìœ¼ë¡œ ëª…ì‹œí•˜ê¸°

```ts
interface Album {
  artist: string
  title: string
  releaseDate: Date
  recordingType: RecordingType
}
const kindOfBlue: Album = {
  artist: 'Miles Davis',
  title: 'Kind of Blue',
  releaseDate: new Date('1959-08-17'),
  recordingType: 'Studio',
  // ~~~~~~~~~~~~ '"Studio"' í˜•ì‹ì€ 'RecordingType' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
}
```


### êµ¬ì²´ì ì¸ íƒ€ì…ì„ ì‚¬ìš© í–ˆì„ë•Œ ì„¸ ê°€ì§€ ì¥ì 

- ì²« ë²ˆì§¸ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ê°’ì´ ì „ë‹¬ ë˜ì–´ë„ íƒ€ì… ì •ë³´ê°€ ìœ ì§€ë©ë‹ˆë‹¤.

```ts
type RecordingType = 'studio' | 'live'

interface Album {
  artist: string
  title: string
  releaseDate: Date
  recordingType: RecordingType
}
function getAlbumsOfType(recordingType: string): Album[] {
  // COMPRESS
  return []
  // END
}
```


- ë‘ ë²ˆì§¸ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê³  í•´ë‹¹ íƒ€ì…ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•˜ëŠ” ì£¼ì„ì„ ë¶™ì—¬ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
/** ì´ ë…¹ìŒì€ ì–´ë–¤ í™˜ê²½ì—ì„œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€? */
type RecordingType = 'live' | 'studio'

interface Album {
  artist: string
  title: string
  releaseDate: Date
  recordingType: RecordingType
}

function getAlbumsOfType(recordingType: RecordingType): Album[] {}
```

> getAlbumsOfType ì¸ìê°’ recordingTypeì„ RecordingTypeìœ¼ë¡œ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ë©´ ì„¤ëª…ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](../images/image08.png)

- ì„¸ ë²ˆì§¸ keyof ì—°ì‚°ìë¡œ ë”ìš± ì„¸ë°€í•˜ê²Œ ê°ì²´ì˜ ì†ì„± ì²´í¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

```ts
// ì–´ë–¤ ë°°ì—´ì—ì„œ í•œ í•„ë“œì˜ ê°’ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤ê³  ìƒê° í•´ë³´ê² ìŠµë‹ˆë‹¤.
function pluck<T>(record: T[], key: string): any[] {
  return record.map(r => r[key])
  // ~~~~~~ '{}' í˜•ì‹ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ê°€ ì—†ìœ¼ë¯€ë¡œ
  //        ìš”ì†Œì— ì•”ì‹œì ìœ¼ë¡œ 'any' í˜•ì‹ì´ ìˆìŠµë‹ˆë‹¤.
}
```

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” keyì˜ íƒ€ì…ì´ stringì´ê¸° ë•Œë¬¸ì— ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ë‹¤ëŠ” ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.

```ts
function pluck<T>(record: T[], key: keyof T) {
  return record.map(r => r[key])
}
```

> ì´ ì½”ë“œëŠ” íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼í•©ë‹ˆë‹¤. ë˜í•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡  í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
> `function pluck<T>(record: T[], key: keyof T): T[keyof T][]` 


- ê·¸ëŸ¬ë‚˜ keyì˜ ê°’ìœ¼ë¡œ í•˜ë‚˜ì˜ ë¬¸ìì—´ì„ ë„£ê²Œ ë˜ë©´, ê·¸ ë²”ìœ„ê°€ ë„“ì–´ì„œ ì ì ˆí•œ íƒ€ì…ì´ë¼ê³  ë³´ê¸° ì–´ë µìŠµë‹ˆë‹¤.

```ts
type RecordingType = 'studio' | 'live'

interface Album {
  artist: string
  title: string
  releaseDate: Date
  recordingType: RecordingType
}
function pluck<T>(record: T[], key: keyof T) {
  return record.map(r => r[key])
}
declare let albums: Album[]
const releaseDates = pluck(albums, 'releaseDate') // Type is (string | Date)[]
```

> `Date[]` íƒ€ì…ì„ ê¸°ëŒ€ í–ˆì§€ë§Œ `(string | Date)[]` ë¡œ ì¶”ë¡ ë¨.
> `keyof T` ëŠ” `string` ì— ë¹„í•˜ë©´ í›¨ì”¬ ë²”ìœ„ê°€ ì¢ê¸°ëŠ” í•˜ì§€ë§Œ ê·¸ë˜ë„ ì—¬ì „íˆ ë„“ìŠµë‹ˆë‹¤.
> ë‘ë²ˆì§¸ ì œë„¤ë¦­ ë³€ìˆ˜ë¥¼ ë„ì… í•´ì•¼ ë©ë‹ˆë‹¤.

```ts
function pluck<T, K extends keyof T>(record: T[], key: K): T[K][] {
  return record.map(r => r[key])
}
type RecordingType = 'studio' | 'live'

interface Album {
  artist: string
  title: string
  releaseDate: Date
  recordingType: RecordingType
}
declare let albums: Album[]
pluck(albums, 'releaseDate') // íƒ€ì…ì´ Date[]
pluck(albums, 'artist') // íƒ€ì…ì´ string[]
pluck(albums, 'recordingType') // íƒ€ì…ì´ RecordingType[]
pluck(albums, 'recordingDate')
// ~~~~~~~~~~~~    '"recordingDate"' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
//                 ... í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

![](../images/image09.png)

> ìš”ì•½

- 'ë¬¸ìì—´ì„ ë‚¨ë°œí•˜ì—¬ ì„ ì–¸ëœ' ì½”ë“œë¥¼ í”¼í•©ì‹œë‹¤. ëª¨ë“  ë¬¸ìì—´ì„ í• ë‹¹í•  ìˆ˜ ìˆëŠ” string íƒ€ì…ë³´ë‹¤ëŠ” ë” êµ¬ì²´ì ì¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
- ë³€ìˆ˜ì˜ ë²”ìœ„ë¥¼ ë³´ë‹¤ ì •í™•í•˜ê²Œ í‘œí˜„í•˜ê³  ì‹¶ë‹¤ë©´ string íƒ€ì…ë³´ë‹¤ëŠ” ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. íƒ€ì… ì²´í¬ë¥¼ ë” ì—„ê²©íˆ í•  ìˆ˜ ìˆê³  ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê°ì²´ì˜ ì†ì„± ì´ë¦„ì„ í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì„ ë•ŒëŠ” `string` ë³´ë‹¤ `keyof T` ë¥¼ ì‚¬ìš© í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.



## ğŸ¹ 4-3 (ì•„ì´í…œ36) í•´ë‹¹ ë¶„ì•¼ì˜ ìš©ì–´ë¡œ íƒ€ì… ì´ë¦„ ì§“ê¸°

```ts
// ë™ë¬¼ë“¤ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶• í•œë‹¤ê³  ê°€ì •
interface Animal {
  name: string
  endangered: boolean
  habitat: string
}

const leopard: Animal = {
  name: 'Snow Leopard',
  endangered: false,
  habitat: 'tundra',
}
```

> í•´ë‹¹ ì½”ë“œì— 4ê°€ì§€ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.

- nameì€ ë§¤ìš° ì¼ë°˜ì ì¸ ìš©ì–´ì…ë‹ˆë‹¤. ë™ë¬¼ì˜ í•™ëª…ì¸ì§€ ì¼ë°˜ì ì¸ ëª…ì¹­ì¸ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- endangered ì†ì„±ì´ ë©¸ì¢… ìœ„ê¸°ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ boolean íƒ€ì…ì„ ì‚¬ìš©í•œ ê²ƒì´ ì´ìƒí•©ë‹ˆë‹¤. ì´ë¯¸ ë©¸ì¢…ëœ ë™ë¬¼ì„ trueë¡œ í•´ì•¼ í•˜ëŠ”ì§€ íŒë‹¨í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. endangered ì†ì„±ì˜ ì˜ë„ë¥¼ 'ë©¸ì¢… ìœ„ê¸° ë˜ëŠ” ë©¸ì¢…'ìœ¼ë¡œ ìƒê°í•œ ê²ƒì¼ì§€ë„ ëª¨ë¦… ë‹ˆë‹¤.
- ì„œì‹ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” habitat ì†ì„±ì€ ë„ˆë¬´ ë²”ìœ„ê°€ ë„“ì€ string íƒ€ì…ì¼ ë¿ë§Œ ì•„ë‹ˆë¼ ì„œì‹ì§€ë¼ëŠ” ëœ» ìì²´ë„ ë¶ˆë¶„ëª…í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì†ì„±ë“¤ ë³´ë‹¤ë„ í›¨ì”¬ ëª¨í˜¸í•©ë‹ˆë‹¤.
- ê°ì²´ì˜ ë³€ìˆ˜ëª…ì´ Leopardì´ì§€ë§Œ, name ì†ì„±ì˜ ê°’ì€ 'Snow Leopard'ì…ë‹ˆë‹¤.ê°ì²´ì˜ ì´ë¦„ê³¼ ì†ì„±ì˜ nameì´ ë‹¤ë¥¸ ì˜ë„ë¡œ ì‚¬ìš©ëœ ê²ƒì¸ì§€ ë¶ˆë¶„ëª…í•©ë‹ˆë‹¤.

```ts
// ê°œì„ ëœ ì½”ë“œ
interface Animal {
  commonName: string
  genus: string
  species: string
  status: ConservationStatus
  climates: KoppenClimate[]
}
type ConservationStatus = 'EX' | 'EW' | 'CR' | 'EN' | 'VU' | 'NT' | 'LC'
type KoppenClimate =
  | 'Af'
  | 'Am'
  | 'As'
  | 'Aw'
  | 'BSh'
  | 'BSk'
  | 'BWh'
  | 'BWk'
  | 'Cfa'
  | 'Cfb'
  | 'Cfc'
  | 'Csa'
  | 'Csb'
  | 'Csc'
  | 'Cwa'
  | 'Cwb'
  | 'Cwc'
  | 'Dfa'
  | 'Dfb'
  | 'Dfc'
  | 'Dfd'
  | 'Dsa'
  | 'Dsb'
  | 'Dsc'
  | 'Dwa'
  | 'Dwb'
  | 'Dwc'
  | 'Dwd'
  | 'EF'
  | 'ET'
const snowLeopard: Animal = {
  commonName: 'Snow Leopard',
  genus: 'Panthera',
  species: 'Uncia',
  status: 'VU', // vulnerable
  climates: ['ET', 'EF', 'Dfd'], // alpine or subalpine
}
```

> í•´ë‹¹ ì½”ë“œëŠ” ì„¸ ê°€ì§€ë¥¼ ê°œì„  í–ˆìŠµë‹ˆë‹¤.

- nameì€ commonName, genus, species ë“± ë” êµ¬ì²´ì ì¸ ìš©ì–´ë¡œ ëŒ€ì²´í–ˆìŠµë‹ˆë‹¤.
- endangeredëŠ” ë™ë¬¼ ë³´í˜¸ ë“±ê¸‰ì— ëŒ€í•œ IUCNì˜ í‘œì¤€ ë¶„ë¥˜ ì²´ê³„ì¸ ConservationStatus íƒ€ì…ì˜ statusë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
- habitatì€ ê¸°í›„ë¥¼ ëœ»í•˜ëŠ” climatesë¡œ ë³€ê²½ë˜ì—ˆìœ¼ë©°, ì½”íœ ê¸°í›„ ë¶„ë¥˜(Koppen climate classification)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.


> íƒ€ì…, ì†ì„±, ë³€ìˆ˜ì— ì´ë¦„ì„ ë¶™ì¼ ë•Œ ëª…ì‹¬í•´ì•¼ í•  ì„¸ ê°€ì§€ ê·œì¹™ì´ ìˆìŠµë‹ˆë‹¤.

- ë™ì¼í•œ ì˜ë¯¸ë¥¼ ë‚˜íƒ€ë‚¼ ë•ŒëŠ” ê°™ì€ ìš©ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê¸€ì„ ì“¸ ë•Œë‚˜ ë§ ì„ í•  ë•Œ, ê°™ì€ ë‹¨ì–´ë¥¼ ë°˜ë³µí•´ì„œ ì‚¬ìš©í•˜ë©´ ì§€ë£¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë™ì˜ì–´(ì˜ë¯¸ê°€ ê°™ì§€ë§Œ ë‹¤ë¥¸ ë‹¨ì–´)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë™ì˜ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸€ì„ ì½ì„ ë•ŒëŠ” ì¢‹ì„ ìˆ˜ ìˆì§€ë§Œ, ì½”ë“œì—ì„œëŠ” ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤. ì •ë§ë¡œ ì˜ë¯¸ì ìœ¼ë¡œ êµ¬ë¶„ì´ ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ì—ë§Œ ë‹¤ë¥¸ ìš©ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `data, info, thing, item, object, entity`  ê°™ì€ ëª¨í˜¸í•˜ê³  ì˜ë¯¸ ì—†ëŠ” ì´ë¦„ì€ í”¼í•´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ entityë¼ëŠ” ìš©ì–´ê°€ í•´ë‹¹ ë¶„ì•¼ì—ì„œ íŠ¹ë³„í•œ ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤ë©´ ê´œì°®ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê·€ì°®ë‹¤ê³  ë¬´ì‹¬ì½” ì˜ë¯¸ ì—†ëŠ” ì´ë¦„ì„ ë¶™ì—¬ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.
- ì´ë¦„ì„ ì§€ì„ ë•ŒëŠ” í¬í•¨ëœ ë‚´ìš©ì´ë‚˜ ê³„ì‚° ë°©ì‹ì´ ì•„ë‹ˆë¼ ë°ì´í„° ìì²´ê°€ ë¬´ì—‡ ì¸ì§€ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `INodeList` ë³´ë‹¤ëŠ” `Directory` ê°€ ë” ì˜ë¯¸ ìˆëŠ” ì´ë¦„ì…ë‹ˆë‹¤. `Directory` ëŠ” êµ¬í˜„ì˜ ì¸¡ë©´ì´ ì•„ë‹ˆë¼ ê°œë…ì ì¸ ì¸¡ë©´ì—ì„œ ë””ë ‰í„°ë¦¬ë¥¼ ìƒê°í•˜ê²Œ í•©ë‹ˆë‹¤. ì¢‹ì€ ì´ë¦„ì€ ì¶”ìƒí™”ì˜ ìˆ˜ì¤€ì„ ë†’ì´ê³  ì˜ë„ì¹˜ ì•Šì€ ì¶©ëŒì˜ ìœ„í—˜ì„±ì„ ì¤„ì—¬ ì¤ë‹ˆë‹¤.

>ìš”ì•½

- ê°€ë…ì„±ì„ ë†’ì´ê³ , ì¶”ìƒí™” ìˆ˜ì¤€ì„ ì˜¬ë¦¬ê¸° ìœ„í•´ì„œ í•´ë‹¹ ë¶„ì•¼ì˜ ìš©ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- ê°™ì€ ì˜ë¯¸ì— ë‹¤ë¥¸ ì´ë¦„ì„ ë¶™ì´ë©´ ì•ˆë©ë‹ˆë‹¤. íŠ¹ë³„í•œ ì˜ë¯¸ê°€ ìˆì„ ë•Œë§Œ ìš©ì–´ë¥¼ êµ¬ë¶„í•´ì•¼ í•©ë‹ˆë‹¤.


## ğŸ» 4-4 (ì•„ì´í…œ37) ê³µì‹ ëª…ì¹­ì—ëŠ” ìƒí‘œë¥¼ ë¶™ì´ê¸°
```ts
interface Vector2D {
  x: number
  y: number
}
function calculateNorm(p: Vector2D) {
  return Math.sqrt(p.x * p.x + p.y * p.y)
}

calculateNorm({ x: 3, y: 4 }) // ì •ìƒ
const vec3D = { x: 3, y: 4, z: 1 }
calculateNorm(vec3D) // ì •ìƒ
```

> êµ¬ì¡°ì  íƒ€ì´í•‘ íŠ¹ì •ìœ¼ë¡œ ì¸í•˜ì—¬ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì¸ìê°’ìœ¼ë¡œ ë„˜ê¸°ë©´ ê°ì²´ì— í”„ë¡œí¼í‹°ê°€ 2ê°œê°€ ì•„ë‹ˆë¼ 3ê°œ 4ê°œë¥¼ ë„˜ê²¨ë„ íƒ€ì…ì²´ì»¤ë¥¼ í†µê³¼í•œë‹¤.

```ts
interface Vector2D {
  _brand: '2d'
  x: number
  y: number
}
function vec2D(x: number, y: number): Vector2D {
  return { x, y, _brand: '2d' }
}
function calculateNorm(p: Vector2D) {
  return Math.sqrt(p.x * p.x + p.y * p.y) 
}

calculateNorm(vec2D(3, 4)) // ì •ìƒ
const vec3D = { x: 3, y: 4, z: 1 }
calculateNorm(vec3D) // '_brand' ì†ì„±ì´ ... í˜•ì‹ì— ì—†ìŠµë‹ˆë‹¤.

const vec3D = { _brand:'2d' as const, x: 3, y: 4, z: 1 } // ì´ë ‡ê²Œ ì‚¬ìš©í•˜ëŠ”ê±´ ëª»ë§‰ìŒ
```

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ `ìƒí‘œ(brand)` ë¥¼ ì‚¬ìš©
> ìƒí‘œ(`_brand` )ë¥¼ ì‚¬ìš©í•´ì„œ calculateNorm í•¨ìˆ˜ê°€ Vector2D íƒ€ì…ë§Œ ë°›ëŠ” ê²ƒì„ ë³´ì¥í•©ë‹ˆë‹¤.
> ê·¸ëŸ¬ë‚˜ vec3D ê°’ì—` _brand: '2d'` ë¼ê³  ì¶”ê°€í•˜ëŠ” ê²ƒ ê°™ì€ ì•…ì˜ì ì¸ ì‚¬ìš©ì„ ë§‰ì„ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.
> ë‹¤ë§Œ ë‹¨ìˆœí•œ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸°ì—ëŠ” ì¶©ë¶„í•©ë‹ˆë‹¤.

> íƒ€ì…ì‹œìŠ¤í…œì—ì„œ `ìƒí‘œ(brand)` ê¸°ë²• ì¥ì 

- íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ë™ì‘í•˜ì§€ë§Œ ëŸ°íƒ€ì„ì— ìƒí‘œë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íƒ€ì… ì‹œìŠ¤í…œì´ê¸° ë•Œë¬¸ì— ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œë¥¼ ì—†ì•¨ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¶”ê°€ ì†ì„±ì„ ë¶™ì¼ ìˆ˜ ì—†ëŠ” stringì´ë‚˜ number ê°™ì€ ë‚´ì¥ íƒ€ì…ë„ `ìƒí‘œ(brand)`í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



```ts
// ì ˆëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•´ íŒŒì¼ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ëŠ” í•¨ìˆ˜ ê°€ì •
type AbsolutePath = string & { _brand: 'abs' }
function listAbsolutePath(path: AbsolutePath) {
  // ...
}
function isAbsolutePath(path: string): path is AbsolutePath {
  return path.startsWith('/')
}

```

> íƒ€ì… ì‹œìŠ¤í…œì—ì„œëŠ” ì ˆëŒ€ ê²½ë¡œë¥¼ íŒë‹¨í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ìƒí‘œ ê¸°ë²•ì„ ì‚¬ìš©
> string íƒ€ì…ì´ë©´ì„œ `_brand`  ì†ì„±ì„ ê°€ì§€ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. AbsolutePathëŠ” ì˜¨ì „íˆ íƒ€ì… ì‹œìŠ¤í…œì˜ ì˜ì—­ì…ë‹ˆë‹¤.


- ë§Œì•½ path ê°’ì´ ì ˆëŒ€ ê²½ë¡œì™€ ìƒëŒ€ ê²½ë¡œ ë‘˜ ë‹¤ ë  ìˆ˜ ìˆë‹¤ë©´ íƒ€ì…ê°€ë“œ ì‚¬ìš©

```ts
// ì ˆëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•´ íŒŒì¼ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ëŠ” í•¨ìˆ˜ ê°€ì •
type AbsolutePath = string & { _brand: 'abs' }
function listAbsolutePath(path: AbsolutePath) {
  // ...
}
function isAbsolutePath(path: string): path is AbsolutePath {
  return path.startsWith('/')
}
function f(path: string) {
  if (isAbsolutePath(path)) {
    listAbsolutePath(path)
  }
  listAbsolutePath(path)
  // ~~~~ 'string' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'AbsolutePath' í˜•ì‹ì˜
  //       ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
}
```

> íƒ€ì… ë‹¨ì–¸ë¬¸(`as`) ë¥¼ ì‚¬ìš©í•´ì„œ AbsolutePath íƒ€ì…ì„ ì–»ëŠ” ë°©ë²• ì´ì™¸ì—
> AbsolutePath íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë°©ë²•ê³¼ íƒ€ì…ì´ ë§ëŠ”ì§€ ì²´í¬í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

```ts
// ì´ì§„ íƒìƒ‰

function binarySearch<T>(xs: T[], x: T): boolean {
  let low = 0,
    high = xs.length - 1
  while (high >= low) {
    const mid = low + Math.floor((high - low) / 2)
    const v = xs[mid]
    if (v === x) return true
    ;[low, high] = x > v ? [mid + 1, high] : [low, mid - 1]
  }
  return false
}
```

> ìƒí‘œ ê¸°ë²•ì€ íƒ€ì… ì‹œìŠ¤í…œ ë‚´ì—ì„œ í‘œí˜„í•  ìˆ˜ ì—†ëŠ” ìˆ˜ë§ì€ ì†ì„±ë“¤ì„ ëª¨ë¸ë§ í•˜ëŠ”ë° ì‚¬ìš©ë˜ê¸°ë„ í•©ë‹ˆë‹¤.
> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì‹œìŠ¤í…œì—ì„œëŠ” ëª©ë¡ì´ ì •ë ¬ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë„ë¥¼ í‘œí˜„í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.

```ts
type SortedList<T> = T[] & { _brand: 'sorted' }

function isSorted<T>(xs: T[]): xs is SortedList<T> {
  for (let i = 1; i < xs.length; i++) {
    if (xs[i] > xs[i - 1]) {
      return false
    }
  }
  return true
}

function binarySearch<T>(xs: SortedList<T>, x: T): boolean {
  // COMPRESS
  return true
  // END
}
```

> binarySearchë¥¼ í˜¸ì¶œí•˜ë ¤ë©´, 
> ì •ë ¬ë˜ì—ˆë‹¤ëŠ” ìƒí‘œê°€ ë¶™ì€ SortedList íƒ€ì…ì˜ ê°’ì„ ì‚¬ìš©í•˜ê±°ë‚˜ isSortedë¥¼ í˜¸ì¶œí•˜ì—¬ ì •ë ¬ë˜ì—ˆìŒì„ ì¦ëª…í•´ì•¼ í•©ë‹ˆë‹¤.
> isSorted ì—ì„œ ëª©ë¡ ì „ì²´ë¥¼ ë£¨í”„ ë„ëŠ” ê²ƒì´ íš¨ìœ¨ì ì¸ ë°©ë²•ì€ ì•„ë‹ˆì§€ë§Œ ì ì–´ë„ ì•ˆì „ì„±ì€ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


- number íƒ€ì…ì—ë„ ìƒí‘œë¥¼ ë¶™ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
type Meters = number & { _brand: 'meters' }
type Seconds = number & { _brand: 'seconds' }

const meters = (m: number) => m as Meters
const seconds = (s: number) => s as Seconds

const oneKm = meters(1000) // íƒ€ì…ì´ Meters
const oneMin = seconds(60) // íƒ€ì…ì´ Seconds
const tenKm = oneKm * 10 // íƒ€ì…ì´ number
const v = oneKm / oneMin // íƒ€ì…ì´ number
```

> ìš”ì•½

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” êµ¬ì¡°ì  íƒ€ì´í•‘(ë• íƒ€ì´í•‘)ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ê°’ì„ ì„¸ë°€í•˜ê²Œ êµ¬ë¶„í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ê°’ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ê³µì‹ ëª…ì¹­ì´ í•„ìš”í•˜ë‹¤ë©´ ìƒí‘œë¥¼ ë¶™ì´ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
- ìƒí‘œ ê¸°ë²•ì€ íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ë™ì‘í•˜ì§€ë§Œ ëŸ°íƒ€ì„ì— ìƒí‘œë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.





