- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì–´ë–»ê²Œ íƒ€ì…ì„ ì¶”ë¡ í•˜ëŠ”ì§€
- ì–¸ì œ íƒ€ì… ì„ ì–¸ì„ ì‘ì„±í•´ì•¼ í•˜ëŠ”ì§€
- íƒ€ì… ì¶”ë¡ ì´ ê°€ëŠ¥í•˜ë”ë¼ë„ ëª…ì‹œì ìœ¼ë¡œ íƒ€ì… ì„ ì–¸ì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ í•„ìš”í•œ ìƒí™©ì€ ì–¸ì œì¸ì§€

## ğŸ¦ 3-1 (ì•„ì´í…œ19) ì¶”ë¡  ê°€ëŠ¥í•œ íƒ€ì…ì„ ì‚¬ìš©í•´ ì¥í™©í•œ ì½”ë“œ ë°©ì§€í•˜ê¸°

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìë™ìœ¼ë¡œ ì¶”ë¡  ëœë‹¤ë©´ ì˜ˆë¥¼ë“¤ì–´ const a:number= 10;ë¥¼ êµ³ì´ ì„ ì–¸í•˜ì§€ ì•Šë”ë¼ë„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” const a = 10;ì´ numberë¡œ ì¶”ë¡  ëœë‹¤. êµ³ì´ íƒ€ì…ì„ ê°™ì´ ì„ ì–¸í•˜ëŠ”ê²ƒì€ ê±°ì¶”ì¥ìŠ¤ëŸ½ë‹¤.

### ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ ì—†ì´ ì‘ì„±

```ts
interface Product {
  id: number
  name: string
  price: number
}

function logProduct(product: Product) {
  const id: number = product.id
  const name: string = product.name
  const price: number = product.price
  console.log(id, name, price)
}

// idê°€ stringíƒ€ì…ìœ¼ë¡œ ë³€ê²½ ë˜ì—ˆë‹¤ë©´
interface Product {
  id: string
  name: string
  price: number
}

function logProduct(product: Product) {
  const id: number = product.id
  // ~~ Type 'string' is not assignable to type 'number'
  const name: string = product.name
  const price: number = product.price
  console.log(id, name, price)
}
```

> idê°€ numberì˜€ì—ˆëŠ”ë° stringìœ¼ë¡œ ìˆ˜ì • ë˜ê²Œ ë˜ë©´ logProductì—ì„œë„ idê°’ì€ numberë¡œ ì„ ì–¸ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
> logProduct í•¨ìˆ˜ ë‚´ì˜ ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì´ ì—†ì—ˆë‹¤ë©´, ì½”ë“œëŠ” ì•„ë¬´ëŸ° ìˆ˜ì • ì—†ì´ë„ íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼í–ˆì„ ê²ë‹ˆë‹¤.


- ë¹„êµ¬ì¡° í• ë‹¹ë¬¸ìœ¼ë¡œ ê°œì„ 

```ts
// idê°€ numberì¼ë•Œ
interface Product {
  id: number;
  name: string
  price: number
}
function logProduct(product: Product) {
  const { id, name, price } = product // ì •ìƒ
  console.log(id, name, price)
}

// idê°€ stringì¼ë•Œ
interface Product {
  id: string;
  name: string
  price: number
}
function logProduct(product: Product) {
  const { id, name, price } = product // ì •ìƒ
  console.log(id, name, price)
}
```

> ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì´ ì—†ì–´ íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì•Œì•„ì„œ ì¶”ë¡  í•´ì£¼ê¸° ë•Œë¬¸ì— ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤.

- [n] comment
> ìƒê° í•´ë³´ë‹ˆê¹Œ ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš© í–ˆë˜ ê²½ìš°ê°€ ìˆì—ˆë˜ê²ƒ ê°™ë‹¤. ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì´ êµ³ì´ í•„ìš” ì—†ì–´ë„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì•Œì•„ì„œ ì˜ ì¶”ë¡  í•˜ëŠ”ë° êµ³ì´ ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì„ ì–¸ í•´ì„œ ì‚¬ìš© í–ˆì—ˆëŠ”ë°, í•´ë‹¹ ë‚´ìš©ì„ ë³´ë‹ˆ interfaceì˜ í”„ë¡œí¼í‹°ì˜ íƒ€ì…ì„ ë³€ê²½ í•˜ë”ë¼ë„ ë§Œì•½ ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì„ ì–¸ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ interfaceì˜ í”„ë¡œí¼í‹° íƒ€ì…ë§Œ ë³€ê²½ í•˜ë©´ ë˜ë‹ˆê¹Œ ì¢‹ì€ ì½”ë“œì¸ê²ƒ ê°™ë‹¤.
> ìƒí™©ì„ ìƒê°í•´ë³´ë©´ ë³´í†µ í•¨ìˆ˜ì˜ ì¸ìê°’ì„ ë°›ì€ê²ƒë“¤ì„ í• ë‹¹ ë°›ì•„ì„œ ì‚¬ìš©í•˜ê²Œ ë ë•Œ ì€ì—°ì¤‘ì— ìƒˆë¡œìš´ ë³€ìˆ˜ì— í• ë‹¹ì—ì„œ ì‚¬ìš© í•˜ê²Œ ëœë‹¤ë©´ ê·¸ ë³€ìˆ˜ì— ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì„ ì–¸ í•˜ëŠ”ê²ƒì„ ì§€ì–‘ í•´ì•¼ë ê²ƒ ê°™ë‹¤.

```ts
interface UserArg{
	username: string;
}
interface UserArg2{
	username: number;
}

// ì§€ì–‘ í•´ì•¼ë  ì½”ë“œ
function UserFunction(user:UserArg){
	const superName:string = 100 + user.username; // ì •ìƒ - superName : string
}
function UserFunction2(user:UserArg2){
	const superName:string = 100 + user.username; // ì—ëŸ¬ -  Type 'number' is not assignable to type 'string' 
}

// ê°œì„  ì½”ë“œ
function UserFunction(user:UserArg){
	const superName = 100 + user.username; // ì •ìƒ - string
}

function UserFunction2(user:UserArg2){
	const superName = 100 + user.username; // ì •ìƒ - number
}
```


> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë³€ìˆ˜ì˜ íƒ€ì…ì€ ì¼ë°˜ì ìœ¼ë¡œ ì²˜ìŒ ë“±ì¥í•  ë•Œ ê²°ì •ë©ë‹ˆë‹¤.
> ì´ìƒì ì¸ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” í•¨ìˆ˜/ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ì— íƒ€ì… êµ¬ë¬¸ì„ í¬í•¨í•˜ì§€ë§Œ, *í•¨ìˆ˜ ë‚´ì—ì„œ ìƒì„±ëœ ì§€ì—­ ë³€ìˆ˜ì—ëŠ” íƒ€ì… êµ¬ë¬¸ì„ ë„£ì§€ ì•ŠìŠµë‹ˆë‹¤.* 
> íƒ€ì… êµ¬ë¬¸ì„ ìƒëµí•˜ì—¬ ë°©í•´ë˜ëŠ” ê²ƒë“¤ì„ ìµœì†Œí™”í•˜ê³  ì½”ë“œë¥¼ ì½ëŠ” ì‚¬ëŒì´ êµ¬í˜„ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.



- í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ì— íƒ€ì… êµ¬ë¬¸ì„ ìƒëµí•˜ëŠ” ê²½ìš°

```ts
// ì´ë ‡ê²Œ í•˜ì§€ ë§™ì‹œë‹¤.
app.get('/health', (request: express.Request, response: express.Response) => {
  response.send('OK')
})

// ì´ë ‡ê²Œ í•©ì‹œë‹¤.
app.get('/health', (request, response) => {
  response.send('OK')
})
```

> **ë³´í†µ íƒ€ì… ì •ë³´ê°€ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ, ì½œë°± í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ ìë™ìœ¼ë¡œ ì¶”ë¡ ë©ë‹ˆë‹¤.** 
> express HTTP ì„œë²„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” requestì™€ responseì˜ íƒ€ì… ì„ ì–¸ì€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> **ì¡°ì‹¬ í•´ì•¼ ë  ë¶€ë¶„ì€ expressë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ app.get ë©”ì„œë“œ ì•ˆì— ì½œë°±í•¨ìˆ˜ì•ˆì— requestì™€ response íƒ€ì…ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚´ì—ì„œ ì„ ì–¸ ë˜ì—ˆê¸° ë•Œë¬¸ì— ì €ë ‡ê²Œ ì‚¬ìš©í•˜ìëŠ”ê±°ì§€ NestJSì—ì„œëŠ” reqì™€ resê°€ ì‚¬ìš© í• ë•Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½œë°±ì´ë“  ì–´ë””ë“  ì œëŒ€ë¡œ ì„ ì–¸ë˜ì—ˆëŠ”ì§€ ì œë„¤ë¦­ì¸ì§€ anyì¸ì§€ í™•ì¸í•˜ê³  ì¨ì•¼í•œë‹¤.**


### ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì‘ì„± í•´ì•¼ í•  ë•Œ
#### 1. ê°ì²´ ë¦¬í„°ëŸ´ì„ ì •ì˜ í•  ë•Œ

```ts
interface Product {
  id: string
  name: string
  price: number
}

const elmo: Product = {
  name: 'Tickle Me Elmo',
  id: '048188 627152',
  price: 28.99,
}
```

> ì´ëŸ° ì •ì˜ì— íƒ€ì…ì„ ëª…ì‹œí•˜ë©´, ì‰ì—¬ ì†ì„± ì²´í¬(ì•„ì´í…œ 11)ê°€ ë™ì‘í•©ë‹ˆë‹¤.
> ì‰ì—¬ ì†ì„± ì²´í¬ëŠ” íŠ¹íˆ ì„ íƒì  ì†ì„±ì´ ìˆëŠ” íƒ€ì…ì˜ ì˜¤íƒ€ ê°™ì€ ì˜¤ë¥˜ë¥¼ ì¡ëŠ” ë° íš¨ê³¼ì ì…ë‹ˆë‹¤.
> ê·¸ë¦¬ê³  ë³€ìˆ˜ê°€ ì‚¬ìš©ë˜ëŠ” ìˆœê°„ì´ ì•„ë‹Œ í• ë‹¹í•˜ëŠ” ì‹œì ì— ì˜¤ë¥˜ê°€ í‘œì‹œ ë˜ë„ë¡ í•´ì¤ë‹ˆë‹¤.

```ts
interface Product {
  id: string
  name: string
  price: number
}

function logProduct(product: Product) {
  const id: number = product.id
  // ~~ Type 'string' is not assignable to type 'number'
  const name: string = product.name
  const price: number = product.price
  console.log(id, name, price)
}
const furby = {
  name: 'Furby',
  id: 630509430963,
  price: 35,
}
logProduct(furby)
// ~~~~~ ... í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'Product' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
//         'id' ì†ì„±ì˜ í˜•ì‹ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
//         'number' í˜•ì‹ì€ 'string' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> **ë§Œì•½ íƒ€ì… êµ¬ë¬¸ì„ ì œê±°í•œë‹¤ë©´ ì‰ì—¬ ì†ì„± ì²´í¬ê°€ ë™ì‘í•˜ì§€ ì•Šê³ ,**  ê°ì²´ë¥¼ ì„ ì–¸ í•œ ê³³ì´ ì•„ë‹ˆë¼ ê°ì²´ê°€ ì‚¬ìš©ë˜ëŠ” ê³³ì—ì„œ íƒ€ì… ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

#### 2. í•¨ìˆ˜ì˜ ë°˜í™˜ì—ë„ íƒ€ì…ì„ ëª…ì‹œí•˜ì—¬ ì˜¤ë¥˜ë¥¼ ë°©ì§€ í•  ìˆ˜ ìˆë‹¤.

> íƒ€ì… ì¶”ë¡ ì´ ê°€ëŠ¥í• ì§€ë¼ë„ êµ¬í˜„ìƒì˜ ì˜¤ë¥˜ê°€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê³³ê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´ íƒ€ì… êµ¬ë¬¸ì„ ëª…ì‹œí•˜ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤.


```ts
// ì£¼ì‹ ì‹œì„¸ë¥¼ ì¡°íšŒí•˜ëŠ” í•¨ìˆ˜
const cache: { [ticker: string]: number } = {}
function getQuote(ticker: string) {
  if (ticker in cache) {
    return cache[ticker]
  }
  return fetch(`https://quotes.example.com/?q=${ticker}`)
    .then(response => response.json())
    .then(quote => {
      cache[ticker] = quote
      return quote
    })
}
function considerBuying(x: any) {}
getQuote('MSFT').then(considerBuying)
// ~~~ 'number | Promise<any>' í˜•ì‹ì— 'then' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤
//     'number' í˜•ì‹ì— 'then' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
```

>  getQuoteëŠ” í•­ìƒ Promiseë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ if êµ¬ë¬¸ì—ëŠ” `cache[ticker]` ê°€ ì•„ë‹ˆë¼ `Promise.resolve(cache[ticker])` ê°€ ë°˜í™˜ ë˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.
>  ì˜¤ë¥˜ëŠ” getQuote ë‚´ë¶€ê°€ ì•„ë‹Œ getQuoteë¥¼ í˜¸ì¶œí•œ ì½”ë“œì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.

```ts
const cache: { [ticker: string]: number } = {}
function getQuote(ticker: string):Promise<number> {
  if (ticker in cache) {
    return cache[ticker];
  }
	...
}

	...
	...
	...
```

> ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œ í•œë‹¤ë©´, ì •í™•í•œ ìœ„ì¹˜ì— ì˜¤ë¥˜ê°€ í‘œì‹œë©ë‹ˆë‹¤.


- [0] ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œ í•˜ë©´ í•¨ìˆ˜ì— ëŒ€í•´ ë”ìš± ëª…í™•í•˜ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.

> ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•˜ë ¤ë©´ êµ¬í˜„í•˜ê¸° ì „ì— ì…ë ¥ íƒ€ì…ê³¼ ì¶œë ¥ íƒ€ì…ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ì•¼ ë˜ê³  ì¶”í›„ì— ì½”ë“œê°€ ì¡°ê¸ˆ ë³€ê²½ ë˜ì–´ë„ ê·¸ í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ëŠ” ì‰½ê²Œ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•˜ëŠ” ë°©ë²•ì€ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD)ì™€ ìœ ì‚¬í•˜ë‹¤.


- [1] ëª…ëª…ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ

```ts
interface Vector2D {
  x: number
  y: number
}
function add(a: Vector2D, b: Vector2D) {
  return { x: a.x + b.x, y: a.y + b.y }
}
```

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë°˜í™˜ íƒ€ì…ì„ { x: number; y: number; }ë¡œ ì¶”ë¡ í–ˆìŠµë‹ˆë‹¤.
> ì´ëŸ° ê²½ìš° Vector2Dì™€ í˜¸í™˜ë˜ì§€ë§Œ,
> ì…ë ¥ì´ Vector2Dì¸ë° ë°˜í•´ ì¶œë ¥ì€ Vector2Dê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì‚¬ìš©ì ì…ì¥ì—ì„œ ë‹¹í™©ìŠ¤ëŸ½ë‹¤.

![](../images/image07.png)

> Tip
> eslint ê·œì¹™ì¤‘ `no-inferrable-types`ì„ ì‚¬ìš©í•´ì„œ ëª¨ë“  íƒ€ì…ì´ ëª…ì‹œì  íƒ€ì…ì´ ê¼­ í•„ìš”í•œì§€ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.


> ìš”ì•½

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤ë©´ íƒ€ì… êµ¬ë¬¸ì„ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.
- ì´ìƒì ì¸ ê²½ìš° í•¨ìˆ˜/ë©”ì„œë“œì˜ ì‹œê·¸ë‹ˆì²˜ì—ëŠ” íƒ€ì… êµ¬ë¬¸ì´ ìˆì§€ë§Œ, í•¨ìˆ˜ ë‚´ì˜ ì§€ì—­ ë³€ìˆ˜ì—ëŠ” íƒ€ì… êµ¬ë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.
- ì¶”ë¡ ë  ìˆ˜ ìˆëŠ” ê²½ìš°ë¼ë„ ê°ì²´ ë¦¬í„°ëŸ´ê³¼ í•¨ìˆ˜ ë°˜í™˜ì—ëŠ” íƒ€ì… ëª…ì‹œë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ë‚´ë¶€ êµ¬í˜„ì˜ ì˜¤ë¥˜ê°€ ì‚¬ìš©ì ì½”ë“œ ìœ„ì¹˜ì— ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ ë°©ì§€í•´ ì¤ë‹ˆë‹¤.


## ğŸ 3-2 (ì•„ì´í…œ20) ë‹¤ë¥¸ íƒ€ì…ì—ëŠ” ë‹¤ë¥¸ ë³€ìˆ˜ ì‚¬ìš©í•˜ê¸°

> *"ë³€ìˆ˜ì˜ ê°’ì€ ë°”ë€” ìˆ˜ ìˆì§€ë§Œ ê·¸ íƒ€ì…ì€ ë³´í†µ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤"* ëŠ” ì¤‘ìš”í•œ ê´€ì ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## ğŸŒ¸ 3-3 (ì•„ì´í…œ21) íƒ€ì… ë„“íˆê¸°

> ìƒìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•  ë•Œ íƒ€ì…ì„ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ íƒ€ì… ì²´ì»¤ëŠ” íƒ€ì…ì„ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤.
> ì§€ì •ëœ ë‹¨ì¼ ê°’ì„ ê°€ì§€ê³  í• ë‹¹ ê°€ëŠ¥í•œ ê°’ë“¤ì˜ ì§‘í•©ì„ ìœ ì¶”í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì´ëŸ¬í•œ ê³¼ì •ì„ *'ë„“íˆê¸°(widening)'* ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

```ts
interface Vector3 {
  x: number
  y: number
  z: number
}
function getComponent(vector: Vector3, axis: 'x' | 'y' | 'z') {
  return vector[axis]
}
let x = 'x'
let vec = { x: 10, y: 20, z: 30 }
getComponent(vec, x)
// ~ 'string' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"x" | "y" | "z"'
//    í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> ì‹¤í–‰ì€ ì˜ ë˜ì§€ë§Œ í¸ì§‘ê¸°ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
> ì¦‰ javascript ëŸ°íƒ€ì„ í™˜ê²½ì—ì„  ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì§€ë§Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì…ì²´ì»¤ì—ì„œëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
> getComponent í•¨ìˆ˜ëŠ” ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— `'x' | 'y' | 'z'` ë¥¼ ê¸°ëŒ€í–ˆì§€ë§Œ, xì˜ íƒ€ì…ì€ í• ë‹¹ ì‹œì ì—
> `ë„“íˆê¸°(widening)`ê°€ ë™ì‘í•´ì„œ stringìœ¼ë¡œ ì¶”ë¡  ë˜ì—ˆìŠµë‹ˆë‹¤.


```ts
const mixed = ['x', 1]
```

> ë‹¤ìŒì€ mixedì˜ íƒ€ì…ì´ ë  ìˆ˜ ìˆëŠ” í›„ë³´ë“¤ì…ë‹ˆë‹¤.

- `('x' | 1)[]` 
- `['x',1]` 
- `[string, number]` 
- `readonly [string, number]`
- `(string|number)[]` 
- `readonly (string|number)[]` 
- `[any,any]` 
- `any[]`

> ì •ë³´ê°€ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤ë©´ mixedê°€ ì–´ë–¤ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.


### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë„“íˆê¸°ì˜ ê³¼ì •ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì œê³µ

#### ì²«ë²ˆì§¸ ë°©ë²•ì€ `const` ì…ë‹ˆë‹¤.

> let ëŒ€ì‹  constë¡œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ ë” ì¢ì€ íƒ€ì…ì´ ë©ë‹ˆë‹¤.
> constë¥¼ ì‚¬ìš©í•˜ë©´ ì•ì—ì„œ ë°œìƒí•œ ì˜¤ë¥˜ê°€ í•´ê²°ë©ë‹ˆë‹¤.

```ts
interface Vector3 {
  x: number
  y: number
  z: number
}
function getComponent(vector: Vector3, axis: 'x' | 'y' | 'z') {
  return vector[axis]
}
const x = 'x' // íƒ€ì…ì´ "x"
let vec = { x: 10, y: 20, z: 30 }
getComponent(vec, x) // ì •ìƒ
```



```ts
interface Vector3 {
  x: number
  y: number
  z: number
}
function getComponent(vector: Vector3, axis: 'x' | 'y' | 'z') {
  return vector[axis]
}
const v = {
  x: 1,
}
v.x = 3 // ì •ìƒ
v.x = '3'
// ~ ""3"' í˜•ì‹ì€ 'number' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
v.y = 4
// ~ '{ x: number; }' í˜•ì‹ì— 'y' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
v.name = 'Pythagoras'
// ~~~ '{ x: number; }' í˜•ì‹ì— 'name' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
```

> ê°ì²´ì˜ ê²½ìš° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ë„“íˆê¸° ì•Œê³ ë¦¬ì¦˜ì€ ê° ìš”ì†Œë¥¼ letìœ¼ë¡œ í• ë‹¹ëœê²ƒ ì²˜ëŸ¼ ë‹¤ë¦…ë‹ˆë‹¤.
> ê·¸ë˜ì„œ `vì˜ íƒ€ì…ì€ {x: number}` ê°€ ë©ë‹ˆë‹¤.


### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ì¬ ì •ì˜í•˜ëŠ” ì„¸ê°€ì§€ ë°©ë²•

#### ì²«ë²ˆì§¸ ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì œê³µ

```ts
const v: { x: 1 | 3 | 5 } = {
  x: 1,
} // íƒ€ì…ì´ { x: 1 | 3 | 5; }
```


#### ë‘ë²ˆì§¸ íƒ€ì… ì²´ì»¤ì— ì¶”ê°€ì ì¸ ë¬¸ë§¥ì„ ì œê³µí•˜ëŠ” ê²ƒ
> (ì˜ˆë¥¼ ë“¤ì–´, í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ê°’ì„ ì „ë‹¬)


#### ì„¸ë²ˆì§¸ const ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ
```ts
interface Vector3 {
  x: number
  y: number
  z: number
}
function getComponent(vector: Vector3, axis: 'x' | 'y' | 'z') {
  return vector[axis]
}
const v1 = {
  x: 1,
  y: 2,
} // íƒ€ì…ì€ { x: number; y: number; }

const v2 = {
  x: 1 as const,
  y: 2,
} // íƒ€ì…ì€ { x: 1; y: number; }

const v3 = {
  x: 1,
  y: 2,
} as const // íƒ€ì…ì€ { readonly x: 1; readonly y: 2; }
```

> ê°’ ë’¤ì— as constë¥¼ ì‘ì„±í•˜ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìµœëŒ€í•œ ì¢ì€ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ í•©ë‹ˆë‹¤.
> `v3` ì—ëŠ” ë„“íˆê¸°ê°€ ë™ì‘í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
> `v3`ì´ ì§„ì§œ ìƒìˆ˜ë¼ë©´, ì£¼ì„ì— ë³´ì´ëŠ” ì¶”ë¡ ëœ íƒ€ì…ì´ ì‹¤ì œë¡œ ì›í•˜ëŠ” í˜•íƒœì¼ ê²ƒì…ë‹ˆë‹¤.


```ts
const a1 = [1, 2, 3] // íƒ€ì…ì´ number[]
const a2 = [1, 2, 3] as const // íƒ€ì…ì´ readonly [1, 2, 3]
```

> ë˜í•œ ë°°ì—´ì„ íŠœí”Œ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ í•  ë•Œì—ë„ as constë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


> ìš”ì•½

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ë„“íˆê¸°ë¥¼ í†µí•´ ìƒìˆ˜ì˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ëŠ” ë²•ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.
- ë™ì‘ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ë°©ë²•ì¸ const, íƒ€ì… êµ¬ë¬¸, ë¬¸ë§¥, as constì— ìµìˆ™ í•´ì ¸ì•¼ í•©ë‹ˆë‹¤.



## ğŸ¼ 3-4 (ì•„ì´í…œ22) íƒ€ì… ì¢íˆê¸°

- null ì²´í¬ë¥¼ í†µí•´ íƒ€ì… ì¢íˆê¸°
- instanceofë¥¼ ì‚¬ìš©í•´ íƒ€ì… ì¢íˆê¸°
- `in` ì†ì„± ì²´í¬ë¡œ íƒ€ì… ì¢íˆê¸°
- `Array.isArray` ê°™ì€ ì¼ë°˜ ë‚´ì¥í•¨ìˆ˜ë“±ìœ¼ë¡œ íƒ€ì… ì¢íˆê¸°
- `typeof` ë¡œ íƒ€ì… ì¢íˆê¸°
- íƒ€ì…ì„ ì¢íˆëŠ” ë˜ ë‹¤ë¥¸ ì¼ë°˜ì ì¸ ë°©ë²•ì€ `ëª…ì‹œì  'íƒœê·¸'` ë¥¼ ë¶™ì´ëŠ” ê²ƒ
- ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ ì‚¬ìš©

> `typeof` ë¡œ íƒ€ì… ì¢íˆê¸°ì‹œì— ì˜ëª»ëœ ë°©ë²•

```ts
const el = document.getElementById('foo') // íƒ€ì…ì´ HTMLElement | null
if (typeof el === 'object') {
  el // íƒ€ì…ì´ HTMLElement | null
}
```

> ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ typeof nullì´ "object"ì´ê¸° ë•Œë¬¸ì—, if êµ¬ë¬¸ì—ì„œ nullì´ ì œì™¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

```ts
function foo(x?: number | string | null) {
  if (!x) {
    x // íƒ€ì…ì´ string | number | null | undefined
  }
}
```

> ë¹ˆ ë¬¸ìì—´ ê³¼ 0 ëª¨ë‘ falseê°€ ë˜ê¸° ë•Œë¬¸ì—, íƒ€ì…ì€ ì „í˜€ ì¢í˜€ì§€ì§€ ì•Šì•˜ê³  xëŠ” ì—¬ì „íˆ ë¸”ë¡ ë‚´ì—ì„œ string ë˜ëŠ” numberê°€ ë©ë‹ˆë‹¤.


- ëª…ì‹œì  'íƒœê·¸' ë¶™ì´ëŠ” ë°©ë²•

```ts
interface UploadEvent {
  type: 'upload'
  filename: string
  contents: string
}
interface DownloadEvent {
  type: 'download'
  filename: string
}
type AppEvent = UploadEvent | DownloadEvent

function handleEvent(e: AppEvent) {
  switch (e.type) {
    case 'download':
      e // íƒ€ì…ì´ DownloadEvent
      break
    case 'upload':
      e // íƒ€ì…ì´ UploadEvent
      break
  }
}
```

> ì´ íŒ¨í„´ì€ 'ëœ ìœ ë‹ˆì˜¨(tagged union)' ë˜ëŠ” 'êµ¬ë³„ëœ ìœ ë‹ˆì˜¨(discriminated union) ì´ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤.


```ts
function isInputElement(el: HTMLElement): el is HTMLInputElement {
  return 'value' in el
}

function getElementContent(el: HTMLElement) {
  if (isInputElement(el)) {
    el // íƒ€ì…ì´ HTMLInputElement
    return el.value
  }
  el // íƒ€ì…ì´ HTMLElement
  return el.textContent
}

```

> ë§Œì•½ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì…ì„ ì‹ë³„í•˜ì§€ ëª»í•œë‹¤ë©´, ì‹ë³„ì„ ë•ê¸° ìœ„í•´ ì»¤ìŠ¤í…€ í•¨ìˆ˜ë¥¼ ë„ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> ì´ëŸ¬í•œ ê¸°ë²•ì„ 'ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ' ë¼ê³  í•©ë‹ˆë‹¤.
> ë°˜í™˜ íƒ€ì…ì˜ `el HTMLInputElement` ëŠ” í•¨ìˆ˜ì˜ ë°˜í™˜ì´ trueì¸ ê²½ìš°, íƒ€ì… ì²´ì»¤ì—ê²Œ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ ì¢í ìˆ˜ ìˆë‹¤ê³  ì•Œë ¤ì¤ë‹ˆë‹¤.



> ì–´ë–¤ í•¨ìˆ˜ë“¤ì€ íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ê³¼ ê°ì²´ì˜ íƒ€ì… ì¢íˆê¸°ë¥¼ í•  ìˆ˜ ìˆ ìŠµë‹ˆë‹¤.


- ì˜ˆì‹œ undefinedê°€ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ì‚¬ìš© í•  ë•Œ

```ts
const jackson5 = ['Jackie', 'Tito', 'Jermaine', 'Marlon', 'Michael'];
const members = ['Janet', 'Michael'].map(who => jackson5.find(n => n === who)); // íƒ€ì…ì´ (string | undefined)[]
```

- filter í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ undefinedë¥¼ ê±¸ëŸ¬ ë‚´ë ¤ê³  í•´ë„ ì˜ ë™ì‘í•˜ì§€ ì•Šì„ ê²ë‹ˆë‹¤.

```ts
const jackson5 = ['Jackie', 'Tito', 'Jermaine', 'Marlon', 'Michael']
const members = ['Janet', 'Michael'].map(who => jackson5.find(n => n === who)).filter(who => who !== undefined) // íƒ€ì…ì´ (string | undefined)[]
```

- ì´ëŸ´ ë•Œ íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì…ì„ ì¢í ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
const jackson5 = ['Jackie', 'Tito', 'Jermaine', 'Marlon', 'Michael']
function isDefined<T>(x: T | undefined): x is T {
  return x !== undefined
}
const members = ['Janet', 'Michael'].map(who => jackson5.find(n => n === who)).filter(isDefined) // íƒ€ì…ì´ string[]
```


> í¸ì§‘ê¸°ì—ì„œ íƒ€ì…ì„ ì¡°ì‚¬í•˜ëŠ” ìŠµê´€ì„ ê°€ì§€ë©´ íƒ€ì… ì¢íˆê¸°ê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ìì—°ìŠ¤ë ˆ ìµí ìˆ˜ ìˆìŠµë‹ˆë‹¤.


> ìš”ì•½

- ë¶„ê¸°ë¬¸ ì™¸ì—ë„ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì œì–´ íë¦„ì„ ì‚´í´ë³´ë©° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì…ì„ ì¢íˆëŠ” ê³¼ì •ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒœê·¸ëœ/êµ¬ë³„ëœ ìœ ë‹ˆì˜¨ê³¼ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì… ì¢íˆê¸° ê³¼ì •ì„ ì›í™œí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



## ğŸ¨ 3-5 (ì•„ì´í…œ23) í•œêº¼ë²ˆì— ê°ì²´ ìƒì„±í•˜ê¸°
> ë³€ìˆ˜ì˜ ê°’ì€ ë³€ê²½ë  ìˆ˜ ìˆì§€ë§Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì…ì€ ì¼ë°˜ì ìœ¼ë¡œ ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.



```ts
declare let hasMiddle: boolean
const firstLast = { first: 'Harry', last: 'Truman' }
const president = { ...firstLast, ...(hasMiddle ? { middle: 'S' } : {}) }
```

> íƒ€ì…ì— ì•ˆì „í•œ ë°©ì‹ìœ¼ë¡œ ì¡°ê±´ë¶€ ì†ì„±ì„ ì¶”ê°€í•˜ë ¤ë©´, ì†ì„±ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ” null ë˜ëŠ” (}ìœ¼ë¡œ ê°ì²´ ì „ê°œë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.
> í¸ì§‘ê¸°ì—ì„œ president ì‹¬ë²Œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ ë³´ë©´, íƒ€ì…ì´ ì„ íƒì  ì†ì„±ì„ ê°€ì§„ ê²ƒìœ¼ë¡œ ì¶”ë¡ ëœë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


```ts
const pharaoh: {
	start: number;
	end: number;
	name: string;
	title: string;
	} | {
	name: string;
	title: string;
}

  
pharaoh.start
// ~~~ '{ name: string; title: string;}' í˜•ì‹ì— 
//     'start' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
```

> ì´ íƒ€ì…ì—ì„œëŠ” startë¥¼ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
> ì´ ê²½ìš°ëŠ” startì™€ endê°€ í•­ìƒ í•¨ê»˜ ì •ì˜ë©ë‹ˆë‹¤.
> ìœ ë‹ˆì˜¨ë³´ë‹¤ëŠ” ì„ íƒì  í•„ë“œê°€ ë‹¤ë£¨ê¸°ì—ëŠ” ë” ì‰¬ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
declare let hasMiddle: boolean
const firstLast = { first: 'Harry', last: 'Truman' }
function addOptional<T extends object, U extends object>(a: T, b: U | null): T & Partial<U> {
  return { ...a, ...b }
}

const president = addOptional(firstLast, hasMiddle ? { middle: 'S' } : null)
president.middle // ì •ìƒ, íƒ€ì…ì´ string | undefined
```


> ìš”ì•½

- ì†ì„±ì„ ì œê°ê° ì¶”ê°€í•˜ì§€ ë§ê³  í•œêº¼ë²ˆì— ê°ì²´ë¡œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ì•ˆì „í•œ íƒ€ì…ìœ¼ë¡œ ì†ì„±ì„ ì¶”ê°€í•˜ë ¤ë©´ ê°ì²´ ì „ê°œ ({...a, ...b})ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.
- ê°ì²´ì— ì¡°ê±´ë¶€ë¡œ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ìµíˆë„ë¡ í•©ë‹ˆë‹¤.


## ğŸ» 3-6 (ì•„ì´í…œ24) ì¼ê´€ì„± ìˆëŠ” ë³„ì¹­ ì‚¬ìš©í•˜ê¸°

```ts
interface Coordinate {
  x: number
  y: number
}

interface BoundingBox {
  x: [number, number]
  y: [number, number]
}

interface Polygon {
  exterior: Coordinate[]
  holes: Coordinate[][]
  bbox?: BoundingBox
}
// ì›ë³¸ ì½”ë“œ ì²«ë²ˆì§¸ ì˜ˆì œ
function isPointInPolygon(polygon: Polygon, pt: Coordinate) {
  if (polygon.bbox) {
    if (pt.x < polygon.bbox.x[0] || pt.x > polygon.bbox.x[1] || pt.y < polygon.bbox.y[1] || pt.y > polygon.bbox.y[1]) {
      return false
    }
  }

  // ... more complex check
}

// ë°˜ë³µ ë˜ëŠ” ì½”ë“œë¥¼ ë³„ì¹­ìœ¼ë¡œ ì‚¬ìš© í–ˆì„ë•Œ
function isPointInPolygon(polygon: Polygon, pt: Coordinate) {
  const box = polygon.bbox
  if (polygon.bbox) {
    if (
      pt.x < box.x[0] ||
      pt.x > box.x[1] ||
      //     ~~~                ~~~ ê°ì²´ê°€ 'undefined'ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      pt.y < box.y[1] ||
      pt.y > box.y[1]
    ) {
      //     ~~~                ~~~ ê°ì²´ê°€ 'undefined'ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      return false
    }
  }
  // ...
}
```

> (strictNullChecksë¥¼ í™œì„±í™”í–ˆë‹¤ê³  ê°€ì •í–ˆìŠµë‹ˆë‹¤.)
> ì´ ì½”ë“œëŠ” ë™ì‘í•˜ì§€ë§Œ í¸ì§‘ê¸°ì—ì„œ ì˜¤ë¥˜ë¡œ í‘œì‹œë©ë‹ˆë‹¤. 
> ê·¸ ì´ìœ ëŠ” polygon.bboxë¥¼ ë³„ë„ì˜ boxë¼ëŠ” ë³„ì¹­ì„ ë§Œë“¤ì—ˆê³ ,
> ì²« ë²ˆì§¸ ì˜ˆì œì—ì„œëŠ” ì˜ ë™ì‘í–ˆë˜ ì œì–´ íë¦„ ë¶„ì„ì„ ë°©í•´í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
> ì†ì„± ì²´í¬ëŠ” polygon.bboxì˜ íƒ€ì…ì„ ì •ì œí–ˆì§€ë§Œ boxëŠ” ê·¸ë ‡ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
> ì´ëŸ¬í•œ ì˜¤ë¥˜ëŠ” **"ë³„ì¹­ì€ ì¼ê´€ì„± ìˆê²Œ ì‚¬ìš©í•œë‹¤"ëŠ” ê¸°ë³¸ ì›ì¹™(golden rule)** ì„ ì§€í‚¤ë©´ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


```ts
interface Coordinate {
  x: number
  y: number
}

interface BoundingBox {
  x: [number, number]
  y: [number, number]
}

interface Polygon {
  exterior: Coordinate[]
  holes: Coordinate[][]
  bbox?: BoundingBox
}
function isPointInPolygon(polygon: Polygon, pt: Coordinate) {
  const box = polygon.bbox
  if (box) {
    if (pt.x < box.x[0] || pt.x > box.x[1] || pt.y < box.y[1] || pt.y > box.y[1]) {
      // ì„±ê³µ
      return false
    }
  }
  // ...
}

// ê°ì²´ ë¹„êµ¬ì¡°í™” í• ë‹¹ìœ¼ë¡œ ê°œì„ 
function isPointInPolygon(polygon: Polygon, pt: Coordinate) {
  const { bbox } = polygon
  if (bbox) {
    const { x, y } = bbox
    if (pt.x < x[0] || pt.x > x[1] || pt.y < x[0] || pt.y > y[1]) {
      return false
    }
  }
  // ...
}
```

> if ë¶„ê¸°ë¬¸ì˜ `polygon.bbox` ë¥¼  ë³„ì¹­ `box`ë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤.


> ê·¸ëŸ¬ë‚˜ ê°ì²´ ë¹„êµ¬ì¡°í™”ë¥¼ ì´ìš©í•  ë•ŒëŠ” ë‘ ê°€ì§€ë¥¼ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

- ì „ì²´ bbox ì†ì„±ì´ ì•„ë‹ˆë¼ xì™€ yê°€ ì„ íƒì  ì†ì„±ì¼ ê²½ìš°ì— ì†ì„± ì²´í¬ê°€ ë” í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ íƒ€ì…ì˜ ê²½ê³„ì— null ê°’ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì•„ì´í…œ 31)
- bboxì—ëŠ” ì„ íƒì  ì†ì„±ì´ ì í•©í–ˆì§€ë§Œ holesëŠ” ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤. holesê°€ ì„ íƒì ì´ë¼ë©´, ê°’ì´ ì—†ê±°ë‚˜ ë¹ˆ ë°°ì—´(`[]`)ì´ì—ˆì„ ê²ë‹ˆë‹¤. ì°¨ì´ê°€ ì—†ëŠ”ë° ì´ë¦„ì„ êµ¬ë³„í•œ ê²ƒì…ë‹ˆë‹¤. ë¹ˆ ë°°ì—´ì€ 'holes ì—†ìŒ'ì„ ë‚˜íƒ€ë‚´ëŠ” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.



- ë³„ì¹­ì€ íƒ€ì… ì²´ì»¤ë¿ë§Œ ì•„ë‹ˆë¼ ëŸ°íƒ€ì„ì—ë„ í˜¼ë™ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
interface Coordinate {
  x: number
  y: number
}

interface BoundingBox {
  x: [number, number]
  y: [number, number]
}

interface Polygon {
  exterior: Coordinate[]
  holes: Coordinate[][]
  bbox?: BoundingBox
}
// HIDE
const polygon: Polygon = { exterior: [], holes: [] }
function calculatePolygonBbox(polygon: Polygon) {}
// END
const { bbox } = polygon
if (!bbox) {
  calculatePolygonBbox(polygon) // polygon.bboxê°€ ì±„ì›Œì§‘ë‹ˆë‹¤.
  // ì´ì œ polygon.bboxì™€ bboxëŠ” ë‹¤ë¥¸ ê°’ì„ ì°¸ì¡°í•©ë‹ˆë‹¤!
}

```


- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì œì–´ íë¦„ ë¶„ì„ì€ ì§€ì—­ ë³€ìˆ˜ì—ëŠ” ê½¤ ì˜ ë™ì‘í•©ë‹ˆë‹¤.

```ts
interface BoundingBox {
  x: [number, number]
  y: [number, number]
}

interface Polygon {
  exterior: Coordinate[]
  holes: Coordinate[][]
  bbox?: BoundingBox
}
// HIDE
const polygon: Polygon = { exterior: [], holes: [] }
function calculatePolygonBbox(polygon: Polygon) {}
// END
const { bbox } = polygon
if (!bbox) {
  calculatePolygonBbox(polygon) // Fills in polygon.bbox
  // Now polygon.bbox and bbox refer to different values!
}

function fn(p: Polygon) {
  /* ... */
}

polygon.bbox // íƒ€ì…ì´ BoundingBox | undefined
if (polygon.bbox) {
  polygon.bbox // íƒ€ì…ì´ BoundingBox
  fn(polygon)
  polygon.bbox // íƒ€ì…ì´ still BoundingBox
}
```


> ìš”ì•½

- ë³„ì¹­ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì…ì„ ì¢íˆëŠ” ê²ƒì„ ë°©í•´í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ë³€ìˆ˜ì— ë³„ì¹­ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- ë¹„êµ¬ì¡°í™” ë¬¸ë²•ì„ ì‚¬ìš©í•´ì„œ ì¼ê´€ëœ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
- í•¨ìˆ˜ í˜¸ì¶œì´ ê°ì²´ ì†ì„±ì˜ íƒ€ì… ì •ì œë¥¼ ë¬´íš¨í™”í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì†ì„±ë³´ë‹¤ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì… ì •ì œë¥¼ ë¯¿ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



## ğŸ¹ 3-7 (ì•„ì´í…œ25) ë¹„ë™ê¸° ì½”ë“œì—ëŠ” ì½œë°± ëŒ€ì‹  async í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°

> ìš”ì•½

- ì½œë°±ë³´ë‹¤ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ì½”ë“œ ì‘ì„±ê³¼ íƒ€ì… ì¶”ë¡  ë©´ì—ì„œ ìœ ë¦¬í•©ë‹ˆë‹¤.
- ê°€ëŠ¥í•˜ë©´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•˜ê¸°ë³´ë‹¤ëŠ” asyncì™€ awaitë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê³  ëª¨ë“  ì¢…ë¥˜ì˜ ì˜¤ë¥˜ë¥¼ ì œê±° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì–´ë–¤ í•¨ìˆ˜ê°€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤ë©´ asyncë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.


## ğŸ¦Š 3-8 (ì•„ì´í…œ26) íƒ€ì… ì¶”ë¡ ì— ë¬¸ë§¥ì´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ì´í•´í•˜ê¸°


### ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì… ì‚¬ìš© ì‹œ ì£¼ì˜ì 

```ts
type Language = 'JavaScript' | 'TypeScript' | 'Python'
function setLanguage(language: Language) {
  /* ... */
}

setLanguage('JavaScript') // OK

let language = 'JavaScript'
setLanguage(language)
// ~~~~~~~~ 'string' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
//          'Language' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> ë³€ìˆ˜ë¡œ ë¶„ë¦¬í•´ë‚´ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í• ë‹¹ ì‹œì ì— íƒ€ì…ì„ ì¶”ë¡ í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ `string`ìœ¼ë¡œ ì¶”ë¡ í–ˆê³ , `Language` íƒ€ì…ìœ¼ë¡œ í• ë‹¹ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒ í–ˆìŠµë‹ˆë‹¤.


- ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì€ ë‘ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.

#### ì²« ë²ˆì§¸ íƒ€ì… ì„ ì–¸ì—ì„œ languageì˜ ê°€ëŠ¥í•œ ê°’ì„ ì œí•œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```ts
type Language = 'JavaScript' | 'TypeScript' | 'Python'
function setLanguage(language: Language) {
  /* ... */
}
let language:Language = 'JavaScript'
setLanguage(language); // ì •ìƒ
```


#### ë‘ ë²ˆì§¸ languageë¥¼ ìƒìˆ˜ë¡œ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.
```ts
type Language = 'JavaScript' | 'TypeScript' | 'Python'
function setLanguage(language: Language) {
  /* ... */
}
const language:Language = 'JavaScript'
setLanguage(language); // ì •ìƒ
```




### íŠœí”Œ ì‚¬ìš© ì‹œ ì£¼ì˜ì 
```ts
// Parameter is a (latitude, longitude) pair.
function panTo(where: [number, number]) {
  /* ... */
}

panTo([10, 20]) // OK

const loc = [10, 20]
panTo(loc)
//    ~~~ 'number[]' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
//        '[number, number]' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> ìœ„ì™€ ë™ì¼í•˜ê²Œ ë³€ìˆ˜ë¡œ ë¶„ë¦¬í•´ë‚´ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í• ë‹¹ ì‹œì ì— íƒ€ì…ì„ ì¶”ë¡ í•©ë‹ˆë‹¤. `number[]`ë¡œ ì¶”ë¡ í–ˆê³  `[number, number]` íŠœí”Œì— í• ë‹¹ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

#### íƒ€ì… ì„ ì–¸ì„ ì œê³µí•˜ëŠ” ë°©ë²•
```ts
// Parameter is a (latitude, longitude) pair.
function panTo(where: [number, number]) {
  /* ... */
}
const loc: [number, number] = [10, 20]
panTo(loc) // OK
```


#### 'ìƒìˆ˜ ë¬¸ë§¥'ì„ ì œê³µí•˜ëŠ” ë°©ë²•
> constëŠ” ë‹¨ì§€ ê°’ì´ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ê°€ ë³€í•˜ì§€ ì•Šì€ ì–•ì€(shallow) ìƒìˆ˜ì¸ ë°˜ë©´, `as const` ëŠ” ê·¸ ê°’ì´ ë‚´ë¶€ê¹Œì§€(deeply) ìƒìˆ˜ë¼ëŠ” ì‚¬ì‹¤ì„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ê²Œ ì•Œë ¤ ì¤ë‹ˆë‹¤.

```ts
function panTo(where: readonly [number, number]) {
  /* ... */
}
const loc = [10, 20] as const
panTo(loc) // OK
```

> `as const`ë¥¼ ì´ìš©í•˜ì—¬ í•´ê²°ì„ í•˜ë ¤ë©´ panTo í•¨ìˆ˜ì˜ ì¸ìê°’ì— `readonly`ë¥¼ ë¶™ì—¬ì•¼ ì¦‰, whereì˜ ë‚´ìš©ì´ ë¶ˆë³€ì´ë¼ê³  ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤.
> `as const` ì˜ ë‹¨ì ì€ íƒ€ì… ì •ì˜ì— ì‹¤ìˆ˜ê°€ ìˆë‹¤ë©´ (íŠœí”Œì— ì„¸ë²ˆì§¸ ìš”ì†Œë¥¼ ì¶”ê°€ í•œë‹¤ë©´) ì˜¤ë¥˜ëŠ” íƒ€ì… í˜¸ì¶œ ë˜ëŠ”ê³³ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤. ë§Œì•½ ì¤‘ì²© ê°ì²´ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´ ê·¼ë³¸ì ì¸ ì›ì¸ì„ íŒŒì•…í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.

```ts
function panTo(where: readonly [number, number]) {
  /* ... */
}
const loc = [10, 20, 30] as const // error is really here.
panTo(loc)
//    ~~~ 'readonly [10, 20, 30]' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
//        'readonly [number, number]' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
//          'length' ì†ì„±ì˜ í˜•ì‹ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
//            '3' í˜•ì‹ì€ 2' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
```


### ê°ì²´ ì‚¬ìš©ì‹œ ì£¼ì˜ì 
```ts
type Language = 'JavaScript' | 'TypeScript' | 'Python'
interface GovernedLanguage {
  language: Language
  organization: string
}

function complain(language: GovernedLanguage) {
  /* ... */
}

complain({ language: 'TypeScript', organization: 'Microsoft' }) // OK

const ts = {
  language: 'TypeScript',
  organization: 'Microsoft',
}
complain(ts)
//       ~~ '{ language: string; organization: string; }' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
//          'GovernedLanguage' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
//          'language' ì†ì„±ì˜ í˜•ì‹ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
//          'string' í˜•ì‹ì€ 'Language' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> ts ê°ì²´ì—ì„œ languageì˜ íƒ€ì…ì€ stringìœ¼ë¡œ ì¶”ë¡ ë©ë‹ˆë‹¤. ì—ëŸ¬ ë°œìƒ

#### íƒ€ì… ì„ ì–¸ì„ ì œê³µí•´ì„œ í•´ê²°
#### ìƒìˆ˜ ë‹¨ì–¸(as const)ì‚¬ìš©í•´ í•´ê²°


### ì½œë°± ì‚¬ìš© ì‹œ ì£¼ì˜ì 
```ts
function callWithRandomNumbers(fn: (n1: number, n2: number) => void) {
  fn(Math.random(), Math.random())
}

callWithRandomNumbers((a, b) => {
  a // íƒ€ì…ì´ number
  b // íƒ€ì…ì´ number
  console.log(a + b)
})

// ì½œë°± í•¨ìˆ˜ë¥¼ ìƒìˆ˜ë¡œ ë½‘ì•„ ëƒˆì„ë•Œ ì˜¤ë¥˜ ë°œìƒ
const fn = (a, b) => {
  // ~    Parameter 'a' implicitly has an 'any' type
  //    ~ Parameter 'b' implicitly has an 'any' type
  console.log(a + b)
}
callWithRandomNumbers(fn)
```

#### íƒ€ì… êµ¬ë¬¸ ì¶”ê°€ë¡œ í•´ê²°

```ts
function callWithRandomNumbers(fn: (n1: number, n2: number) => void) {
  fn(Math.random(), Math.random())
}

const fn = (a: number, b:number) => {
  console.log(a + b)
}
callWithRandomNumbers(fn)
```

#### ì „ì²´ í•¨ìˆ˜ í‘œí˜„ì‹ì— íƒ€ì… ì„ ì–¸ìœ¼ë¡œ í•´ê²°
```ts
function callWithRandomNumbers(fn: (n1: number, n2: number) => void) {
	fn(Math.random(), Math.random())
}

const fn:Parameters<typeof callWithRandomNumbers>[0] = (a, b) => {
console.log(a + b)
}

callWithRandomNumbers(fn)
```


> ìš”ì•½

- íƒ€ì… ì¶”ë¡ ì—ì„œ ë¬¸ë§¥ì´ ì–´ë–»ê²Œ ì“°ì´ëŠ”ì§€ ì£¼ì˜í•´ì„œ ì‚´í´ë´ì•¼ í•©ë‹ˆë‹¤.
- ë³€ìˆ˜ë¥¼ ë½‘ì•„ì„œ ë³„ë„ë¡œ ì„ ì–¸í–ˆì„ ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´ íƒ€ì… ì„ ì–¸ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.
- ë³€ìˆ˜ê°€ ì •ë§ë¡œ ìƒìˆ˜ë¼ë©´ ìƒìˆ˜ ë‹¨ì–¸(as const)ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìƒìˆ˜ ë‹¨ì–¸ì„ ì‚¬ìš©í•˜ë©´ ì •ì˜í•œ ê³³ì´ ì•„ë‹ˆë¼ ì‚¬ìš©í•œ ê³³ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.



## ğŸ€ 3-9 (ì•„ì´í…œ27) í•¨ìˆ˜í˜• ê¸°ë²•ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íƒ€ì… íë¦„ ìœ ì§€í•˜ê¸°

```ts
// requires node modules: lodash
// requires node modules: @types/lodash

const csvData = '...'
const rawRows = csvData.split('\n')
const headers = rawRows[0].split(',')
import _ from 'lodash'
const rows = rawRows.slice(1).map(rowStr => _.zipObject(headers, rowStr.split(',')))
// Type is _.Dictionary<string>[]
```

> ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°™ì€ê²ƒì„ ì‚¬ìš© í• ë•Œ ë”°ë¡œ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼ í•©ë‹ˆë‹¤.
> DictionaryëŠ” ë¡œëŒ€ì‹œì˜ íƒ€ì… ë³„ì¹­ì´ë©° `Dictionary<string>` ì€ `{[key:string]: string}`  ë˜ëŠ”
> `Record<string, string>` ê³¼ ë™ì¼ í•©ë‹ˆë‹¤. 

- [n] comment
> ë§Œì•½ lodashì—†ì´ typescript í™˜ê²½ì—ì„œ ë˜‘ê°™ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê²Œ ëœë‹¤ë©´ `{[key:string]: string}` `Record<string, string>` ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í• í…ë° ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ íƒ€ì…ì •ì˜ë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ëŸ°ê²ƒì— ì‹œê°„ì„ ì“°ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ë§ì¸ê²ƒ ê°™ë‹¤.

### ì œê³µë˜ëŠ” ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ì¶”ì²œ
```ts
interface BasketballPlayer {
  name: string
  team: string
  salary: number
}
declare const rosters: { [team: string]: BasketballPlayer[] }
let allPlayers: BasketballPlayer[] = []
for (const players of Object.values(rosters)) {
  allPlayers = allPlayers.concat(players) // OK
}
```

> letìœ¼ë¡œ allPlayersë¥¼ ì„ ì–¸í•´ì•¼ ë˜ê³ , ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•Šìœ¼ë ¤ë©´ allPlayersì— íƒ€ì… ì„ ì–¸ì„ ì œê³µ í•´ì£¼ì–´ì•¼ í•œë‹¤.


```ts
interface BasketballPlayer {
  name: string
  team: string
  salary: number
}
declare const rosters: { [team: string]: BasketballPlayer[] }
const allPlayers = Object.values(rosters).flat()
// OK, type is BasketballPlayer[]
```

> ê°„ê²°í•˜ê³ , íƒ€ì… êµ¬ë¬¸ë„ í•„ìš” ì—†ê³ , constë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


> ìš”ì•½

- íƒ€ì… íë¦„ì„ ê°œì„ í•˜ê³ , ê°€ë…ì„±ì„ ë†’ì´ê³ , ëª…ì‹œì ì¸ íƒ€ì… êµ¬ë¬¸ì˜ í•„ìš”ì„±ì„ ì¤„ì´ê¸° ìœ„í•´ ì§ì ‘ êµ¬í˜„í•˜ê¸° ë³´ë‹¤ëŠ” ë‚´ì¥ëœ í•¨ìˆ˜í˜• ê¸°ë²•ê³¼ ë¡œëŒ€ì‹œ ê°™ì€ ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.


