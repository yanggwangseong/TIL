## ğŸ¤– 2-2(ì•„ì´í…œ7) íƒ€ì…ì´ ê°’ë“¤ì˜ ì§‘í•©ì´ë¼ê³  ìƒê°í•˜ê¸°

> *nullê³¼ undefinedëŠ” strictNullChecks ì—¬ë¶€ì— ë”°ë¼ numberì— í•´ë‹¹ë  ìˆ˜ë„, ì•„ë‹ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.* 

```ts
//tsconfig.json
"strictNullChecks": false,

const item: number = null; // OK
```

- never íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ì˜ ë²”ìœ„ëŠ” ê³µì§‘í•©ì´ê¸° ë•Œë¬¸ì— ì•„ë¬´ëŸ° ê°’ë„ í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

```ts
const x: never = 12
// ~ Type '12' is not assignable to type 'never'
```

- í•œ ê°€ì§€ ê°’ë§Œ í¬í•¨í•˜ëŠ” íƒ€ì… ë¦¬í„°ëŸ´(literal) íƒ€ì…

```ts
type A = 'A'
type B = 'B'
type Twelve = 12
```

- ë‘ ê°œ í˜¹ì€ ì„¸ ê°œë¡œ ë¬¶ìœ¼ë ¤ë©´ ìœ ë‹ˆì˜¨(union) íƒ€ì… ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ê°’ ì§‘í•©ë“¤ì˜ í•©ì§‘í•©ì„ ì¼ì»«ìŠµë‹ˆë‹¤.

```ts
type AB = 'A' | 'B'
type AB12 = 'A' | 'B' | 12
```

> ì§‘í•©ì˜ ê´€ì ì—ì„œ, **íƒ€ì… ì²´ì»¤ì˜ ì£¼ìš” ì—­í• ì€ í•˜ë‚˜ì˜ ì§‘í•©ì´ ë‹¤ë¥¸ ì§‘í•©ì˜ ë¶€ë¶„ ì§‘í•©ì¸ì§€ ê²€ì‚¬í•˜ëŠ” ê²ƒì´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.** 

```ts
type AB = 'A' | 'B'
type AB12 = 'A' | 'B' | 12
// ì •ìƒ, {"A", "B"} ëŠ” {"A", "B"}ì˜ ë¶€ë¶„ ì§‘í•©ì…ë‹ˆë‹¤.
const ab: AB = Math.random() < 0.5 ? 'A' : 'B'
const ab12: AB12 = ab // ì •ìƒ, {"A", "B"} ëŠ” {"A", "B", 12}ì˜ ë¶€ë¶„ ì§‘í•©ì…ë‹ˆë‹¤.
declare let twelve: AB12

const back: AB = twelve
// ~~~~ 'AB12' í˜•ì‹ì€ 'AB' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
//        12' í˜•ì‹ì€ 'AB' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤

```

- ì¸í„°ì„¹ì…˜ ì¼ë•Œ
  
```ts
interface Identified {
  id: string
}
interface Person {
  name: string
}
interface Lifespan {
  birth: Date
  death?: Date
}
type PersonSpan = Person & Lifespan
const ps: PersonSpan = {
  name: 'Alan Turing',
  birth: new Date('1912/06/23'),
  death: new Date('1954/06/07'),
} // OK
```

> & ì—°ì‚°ìëŠ” ë‘ íƒ€ì…ì˜ ì¸í„°ì„¹ì…˜(intersection, êµì§‘í•©)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
> Personspan íƒ€ì…ì„ ê³µì§‘í•©(never íƒ€ì…)ìœ¼ë¡œ ì˜ˆìƒí•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.
> ê·¸ëŸ¬ë‚˜ íƒ€ì… ì—°ì‚°ìëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ì†ì„±ì´ ì•„ë‹Œ, *ê°’ì˜ ì§‘í•©(íƒ€ì…ì˜ ë²”ìœ„)ì— ì ìš©ë©ë‹ˆë‹¤.* 
> ê·¸ë¦¬ê³  ì¶”ê°€ì ì¸ ì†ì„±ì„ ê°€ì§€ëŠ” ê°’ë„ ì—¬ì „íˆ ê·¸ íƒ€ì…ì— ì†í•©ë‹ˆë‹¤.
> ê·¸ë˜ì„œ Personê³¼ Lifespanì„ ë‘˜ ë‹¤ ê°€ì§€ëŠ” ê°’ì€ ì¸í„°ì„¹ì…˜ íƒ€ì…ì— ì†í•˜ê²Œ ë©ë‹ˆë‹¤.

> êµì§‘í•©ì´ ë˜ë ¤ë©´ ê·¸ êµì§‘í•©ì„ `Person` ìœ¼ë¡œ ê°„ì£¼í•´ë„, `LifeSpan` ìœ¼ë¡œ ê°„ì£¼í•´ë„ ë¬´ë¦¬ê°€ ì—†ì–´ì•¼í•©ë‹ˆë‹¤. ì¦‰, íƒ€ì…ê´€ì ì—ì„œ `Person` ì—ë„ ì†í•˜ê³ , `Life` ì—ë„ ì†í•˜ëŠ” íƒ€ì…ì´ êµì§‘í•©ì´ë‹¤.
> **`Person` ì— ìˆëŠ” ì†ì„±ë„ ê°€ì§€ê³  ìˆìœ¼ë©´ì„œ, `Life` ì— ìˆëŠ” ì†ì„±ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆì–´ì•¼ `Person`, `Life` ê°ê° ê°„ì£¼í•´ë„ ë¬¸ì œê°€ ì—†ì„ê²ƒì…ë‹ˆë‹¤.**  ì™œëƒí•˜ë©´ *êµ¬ì¡°ì  íƒ€ì´í•‘*  ë–„ë¬¸ì…ë‹ˆë‹¤.

```ts
type Line = "Name" & 110; // never

type LineString = "Name";
type LineNumber= 110;
type Line = LineString & LineNumber;
```

> êµ¬ì¡°ì  íƒ€ì´í•‘ì€ ì†ì„±ê³¼ ë©”ì„œë“œì˜ ì¼ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ë•Œë¬¸ì—, íƒ€ì…ì˜ ì‹¤ì œ ê°’ì´ ì•„ë‹Œ íƒ€ì… ìì²´ì˜ êµ¬ì¡°ë¥¼ ë¹„êµí•©ë‹ˆë‹¤. ë¬¸ìì—´ê³¼ ìˆ«ìëŠ” êµì§‘í•©ì´ ì—†ê¸° ë•Œë¬¸ì— neverë¡œ ì¶”ë¡ ëœë‹¤.

- ìœ ë‹ˆì˜¨ì¼ë•Œ

```ts
interface Identified {
  id: string
}
interface Person {
  name: string
}
interface Lifespan {
  birth: Date
  death?: Date
}
type PersonSpan = Person & Lifespan
type K = keyof (Person | Lifespan) // Type is never
```

> ìœ ë‹ˆì˜¨ íƒ€ì…ì— ì†í•˜ëŠ” ê°’ì€ ì–´ë– í•œ í‚¤ë„ ì—†ê¸° ë•Œë¬¸ì—, ìœ ë‹ˆì˜¨ì— ëŒ€í•œ keyofëŠ” ê³µì§‘í•©(never)ì´ì–´ì•¼ë§Œ í•©ë‹ˆë‹¤.

> Personê³¼ LifeSpanì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì´ë¼ëŠ” íƒ€ì…ì€ ì–´ë–¤ íƒ€ì…ì´ `Person` ì— ì†í•˜ê±°ë‚˜ ì•„ë‹ˆë©´ `LifeSapn` ì— ì†í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤.
> ê·¸ëŸ°ë° `Person` ì´ê±°ë‚˜ `LifeSpan` ì´ ë  ìˆ˜ ìˆëŠ” ì†ì„±ì´ ì•„ë¬´ê²ƒë„ ì—†ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ `keyof` ë¥¼ í•œ ê²°ê³¼ê°€ neverì´ë‹¤.

> ì¸í„°ì„¹ì…˜ íƒ€ì…ê³¼ ìœ ë‹ˆì˜¨ íƒ€ì… ì •ë¦¬

- keyof (A&B) = (keyof A) | (keyof B)
- keyof (A|B) = (keyof A) & (keyof B)

- [n] comment #Typescript/êµ¬ì¡°ì íƒ€ì´í•‘
> ìƒê° í•´ë³´ë‹ˆê¹Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì“¸ë•Œ ì–¸ì œ | ë¥¼ ì“°ê³  ì–¸ì œ &ë¥¼ ì“°ëŠ”ì§€ ê·¸ëƒ¥ ì•Œê³  ìˆëŠ”ê±°ì˜€ì§€ ì–´ì§¸ì„œ ì™œ ê·¸ë ‡ê²Œ ë˜ëŠ”ì§€ ì´í•´ë¥¼ í•˜ì§€ì•Šê³  ê·¸ëƒ¥ ì‚¬ìš© í–ˆë˜ê²ƒ ê°™ë‹¤.
> ì¢€ ë” ì™„ë²½í•˜ê²Œ ì´í•´ í• ë•Œ *êµ¬ì¡°* ì ìœ¼ë¡œ ì¸í„°ì„¹ì…˜ê³¼ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ìƒê°í•˜ì. ì¦‰ ì¸í„°ì„¹ì…˜ íƒ€ì…ì„ ì‚¬ìš© í–ˆì„ë•Œ êµ¬ì¡°ì ìœ¼ë¡œ êµ¬ì¡°ì  íƒ€ì´í•‘ìœ¼ë¡œ ê°„ì£¼ ë˜ë ¤ë©´ Aì˜ ì†ì„±ê³¼ Bì˜ ì†ì„±ì„ ë§Œì¡± í•´ì•¼ í•˜ë¯€ë¡œ Cë¼ëŠ” íƒ€ì…ì€ ê²°ë¡ ì ìœ¼ë¡œ Aì™€ Bì˜ ì†ì„±ë“¤ì„ ë‹¤ ê°€ì§€ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤.
> ê·¼ë° *íƒ€ì…* ì´ ë‹¤ë¥¸ê±´ êµ¬ì¡°ì  íƒ€ì´í•‘ì´ë‘ ë‹¤ë¥¸ ì–˜ê¸°ë‹¤. ì¦‰ stringê³¼ numberì˜ êµì§‘í•©ì€ neverë‹¤.
> íƒ€ì… ê´€ì ìœ¼ë¡œ ë³´ëŠ”ì§€ êµ¬ì¡°ì ê´€ì ìœ¼ë¡œ ë³´ëŠ”ì§€ê°€ ì¤‘ìš”í•œê²ƒ ê°™ë‹¤.

```ts
type A = {
	fruit: 'apple'
} 
type B = {
	price: 10000
}
type C = A & B; // fruit + price

type C = string & number; // never
type C = 'apple' & 10000; // appleì€ string 10000 number íƒ€ì…ì˜ êµì§‘í•© never
```

- extends 

```ts
function getKey<K extends string>(val: any, key: K) {
  // ...
}
getKey({}, 'x') // ì •ìƒ, 'X'ëŠ” Stringì„ ìƒì†
getKey({}, Math.random() < 0.5 ? 'a' : 'b') // / ì •ìƒ, 'a'|'b'ëŠ” stringì„ ìƒ
getKey({}, document.title) // ì •ìƒ, stringì€ stringì„ ìƒì†
getKey({}, 12)
// ~~~ 12' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'string' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
```

> stringì„ ìƒì†í•œë‹¤ëŠ” ì˜ë¯¸ë¥¼ ì§‘í•©ì˜ ê´€ì ìœ¼ë¡œ ìƒê°í•´ë³´ë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. stringì˜ ë¶€ë¶„ ì§‘í•© ë²”ìœ„ë¥¼ ê°€ì§€ëŠ” ì–´ë– í•œ íƒ€ì…ì´ ë©ë‹ˆë‹¤. ì´ íƒ€ì…ì€ string ë¦¬í„°ëŸ´ íƒ€ì…, string ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨, string ìì‹ ì„ í¬í•¨í•©ë‹ˆë‹¤.


```ts
interface Point {
  x: number
  y: number
}
type PointKeys = keyof Point // íƒ€ì…ì€ "x" 1 "y"

function sortBy<K extends keyof T, T>(vals: T[], key: K): T[] {
  // COMPRESS
  vals.sort((a, b) => (a[key] === b[key] ? 0 : a[key] < b[key] ? -1 : +1))
  return vals
  // END
}
const pts: Point[] = [
  { x: 1, y: 1 },
  { x: 2, y: 0 },
]
sortBy(pts, 'x') // ì •ìƒ, 'X'ëŠ” 'X'|'y'ë¥¼ ìƒì† (ì¦‰, keyof T)
sortBy(pts, 'y') // ì •ìƒ, 'y'ëŠ” 'X'|'y'ë¥¼ ìƒì†
sortBy(pts, Math.random() < 0.5 ? 'x' : 'y') // ì •ìƒ, 'X'|'y'ëŠ” 'Ã—'|'y'ë¥¼ ìƒì†
sortBy(pts, 'z')
// ~~~ '"z"' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '"X" | "y"' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> keyìë¦¬ì— K ì¦‰ keyof Të¥¼ Tì˜ keyë“¤ë§Œ ì˜¬ ìˆ˜ ìˆë‹¤("x" | "y") ê·¸ë˜ì„œ "z"ê°€ ì™”ì„ë•Œ ì—ëŸ¬ê°€ ë°œìƒ
> íƒ€ì…ë“¤ì´ ì—„ê²©í•œ ìƒì† ê´€ê³„ê°€ ì•„ë‹ ë•ŒëŠ” ì§‘í•© ìŠ¤íƒ€ì¼ì´ ë”ìš± ë°”ëŒì§í•©ë‹ˆë‹¤.ì˜ˆë¥¼ ë“¤ì–´, string | numberì™€ string | Date ì‚¬ì´ì˜ ì¸í„°ì„¹ì…˜(&)ì€ ê³µì§‘í•©ì´ ì•„ë‹ˆë©° (stringì…ë‹ˆë‹¤) ì„œë¡œì˜ ë¶€ë¶„ ì§‘í•©ë„ ì•„ë‹™ë‹ˆë‹¤.

![](../images/image04.png)

- íƒ€ì…ì´ ì§‘í•©ì´ë¼ëŠ” ê´€ì ì€ ë°°ì—´ê³¼ íŠœí”Œì˜ ê´€ê³„ ì—­ì‹œ ëª…í™•í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

```ts
const list = [1, 2] // íƒ€ì…ì€ number []
const tuple: [number, number] = list
// ~~~~~ 'number[]' íƒ€ì…ì€ '[number, number]' íƒ€ì…ì˜ 0, 1 ì†ì„±ì— ì—†ìŠµë‹ˆë‹¤.


```

> `number[]` ëŠ” `[number, number]` ì˜ ë¶€ë¶„ ì§‘í•©ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ë°˜ë©´ ê·¸ ë°˜ëŒ€ë¡œ í• ë‹¹í•˜ë©´ ë™ì‘í•©ë‹ˆë‹¤.)


- íŠ¸ë¦¬í”Œ(triple, ì„¸ ìˆ«ìë¥¼ ê°€ì§€ëŠ” íƒ€ì…)ì€ êµ¬ì¡°ì  íƒ€ì´í•‘ì˜ ê´€ì ìœ¼ë¡œ ìƒê°í•˜ë©´ ìŒìœ¼ë¡œ í• ë‹¹ ê°€ëŠ¥í•  ê²ƒìœ¼ë¡œ ìƒê°ë©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ìŒì€ 0ë²ˆê³¼ 1ë²ˆ í‚¤ë¥¼ ê°€ì§€ë¯€ë¡œ, 2ë²ˆ ê°™ì€ ë‹¤ë¥¸ í‚¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì„ì§€ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```ts
const triple: [number, number, number] = [1, 2, 3]
const double: [number, number] = triple
// ~~~~~~   "[number, number, number]' í˜•ì‹ì€
//          '[number, number]' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
//          'Length' ì†ì„±ì˜ í˜•ì‹ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
//.         '3' í˜•ì‹ì€ '2' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìˆ«ìì˜ ìŒì„ {0: number, 1: number}ë¡œ ëª¨ë¸ë§í•˜ì§€ ì•Šê³ , {0: number, 1: number, length: 2}ë¡œ ëª¨ë¸ë§í–ˆìŠµë‹ˆë‹¤.
> ê·¸ë˜ì„œ lengthì˜ ê°’ì´ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì— í• ë‹¹ë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
> íƒ€ì…ì´ ê°’ì˜ ì§‘í•©ì´ë¼ëŠ” ê±´, ë™ì¼í•œ ê°’ì˜ ì§‘í•©ì„ ê°€ì§€ëŠ” ë‘ íƒ€ì…ì€ ê°™ë‹¤ëŠ” ì˜ë¯¸ê°€ ë©ë‹ˆë‹¤.
> ë‘ íƒ€ì…ì´ ì˜ë¯¸ì ìœ¼ë¡œ ë‹¤ë¥´ê³  ìš°ì—°íˆ ê°™ì€ ë²”ìœ„ë¥¼ ê°€ì§„ë‹¤ê³  í•˜ë”ë¼ë„, ê°™ì€ íƒ€ì…ì„ ë‘ ë²ˆ ì •ì˜í•  ì´ìœ ëŠ” ì—†ìŠµë‹ˆë‹¤.



- Excludeë¥¼ ì‚¬ìš©í•´ì„œ ì¼ë¶€ íƒ€ì…ì„ ì œì™¸í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ê·¸ ê²°ê³¼ê°€ ì ì ˆí•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì¼ ë•Œë§Œ ìœ íš¨í•© ë‹ˆë‹¤.

```ts
type T = Exclude< string | Date, string | number > // íƒ€ì…ì€  Date
type NonZeroNums = Exclude<number, 0>; // íƒ€ì…ì€ ì—¬ì „íˆ number
```

![](../images/image05.png)


> ìš”ì•½

- íƒ€ì…ì„ ê°’ì˜ ì§‘í•©ìœ¼ë¡œ ìƒê°í•˜ë©´ ì´í•´í•˜ê¸° í¸í•©ë‹ˆë‹¤(íƒ€ì…ì˜ 'ë²”ìœ„'). ì´ ì§‘í•©ì€ ìœ í•œ(boolean ë˜ëŠ” ë¦¬í„°ëŸ´ íƒ€ì…)í•˜ê±°ë‚˜ ë¬´í•œ(number ë˜ëŠ” string)í•©ë‹ˆë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì€ ì—„ê²©í•œ ìƒì† ê´€ê³„ê°€ ì•„ë‹ˆë¼ ê²¹ì³ì§€ëŠ” ì§‘í•©(ë²¤ ë‹¤ì´ì–´ ê·¸ë¨)ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤. ë‘ íƒ€ì…ì€ ì„œë¡œ ì„œë¸Œíƒ€ì…ì´ ì•„ë‹ˆë©´ì„œë„ ê²¹ì³ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í•œ ê°ì²´ì˜ ì¶”ê°€ì ì¸ ì†ì„±ì´ íƒ€ì… ì„ ì–¸ì— ì–¸ê¸‰ë˜ì§€ ì•Šë”ë¼ë„ ê·¸ íƒ€ì…ì— ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íƒ€ì… ì—°ì‚°ì€ ì§‘í•©ì˜ ë²”ìœ„ì— ì ìš©ë©ë‹ˆë‹¤. Aì™€ Bì˜ ì¸í„°ì„¹ì…˜ì€ Aì˜ ë²”ìœ„ì™€ Bì˜ ë²”ìœ„ì˜ ì¸í„°ì„¹ì…˜(êµì§‘í•©)ì…ë‹ˆë‹¤. ê°ì²´ íƒ€ì…ì—ì„œëŠ” A & Bì¸ ê°’ì´ Aì™€ Bì˜ ì†ì„±ì„ ëª¨ë‘ ê°€ì§ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- 'AëŠ” Bë¥¼ ìƒì†', 'AëŠ” Bì— í• ë‹¹ ê°€ëŠ¥', 'AëŠ” Bì˜ ì„œë¸Œíƒ€ì…'ì€ 'AëŠ” Bì˜ ë¶€ë¶„ ì§‘í•©' ê³¼ ê°™ì€ ì˜ë¯¸ì…ë‹ˆë‹¤.


## ğŸ« 2-3(ì•„ì´í…œ8) íƒ€ì… ê³µê°„ê³¼ ê°’ ê³µê°„ì˜ ì‹¬ë²Œ êµ¬ë¶„í•˜ê¸°
```ts
class Cylinder {
  radius = 1
  height = 1
}

function calculateVolume(shape: unknown) {
  if (shape instanceof Cylinder) {
    shape // ì •ìƒ, íƒ€ì…ì€ Cylinder
    shape.radius // ì •ìƒ, íƒ€ì…ì€ number
  }
}
```

> í´ë˜ìŠ¤ê°€ íƒ€ì…ìœ¼ë¡œ ì“°ì¼ ë•ŒëŠ” í˜•íƒœ(ì†ì„±ê³¼ ë©”ì„œë“œ)ê°€ ì‚¬ìš©ë˜ëŠ” ë°˜ë©´, ê°’ìœ¼ë¡œ ì“°ì¼ ë•ŒëŠ” ìƒì„±ìê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.


```ts
interface Person {
  first: string
  last: string
}
const p: Person = { first: 'Jane', last: 'Jacobs' }
//    -           --------------------------------- Values
//       ------ Type
function email(p: Person, subject: string, body: string): Response {
  //     ----- -          -------          ----  Values
  //              ------           ------        ------   -------- Types
  // COMPRESS
  return new Response()
  // END
}

type T1 = typeof p // íƒ€ì…ì€ Person
type T2 = typeof email
// íƒ€ì…ì€ (p: Person, subject: string, body: string) => Response

const v1 = typeof p // ê°’ì€ "object"
const v2 = typeof email // ê°’ì€ "function"
```

> **íƒ€ì…ì˜ ê´€ì ì—ì„œ,**  typeofëŠ” ê°’ì„ ì½ì–´ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì„ ë°˜í™˜í•©ë‹ˆë‹¤. íƒ€ì… ê³µê°„ì˜ typeofëŠ” ë³´ë‹¤ í° íƒ€ì…ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , type êµ¬ë¬¸ìœ¼ë¡œ ì´ë¦„ì„ ë¶™ì´ëŠ” ìš©ë„ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> **ê°’ì˜ ê´€ì ì—ì„œ** typeofëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì„ì˜ typeof ì—°ì‚°ìê°€ ë©ë‹ˆë‹¤.
> ê°’ ê³µê°„ì˜ typeofëŠ” ëŒ€ìƒ ì‹¬ë²Œì˜ ëŸ°íƒ€ì„ íƒ€ì…ì„ ê°€ë¦¬í‚¤ëŠ” ë¬¸ìì—´ì„ ë°˜í™˜í•˜ë©°, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ê³¼ëŠ” ë‹¤ë¦…ë‹ˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ëŸ°íƒ€ì„ íƒ€ì… ì‹œìŠ¤í…œì€ íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ì˜ ì •ì  íƒ€ì… ì‹œìŠ¤í…œë³´ë‹¤ í›¨ì”¬ ê°„ë‹¨í•©ë‹ˆë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì˜ ì¢…ë¥˜ê°€ ë¬´ìˆ˜íˆ ë§ì€ ë°˜ë©´, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ê³¼ê±°ë¶€í„° ì§€ê¸ˆê¹Œì§€ ë‹¨ 8ê°œ(string, number, boolean, undefined, object, function, bigInt, symbol)ì˜ ëŸ°íƒ€ì„ íƒ€ì…ë§Œì´ ì¡´ì¬í•©ë‹ˆë‹¤.


- í´ë˜ìŠ¤ì— ëŒ€í•œ *typeof* ëŠ” ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

```ts
class Cylinder {
  radius = 1
  height = 1
}

function calculateVolume(shape: unknown) {
  if (shape instanceof Cylinder) {
    shape // OK, type is Cylinder
    shape.radius // OK, type is number
  }
}
const v = typeof Cylinder // ê°’ì´ "function"
type T = typeof Cylinder  // íƒ€ì…ì´ typeof Cylinder
```

> í´ë˜ìŠ¤ê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì‹¤ì œ í•¨ìˆ˜ë¡œ êµ¬í˜„ë˜ê¸° ë•Œë¬¸ì— ì²« ë²ˆì§¸ ì¤„ì˜ ê°’ì€ "function"ì´ ë©ë‹ˆë‹¤.
> ë‘ ë²ˆì§¸ ì¤„ ì¤‘ìš”í•œ ê²ƒì€ Cylinderê°€ ì¸ìŠ¤í„´ìŠ¤ì˜ íƒ€ì…ì´ ì•„ë‹ˆë¼ëŠ” ì ì…ë‹ˆë‹¤.
> new í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ë•Œ ë³¼ ìˆ˜ ìˆëŠ” ìƒì„±ì í•¨ìˆ˜ì…ë‹ˆë‹¤.


- InstanceType ì œë„ˆë¦­ì„ ì‚¬ìš©í•´ ìƒì„±ì íƒ€ì…ê³¼ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì„ ì „í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
class Cylinder {
  radius = 1
  height = 1
}

function calculateVolume(shape: unknown) {
  if (shape instanceof Cylinder) {
    shape // OK, type is Cylinder
    shape.radius // OK, type is number
  }
}
const v = typeof Cylinder // Value is "function"
type T = typeof Cylinder // Type is typeof Cylinder
type C = InstanceType<typeof Cylinder> // íƒ€ì…ì´ Cylinder
```




- ì†ì„± ì ‘ê·¼ìì¸ `[]` ëŠ” íƒ€ì…ìœ¼ë¡œ ì“°ì¼ ë•Œì—ë„ ë™ì¼í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

> ê·¸ëŸ¬ë‚˜ `obj['field']` ì™€ `obj.field`  ëŠ” ê°’ì´ ë™ì¼í•˜ë”ë¼ë„ íƒ€ì…ì€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> *íƒ€ì…ì˜ ì†ì„±ì„ ì–»ì„ ë•Œì—ëŠ” ë°˜ë“œì‹œ ì²« ë²ˆì§¸ ë°©ë²•`(obj['field'])` ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.* 

```ts
interface Person {
	first: string;
	last: string;
}

const p: Person = { first: 'Jane', last: 'Jacobs' }

const first: Person['first'] = p['first'] // ë˜ëŠ” p.firstìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥
```

> `Person['first']` ëŠ” ì—¬ê¸°ì„œ íƒ€ì… ë§¥ë½(: ë’¤ì—)ì— ì“°ì˜€ê¸° ë•Œë¬¸ì— íƒ€ì…ì…ë‹ˆë‹¤.




- ì¸ë±ìŠ¤ ìœ„ì¹˜ì—ëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ê³¼ ê¸°ë³¸í˜• íƒ€ì…ì„ í¬í•¨í•œ ì–´ë– í•œ íƒ€ì…ì´ë“  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
interface Person {
	first: string
	last: string
}

  

type PersonEl = Person['first' | 'last'] // íƒ€ì…ì€ string

type Tuple = [string, number, Date]

type TupleEl = Tuple[number] // íƒ€ì…ì€ string | number | Date (numberê°€ 0, 1, 2 ì¤‘ì— í•˜ë‚˜ë§Œ ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ)
```


> ë‘ ê³µê°„(íƒ€ì… ê³¼ ê°’) ì‚¬ì´ì—ì„œ ë‹¤ë¥¸ ì˜ë¯¸ë¥¼ ê°€ì§€ëŠ” ì½”ë“œ íŒ¨í„´ë“¤ì´ ìˆìŠµë‹ˆë‹¤.

- ê°’ìœ¼ë¡œ ì“°ì´ëŠ” thisëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this í‚¤ì›Œë“œì…ë‹ˆë‹¤(ì•„ì´í…œ 49). íƒ€ì…ìœ¼ë¡œ ì“°ì´ëŠ” thisëŠ”, ì¼ëª… **'ë‹¤í˜•ì„±(polymorphic) this** ë¼ê³  ë¶ˆë¦¬ëŠ” thisì˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì…ë‹ˆë‹¤. ì„œë¸Œí´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì²´ì¸ì„ êµ¬í˜„í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
- ê°’ì—ì„œ &ì™€ IëŠ” ANDì™€ OR ë¹„íŠ¸ì—°ì‚°ì…ë‹ˆë‹¤. íƒ€ì…ì—ì„œëŠ” ì¸í„°ì„¹ì…˜(êµì§‘í•©)ê³¼ ìœ ë‹ˆì˜¨(í•©ì§‘í•©) ì…ë‹ˆë‹¤.
- constëŠ” ìƒˆ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì§€ë§Œ, as constëŠ” ë¦¬í„°ëŸ´ ë˜ëŠ” ë¦¬í„°ëŸ´ í‘œí˜„ì‹ì˜ ì¶”ë¡ ëœ íƒ€ì…ì„ ë°”ê¿‰ë‹ˆë‹¤(ì•„ì´í…œ 21)
- extendsëŠ” ì„œë¸Œí´ë˜ìŠ¤(class A extends B) ë˜ëŠ” ì„œë¸Œíƒ€ì…(interface A extends B) ë˜ëŠ” ì œë„ˆë¦­ íƒ€ì…ì˜ í•œì •ì(`Generic<T extends number>`  )ë¥¼ ì •ì˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- inì€ ë£¨í”„ (for (key in object)) ë˜ëŠ” ë§¤í•‘ëœ(mapped) íƒ€ì…ì— ë“±ì¥í•©ë‹ˆë‹¤.




> ìš”ì•½

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì½ì„ ë•Œ íƒ€ì…ì¸ì§€ ê°’ì¸ì§€ êµ¬ë¶„í•˜ëŠ” ë°©ë²•ì„ í„°ë“í•´ì•¼ í•©ë‹ˆë‹¤.
- ëª¨ë“  ê°’ì€ íƒ€ì…ì„ ê°€ì§€ì§€ë§Œ, íƒ€ì…ì€ ê°’ì„ ê°€ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. typeê³¼ Interface ê°™ì€ í‚¤ì›Œë“œëŠ” íƒ€ì… ê³µê°„ì—ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.
- classë‚˜ enum ê°™ì€ í‚¤ì›Œë“œëŠ” íƒ€ì…ê³¼ ê°’ ë‘ ê°€ì§€ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- "foo"ëŠ” ë¬¸ìì—´ ë¦¬í„°ëŸ´ì´ê±°ë‚˜, ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- typeof, this ê·¸ë¦¬ê³  ë§ì€ ë‹¤ë¥¸ ì—°ì‚°ìë“¤ê³¼ í‚¤ì›Œë“œë“¤ì€ íƒ€ì… ê³µê°„ê³¼ ê°’ ê³µê°„ ì—ì„œ ë‹¤ë¥¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## ğŸ“ 2-4(ì•„ì´í…œ9) íƒ€ì… ë‹¨ì–¸ë³´ë‹¤ëŠ” íƒ€ì… ì„ ì–¸ì„ ì‚¬ìš©í•˜ê¸°

```ts
interface Person {
  name: string
}
const alice: Person = {
  name: 'Alice',
  occupation: 'TypeScript developer',
  // ~~~~~~~~~ ê°œì²´ ë¦¬í„°ëŸ´ì€ ì•Œë ¤ì§„ ì†ì„±ë§Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°
  //           'Person' í˜•ì‹ì— 'occupation'ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.
}
const bob = {
  name: 'Bob',
  occupation: 'JavaScript developer',
} as Person // ì˜¤ë¥˜ ì—†ìŒ
```

> alice: Personê°€ *íƒ€ì… ì„ ì–¸* 
> bobê³¼ as Personì´ *íƒ€ì… ë‹¨ì–¸* 
> íƒ€ì… ì„ ì–¸ì„ ì‚¬ìš©í•©ì‹œë‹¤



- í™”ì‚´í‘œ í•¨ìˆ˜ì˜ íƒ€ì… ì„ ì–¸ì€ ì¶”ë¡ ëœ íƒ€ì…ì´ ëª¨í˜¸í•  ë•Œê°€ ìˆìŠµë‹ˆë‹¤.

```ts
interface Person {
  name: string
}
const people = ['alice', 'bob', 'jan'].map(name => ({ name }))
// Person[]ì„ ì›í–ˆì§€ë§Œ ê²°ê³¼ëŠ” {name: string; }[]..
```


- {name}ì— íƒ€ì… ë‹¨ì–¸ì„ ì“°ë©´ ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤

```ts
interface Person {
  name: string
}
const people = ['alice', 'bob', 'jan'].map(name => ({ name } as Person)) // Type is Person[]
```

> ê·¸ëŸ¬ë‚˜ íƒ€ì… ë‹¨ì–¸ì„ ì‚¬ìš©í•˜ë©´ ì•ì„  ì˜ˆì œë“¤ì²˜ëŸ¼ ëŸ°íƒ€ì„ì— ë¬¸ì œê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

```ts
interface Person {
  name: string
}
const people = ['alice', 'bob', 'jan'].map(name => ({} as Person))
// No error
```



- íƒ€ì… ë‹¨ì–¸ì´ ê¼­ í•„ìš”í•œ ê²½ìš°
> íƒ€ì… ë‹¨ì–¸ì€ íƒ€ì… ì²´ì»¤ê°€ ì¶”ë¡ í•œ íƒ€ì…ë³´ë‹¤ ì—¬ëŸ¬ë¶„ì´ íŒë‹¨í•˜ëŠ” íƒ€ì…ì´ ë” ì •í™•í•  ë•Œ ì˜ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤.

```ts
document.querySelector('#myButton').addEventListener('click', e => {
  e.currentTarget // íƒ€ì…ì€ EventTarget
  const button = e.currentTarget as HTMLButtonElement
  button // íƒ€ì…ì€ HTMLButtonElement
})
```

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” DOMì— ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— `#myButton` ì´ ë²„íŠ¼ ì—˜ë¦¬ë¨¼íŠ¸ì¸ì§€ ì•Œì§€ ëª»í•©ë‹ˆë‹¤.
> ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ì˜ currentTargetì´ ê°™ì€ ë²„íŠ¼ì´ì–´ì•¼ í•˜ëŠ” ê²ƒë„ ì•Œì§€ ëª»í•©ë‹ˆë‹¤.
> ìš°ë¦¬ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì•Œì§€ ëª»í•˜ëŠ” ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œëŠ” íƒ€ì… ë‹¨ì–¸ë¬¸ì„ ì“°ëŠ” ê²ƒì´ íƒ€ë‹¹í•©ë‹ˆë‹¤.


> ìš”ì•½

- íƒ€ì… ë‹¨ì–¸(as Type)ë³´ë‹¤ íƒ€ì… ì„ ì–¸(: Type)ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•˜ëŠ” ë°©ë²•ì„ í„°ë“í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë³´ë‹¤ íƒ€ì… ì •ë³´ë¥¼ ë” ì˜ ì•Œê³  ìˆëŠ” ìƒí™©ì—ì„œëŠ” íƒ€ì… ë‹¨ì–¸ë¬¸ê³¼ null ì•„ë‹˜ ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.



## ğŸ¶ 2-5(ì•„ì´í…œ10)  ê°ì²´ ë˜í¼ íƒ€ì… í”¼í•˜ê¸°
```ts
function getStringLen(foo: String) {
  return foo.length
}

getStringLen('hello') // OK
getStringLen(new String('hello')) // OK

function isGreeting(phrase: String) {
  return ['hello', 'good day'].includes(phrase)
  // ~~~~~~
  // 'String' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
  // 'string' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  // 'string'ì€(ëŠ”) ê¸°ë³¸ ê°œì²´ì´ì§€ë§Œ 'String'ì€(ëŠ”) ë˜í¼ ê°œì²´ì…ë‹ˆë‹¤.
  // ê°€ëŠ¥í•œ ê²½ìš° 'string'ì„(ë¥¼) ì‚¬ìš©í•˜ì„¸ìš”.
}

```

> *stringì€ Stringì— í• ë‹¹í•  ìˆ˜ ìˆì§€ë§Œ Stringì€ stringì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.* 


```ts
const s: String = 'primitive'
const n: Number = 12
const b: Boolean = true
```

>ë‹¹ì—°íˆ ëŸ°íƒ€ì„ì˜ ê°’ì€ ê°ì²´ê°€ ì•„ë‹ˆê³  ê¸°ë³¸í˜•ì…ë‹ˆë‹¤. 
>ê·¸ëŸ¬ë‚˜ ê¸°ë³¸í˜• íƒ€ì…ì€ ê°ì²´ ë˜í¼ì— í• ë‹¹í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê¸°ë³¸í˜• íƒ€ì…ì„ ê°œì²´ ë˜í¼ì— í• ë‹¹í•˜ëŠ” ì„ ì–¸ì„ í—ˆìš©í•©ë‹ˆë‹¤.
>**ê¸°ë³¸í˜• íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ìŠµë‹ˆë‹¤.** 



> ìš”ì•½

- ê¸°ë³¸í˜• ê°’ì— ë©”ì„œë“œë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ê°ì²´ ë˜í¼ íƒ€ì…ì´ ì–´ë–»ê²Œ ì“°ì´ëŠ”ì§€ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤. ì§ì ‘ ì‚¬ìš©í•˜ê±°ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ ë˜í¼ íƒ€ì…ì€ ì§€ì–‘í•˜ê³ , ëŒ€ì‹  ê¸°ë³¸í˜• íƒ€ì…ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.


## ğŸ™ 2-6(ì•„ì´í…œ11)  ì‰ì—¬ ì†ì„± ì²´í¬ì˜ í•œê³„ ì¸ì§€í•˜ê¸°
> íƒ€ì…ì´ ëª…ì‹œëœ ë³€ìˆ˜ì— ê°ì²´ ë¦¬í„°ëŸ´ì„ í• ë‹¹í•  ë•Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í•´ë‹¹ íƒ€ì…ì˜ ì†ì„±ì´ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  'ê·¸ ì™¸ì˜ ì†ì„±ì€ ì—†ëŠ”ì§€'(ì‰ì—¬ ì†ì„± ì²´í¬) í™•ì¸í•©ë‹ˆë‹¤.

```ts
interface Room {
  numDoors: number
  ceilingHeightFt: number
}
const r: Room = {
  numDoors: 1,
  ceilingHeightFt: 10,
  elephant: 'present',
  // ~~~~~~~~~~~~~~~~~~ ê°œì²´ ë¦¬í„°ëŸ´ì€ ì•Œë ¤ì§„ ì†ì„±ë§Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°
  //                    'Room' í˜•ì‹ì— 'eLephant 'ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.
}
```

> êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì (ì•„ì´í…œ 4)ìœ¼ë¡œ ìƒê°í•´ ë³´ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.
> ì„ì‹œ ë³€ìˆ˜ë¥¼ ë„ì…í•´ ë³´ë©´ ì•Œ ìˆ˜ ìˆëŠ”ë°, obj ê°ì²´ëŠ” Room íƒ€ì…ì— í• ë‹¹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```ts
interface Room {
  numDoors: number
  ceilingHeightFt: number
}
const obj = {
  numDoors: 1,
  ceilingHeightFt: 10,
  elephant: 'present',
}
const r: Room = obj // OK
```

> obj íƒ€ì…ì€ Room íƒ€ì…ì˜ ë¶€ë¶„ ì§‘í•©ì„ í¬í•¨í•˜ë¯€ë¡œ, Roomì— í• ë‹¹ ê°€ëŠ¥í•˜ë©° íƒ€ì… ì²´ì»¤ë„ í†µê³¼í•©ë‹ˆë‹¤(ì•„ì´í…œ 7).
> ì²« ë²ˆì§¸ ì˜ˆì œì—ì„œëŠ”, êµ¬ì¡°ì  íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¤‘ìš”í•œ ì¢…ë¥˜ì˜ ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ìˆë„ë¡ 'ì‰ì—¬ ì†ì„± ì²´í¬'ë¼ëŠ” ê³¼ì •ì´ ìˆ˜í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.
> ê·¸ëŸ¬ë‚˜ ì‰ì—¬ ì†ì„± ì²´í¬ ì—­ì‹œ ì¡°ê±´ì— ë”°ë¼ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” í•œê³„ê°€ ìˆê³ , í†µìƒì ì¸ í• ë‹¹ ê°€ëŠ¥ ê²€ì‚¬ì™€ í•¨ê»˜ ì“°ì´ë©´ êµ¬ì¡°ì  íƒ€ì´í•‘ì´ ë¬´ì—‡ì¸ì§€ í˜¼ë€ìŠ¤ëŸ¬ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> *ì‰ì—¬ ì†ì„± ì²´í¬ê°€ í• ë‹¹ ê°€ëŠ¥ ê²€ì‚¬ì™€ëŠ” ë³„ë„ì˜ ê³¼ì •ì´ë¼ëŠ” ê²ƒ* ì„ ì•Œì•„ì•¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì‹œìŠ¤í…œì— ëŒ€í•œ ê°œë…ì„
> ì •í™•íˆ ì¡ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ì‘ì„±ëœ ì½”ë“œê¹Œì§€ ì°¾ìœ¼ë ¤ê³  í•©ë‹ˆë‹¤.

```ts
interface Options {
  title: string
  darkMode?: boolean
}
function createWindow(options: Options) {
  if (options.darkMode) {
    setDarkMode()
  }
  // ...
}
createWindow({
  title: 'Spider Solitaire',
  darkmode: true,
  // ~~~~~~~~~~~~~ ê°œì²´ ë¦¬í„°ëŸ´ì€ ì•Œë ¤ì§„ ì†ì„±ë§Œ ì§€ì •í•  ìˆ˜ ìˆì§€ë§Œ
  //               'options' í˜•ì‹ì— 'darkmode'ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.
  //               'darkMode'ì„(ë¥¼) ì“°ë ¤ê³  í–ˆìŠµë‹ˆê¹Œ?
})
```

> ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ëŸ°íƒ€ì„ì— ì–´ë– í•œ ì¢…ë¥˜ì˜ ì˜¤ë¥˜ë„ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> ê·¸ëŸ¬ë‚˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì•Œë ¤ ì£¼ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ì²˜ëŸ¼ ì˜ë„í•œ ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> options íƒ€ì…ì€ ë²”ìœ„ê°€ ë§¤ìš° ë„“ê¸° ë•Œë¬¸ì—, ìˆœìˆ˜í•œ êµ¬ì¡°ì  íƒ€ì… ì²´ì»¤ëŠ” ì´ëŸ° ì¢…ë¥˜ì˜ ì˜¤ë¥˜ë¥¼ ì°¾ì•„ë‚´ì§€ ëª»í•©ë‹ˆë‹¤.
> darkMode ì†ì„±ì— boolean íƒ€ì…ì´ ì•„ë‹Œ ë‹¤ë¥¸ íƒ€ì…ì˜ ê°’ì´ ì§€ì •ëœ ê²½ìš°ë¥¼ ì œì™¸í•˜ë©´, string íƒ€ì…ì¸ title ì†ì„±ê³¼ 'ë˜ ë‹¤ë¥¸ ì–´ë–¤ ì†ì„±'ì„ ê°€ì§€ëŠ” ëª¨ë“  ê°ì²´ëŠ” Options íƒ€ì…ì˜ ë²”ìœ„ì— ì†í•©ë‹ˆë‹¤.

- optionsì— í• ë‹¹ í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ê°’ì´ ë” ìˆìŠµë‹ˆë‹¤.

```ts
interface Room {
  numDoors: number
  ceilingHeightFt: number
}
function setDarkMode() {}
interface Options {
  title: string
  darkMode?: boolean
}
const o1: Options = document // OK
const o2: Options = new HTMLAnchorElement() // OK
```

> documentì™€ HTMLAnchorElementì˜ ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‘ string íƒ€ì…ì¸ title ì†ì„±ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— í• ë‹¹ë¬¸ì€ ì •ìƒì…ë‹ˆë‹¤. optionsì€ ì •ë§ ë„“ì€ íƒ€ì…ì´ë¼ëŠ” ê²ƒ ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> ì‰ì—¬ ì†ì„± ì²´í¬ë¥¼ ì´ìš©í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ íƒ€ì… ì‹œìŠ¤í…œì˜ êµ¬ì¡°ì  ë³¸ì§ˆì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©´ì„œë„ ê°ì²´ ë¦¬í„°ëŸ´ì— ì•Œ ìˆ˜ ì—†ëŠ” ì†ì„±ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨, ì•ì—ì„œ ë‹¤ë£¬ Roomì´ë‚˜ options ì˜ˆì œ ê°™ì€ ë¬¸ì œì ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

-  documentë‚˜ new HTMLAnchorElementëŠ” ê°ì²´ ë¦¬í„°ëŸ´ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì‰ì—¬ ì†ì„± ì²´í¬ê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ title, darkmodeëŠ” ì²´í¬ê°€ ë©ë‹ˆë‹¤.

```ts
interface Room {
  numDoors: number
  ceilingHeightFt: number
}
function setDarkMode() {}
interface Options {
  title: string
  darkMode?: boolean
}
const o: Options = { darkmode: true, title: 'Ski Free' }
// ~~~~~~~~ 'Options' í˜•ì‹ì— 'darkmode'ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.
```


- íƒ€ì… êµ¬ë¬¸ ì—†ëŠ” ì„ì‹œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```ts
interface Room {
	numDoors: number
	ceilingHeightFt: number
}

function setDarkMode() {}

interface Options {
	title: string
	darkMode?: boolean
}

const intermediate = { darkmode: true, title: 'Ski Free' }

const o: Options = intermediate // OK
//const o: Options = { darkmode: true, title: 'Ski Free' } // 'Options' í˜•ì‹ì— 'darkmode'ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.
```

> ì²« ë²ˆì§¸ ì¤„ì˜ ì˜¤ë¥¸ìª½ì€ ê°ì²´ ë¦¬í„°ëŸ´ì´ì§€ë§Œ,
> ë‘ ë²ˆì§¸ ì¤„ì˜ ì˜¤ë¥¸ìª½(intermediate) ì€ ê°ì²´ ë¦¬í„°ëŸ´ì´ ì•„ë‹™ë‹ˆë‹¤.
> ë”°ë¼ì„œ ì‰ì—¬ ì†ì„± ì²´í¬ê°€ ì ìš©ë˜ì§€ ì•Šê³  ì˜¤ë¥˜ëŠ” ì‚¬ë¼ì§‘ë‹ˆë‹¤.
> ì£¼ì„ì€ ê°ì²´ ë¦¬í„°ëŸ´ë¡œ ì‰ì—¬ ì†ì„± ê²€ì‚¬ê°€ ì ìš© ë©ë‹ˆë‹¤.




- ì‰ì—¬ ì†ì„± ì²´í¬ëŠ” íƒ€ì… ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•  ë•Œì—ë„ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```ts
interface Room {
  numDoors: number
  ceilingHeightFt: number
}
function setDarkMode() {}
interface Options {
  title: string
  darkMode?: boolean
}
const o = { darkmode: true, title: 'Ski Free' } as Options // OK
```

> íƒ€ì… ë‹¨ì–¸ë¬¸ ë§ê³  íƒ€ì… ì„ ì–¸ë¬¸ì„ ì‚¬ìš© í•´ì•¼ ë  ë˜ í•˜ë‚˜ì˜ ì´ìœ  ì…ë‹ˆë‹¤.




- ì‰ì—¬ ì†ì„± ì²´í¬ë¥¼ ì›ì¹˜ ì•ŠëŠ”ë‹¤ë©´, ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•´ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶”ê°€ì ì¸ ì†ì„±ì„ ì˜ˆìƒí•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
interface Options {
  darkMode?: boolean
  [otherOptions: string]: unknown
}
const o: Options = { darkmode: true } // OK
```


> ìš”ì•½

- ê°ì²´ ë¦¬í„°ëŸ´ì„ ë³€ìˆ˜ì— í• ë‹¹í•˜ê±°ë‚˜ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•  ë•Œ ì‰ì—¬ ì†ì„± ì²´í¬ê°€ ìˆ˜í–‰ë©ë‹ˆë‹¤.
- ì‰ì—¬ ì†ì„± ì²´í¬ëŠ” ì˜¤ë¥˜ë¥¼ ì°¾ëŠ” íš¨ê³¼ì ì¸ ë°©ë²•ì´ì§€ë§Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì²´ì»¤ê°€ ìˆ˜í–‰í•˜ëŠ” ì¼ë°˜ì ì¸ êµ¬ì¡°ì  í• ë‹¹ ê°€ëŠ¥ì„± ì²´í¬ì™€ ì—­í• ì´ ë‹¤ë¦…ë‹ˆë‹¤. í• ë‹¹ì˜ ê°œë…ì„ ì •í™•íˆ ì•Œì•„ì•¼ ì‰ì—¬ ì†ì„± ì²´í¬ì™€ ì¼ë°˜ì ì¸ êµ¬ì¡°ì  í• ë‹¹ ê°€ëŠ¥ì„± ì²´í¬ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì‰ì—¬ ì†ì„± ì²´í¬ì—ëŠ” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ì„ì‹œ ë³€ìˆ˜ë¥¼ ë„ì…í•˜ë©´ ì‰ì—¬ ì†ì„± ì²´í¬ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê¸°ì–µí•´ì•¼ í•©ë‹ˆë‹¤.



## ğŸ™ 2-7(ì•„ì´í…œ12)  í•¨ìˆ˜ í‘œí˜„ì‹ì— íƒ€ì… ì ìš©í•˜ê¸°

```ts
async function checkedFetch(input: RequestInfo, init?: RequestInit) {
  const response = await fetch(input, init)
  if (!response.ok) {
    // ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ê±°ì ˆëœ í”„ë¡œë¯¸ìŠ¤ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
    throw new Error('Request failed: ' + response.status)
  }
  return response
}
```

- ë‹¤ìŒê³¼ ê°™ì´ ë” ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
const checkedFetch: typeof fetch = async (input, init) => {
  const response = await fetch(input, init)
  if (!response.ok) {
    throw new Error('Request failed: ' + response.status)
  }
  return response
}
```

> í•¨ìˆ˜ ë¬¸ì¥ì„ í•¨ìˆ˜ í‘œí˜„ì‹ìœ¼ë¡œ ë°”ê¿¨ê³  í•¨ìˆ˜ ì „ì²´ì— íƒ€ì…(typeof fetch)ì„ ì ìš© í–ˆìŠµë‹ˆë‹¤.
> ì´ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ inputê³¼ initì˜ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
> íƒ€ì… êµ¬ë¬¸ì€ ë˜í•œ CheckedFetchì˜ ë°˜í™˜ íƒ€ì…ì„ ë³´ì¥í•˜ë©°, fetchì™€ ë™ì¼í•©ë‹ˆë‹¤. 
> ì˜ˆë¥¼ ë“¤ì–´ throw ëŒ€ì‹  returnì„ ì‚¬ìš©í–ˆë‹¤ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê·¸ ì‹¤ìˆ˜ë¥¼ ì¡ì•„ëƒ…ë‹ˆë‹¤.

-  throw ëŒ€ì‹  returnì„ ì‚¬ìš©í–ˆë‹¤ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê·¸ ì‹¤ìˆ˜ë¥¼ ì¡ì•„ëƒ…ë‹ˆë‹¤.

```ts
const checkedFetch: typeof fetch = async (input, init) => {
  //  ~~~~~~~~~~~~   'Promise'<Response|Error>' í˜•ì‹ì€
  //                     'Promise<Response>' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  //                   'Response | Error' í˜•ì‹ì€
  //                       'Response' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  const response = await fetch(input, init)
  if (!response.ok) {
    return new Error('Request failed: ' + response.status)
  }
  return response
}
```

> *í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì— íƒ€ì… ì„ ì–¸ì„ í•˜ëŠ” ê²ƒë³´ë‹¤ í•¨ìˆ˜ í‘œí˜„ì‹ ì „ì²´ íƒ€ì…ì„ ì •ì˜ í•˜ëŠ” ê²ƒì´ ì½”ë“œë„ ê°„ê²°í•˜ê³  ì•ˆì „í•©ë‹ˆë‹¤.* 
> ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ì™€ ë™ì¼í•œ íƒ€ì…ì„ ê°€ì§€ëŠ” ìƒˆí•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê±°ë‚˜, ë™ì¼í•œ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë¥¼ ê°€ì§€ëŠ” ì—¬ëŸ¬ ê°œì˜ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•ŒëŠ” ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ê³¼ ë°˜í™˜ íƒ€ì…ì„ ë°˜ë³µí•´ì„œ ì‘ì„±í•˜ì§€ ë§ê³  í•¨ìˆ˜ ì „ì²´ì˜ íƒ€ì… ì„ ì–¸ì„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.


> ìš”ì•½

- ë§¤ê°œë³€ìˆ˜ë‚˜ ë°˜í™˜ ê°’ì— íƒ€ì…ì„ ëª…ì‹œí•˜ê¸°ë³´ë‹¤ëŠ” í•¨ìˆ˜ í‘œí˜„ì‹ ì „ì²´ì— íƒ€ì… êµ¬ë¬¸ì„ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
- ë§Œì•½ ê°™ì€ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì‘ì„±í•œ ì½”ë“œê°€ ìˆë‹¤ë©´ í•¨ìˆ˜ íƒ€ì…ì„ ë¶„ë¦¬í•´ ë‚´ê±°ë‚˜ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íƒ€ì…ì„ ì°¾ì•„ë³´ë„ë¡ í•©ë‹ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§ì ‘ ë§Œë“ ë‹¤ë©´ ê³µí†µ ì½œë°±ì— íƒ€ì…ì„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.
- ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì°¸ì¡°í•˜ë ¤ë©´ typeof fnì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

- [n] comment
> í•¨ìˆ˜ ì„ ì–¸ì‹ìœ¼ë¡œ ë¦¬í„´íƒ€ì… ë§¤ê°œë³€ìˆ˜ íƒ€ì… ì¤‘ë³µ ì„ ì–¸ ê°™ì€ê±° í•˜ì§€ë§ê³  í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì‚¬ìš©í•´ì„œ í•¨ìˆ˜ ì „ì²´ì— íƒ€ì… êµ¬ë¬¸ì„ ì ìš©í•˜ëŠ”ê²Œ ìœ ë¦¬í•˜ê³  ê°™ì€ íƒ€ì…ì„ ê°€ì§€ëŠ” í•¨ìˆ˜ë“¤ì— ì ìš©í•˜ê¸°ë„ ìœ ë¦¬í•˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì¨ì„œ íƒ€ì…ì„ ì ìš©í•´ë¼.


## ğŸ¸ 2-8(ì•„ì´í…œ13)  íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤ì˜ ì°¨ì´ì  ì•Œê¸°
> Typeê³¼ interfaceì˜ ê³µí†µì 

- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ê°€ëŠ¥
- í•¨ìˆ˜ íƒ€ì…ë„ interfaceë‚˜ typeìœ¼ë¡œ ì •ì˜ ê°€ëŠ¥
- ì œë„ˆë¦­ interfaceë‚˜ typeìœ¼ë¡œ ê°€ëŠ¥
- interfaceëŠ” typeì„ í™•ì¥ í•  ìˆ˜ ìˆê³  typeì€ interfaceë¥¼ í™•ì¥ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í´ë˜ìŠ¤ êµ¬í˜„(implements) í•  ë•Œ typeê³¼ interface ë‘˜ë‹¤ ê°€ëŠ¥


> Typeê³¼ interfaceì˜ ì°¨ì´ì 

- ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ìˆì§€ë§Œ ìœ ë‹ˆì˜¨ ì¸í„°í˜ì´ìŠ¤ë¼ëŠ” ê°œë…ì€ ì—†ìŠµë‹ˆë‹¤.

```ts
type AorB = 'a' | 'b'; // OK

  

interface AorB {
	'a'| 'b'; // Error
}
```

- ì¸í„°í˜ì´ìŠ¤ëŠ” íƒ€ì…ì„ í™•ì¥í•  ìˆ˜ ìˆì§€ë§Œ, ìœ ë‹ˆì˜¨ì€ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

```ts
type Input = {
  /* ... */
}
type Output = {
  /* ... */
}
interface VariableMap {
  [name: string]: Input | Output
}

type Input = {
	age:number;
}

type Output = {
	name: string;
}

interface VariableMap {
	[name: string]: Input | Output
}


const obj:VariableMap = {
	property1: {
		name: "hi",
	}
}
```

> ìœ„ì˜ ì˜ˆì œëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ì„ í™•ì¥í•˜ëŠ” ê²Œ í•„ìš”í•  ë•Œê°€ ìˆì–´ Inputê³¼ Outputì€ ë³„ë„ì˜ íƒ€ì…ì´ë©° ì´ ë‘˜ì„ í•˜ë‚˜ì˜ ë³€ìˆ˜ëª…ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” VariableMap ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> interfaceì˜ ìœ ë‹ˆì˜¨ íƒ€ì… í™•ì¥ì€ ì¤‘ì²© ê°ì²´ë¡œ ë§Œë“œëŠ” ë°©ë²•ì´ë¼ ìœ ë‹ˆì˜¨ í•  ìˆ˜ ì—†ëŠ”ê²Œ ë§ë‹¤.


>type í‚¤ì›Œë“œëŠ” *ìœ ë‹ˆì˜¨* ì´ ë  ìˆ˜ë„ ìˆê³ , *ë§¤í•‘ëœ íƒ€ì…*  ë˜ëŠ” *ì¡°ê±´ë¶€ íƒ€ì…*  ê°™ì€ ê³ ê¸‰ ê¸°ëŠ¥ì— í™œìš©ë˜ê¸°ë„ í•©ë‹ˆë‹¤


- íŠœí”Œê³¼ ë°°ì—´ íƒ€ì…

```ts
// type 
type Pair = [number, number]
type StringList = string[]
type NamedNums = [string, ...number[]]

// interface
interface Tuple {
  0: number
  1: number
  length: 2
}
const t: Tuple = [10, 20] // OK
```

> interfaceë¡œ íŠœí”Œì´ ê°€ëŠ¥ì€ í•˜ë‚˜ concat ê°™ì€ ë©”ì„œë“œë¥¼ ì‚¬ìš© í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ íŠœí”Œì€ type í‚¤ì›Œë“œë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë‚«ìŠµë‹ˆë‹¤.


- ì¸í„°í˜ì´ìŠ¤ëŠ” 'ë³´ê°•(augment)'ì´ ê°€ëŠ¥í•˜ë‹¤.

```ts
// interface
interface IState {
	name: string
	capital: string
}

interface IState {
	population: number
}

// type
type IState = { // ì¤‘ë³µ ì„ ì–¸ ì—ëŸ¬ ë°œìƒ
	name: string;
	capital: string;
}

type IState = { // ì¤‘ë³µ ì„ ì–¸ ì—ëŸ¬ ë°œìƒ
	population: number
}

const wyoming: IState = {
	name: 'Wyoming',
	capital: 'Cheyenne',
	population: 500_000,
} // OK
```

> ì†ì„±ì„ í™•ì¥í•˜ëŠ” ê²ƒì„ *'ì„ ì–¸ ë³‘í•©(declaration merging)'* ì´ë¼ê³  í•©ë‹ˆë‹¤.


> ìš”ì•½

- íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤ì˜ ì°¨ì´ì ê³¼ ë¹„ìŠ·í•œ ì ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.
- í•œ íƒ€ì…ì„ typeê³¼ interface ë‘ ê°€ì§€ ë¬¸ë²•ì„ ì‚¬ìš©í•´ì„œ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ í„°ë“ í•´ì•¼ í•©ë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–¤ ë¬¸ë²•ì„ ì‚¬ìš©í• ì§€ ê²°ì •í•  ë•Œ í•œ ê°€ì§€ ì¼ê´€ëœ ìŠ¤íƒ€ì¼ì„ í™•ë¦½í•˜ê³ , ë³´ê°• ê¸°ë²•ì´ í•„ìš”í•œì§€ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

## ğŸ¡ 2-9(ì•„ì´í…œ14)  íƒ€ì… ì—°ì‚°ê³¼ ì œë„ˆë¦­ ì‚¬ìš©ìœ¼ë¡œ ë°˜ë³µ ì¤„ì´ê¸°


```ts
interface State {
  userId: string
  pageTitle: string
  recentFiles: string[]
  pageContents: string
}
interface TopNavState {
  userId: string
  pageTitle: string
  recentFiles: string[]
}
```

> TopNavStateë¥¼ í™•ì¥í•˜ì—¬ Stateë¥¼ êµ¬ì„±í•˜ê¸°ë³´ë‹¤, Stateì˜ ë¶€ë¶„ ì§‘í•©ìœ¼ë¡œ TopNavstateë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•´ ë³´ì…ë‹ˆë‹¤.


- Stateë¥¼ ì¸ë±ì‹±í•˜ì—¬ ì†ì„±ì˜ íƒ€ì…ì—ì„œ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
interface State {
  userId: string
  pageTitle: string
  recentFiles: string[]
  pageContents: string
}
type TopNavState = {
  userId: State['userId']
  pageTitle: State['pageTitle']
  recentFiles: State['recentFiles']
}
```

> State ë‚´ì˜ pageTitleì˜ íƒ€ì…ì´ ë°”ë€Œë©´ TopNavStateì—ë„ ë°˜ì˜ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ì „íˆ ë°˜ë³µë˜ëŠ” ì½”ë“œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì™€ ë§µë“œ íƒ€ì…ìœ¼ë¡œ ì¤‘ë³µì„ í•œë²ˆ ë” ì œê±°

```ts
interface State {
  userId: string
  pageTitle: string
  recentFiles: string[]
  pageContents: string
}
type TopNavState = {
  [k in 'userId' | 'pageTitle' | 'recentFiles']: State[k]
}
```


![](../images/image06.png)

> TopNavStateì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ì •ì˜ê°€ í‘œì‹œë˜ëŠ”ë°, ì´ ì •ì˜ëŠ” ì•ì˜ ì˜ˆì œì™€ ì™„ì „íˆ ë™ì¼í•©ë‹ˆë‹¤.


- í‘œì¤€ ìœ í‹¸ë¦¬í‹°íƒ€ì… `Pick` ì‚¬ìš©

```ts
interface State {
  userId: string
  pageTitle: string
  recentFiles: string[]
  pageContents: string
}
type TopNavState = Pick<State, 'userId' | 'pageTitle' | 'recentFiles'>
```



- Action ìœ ë‹ˆì˜¨ì„ ì¸ë±ì‹±í•˜ë©´ íƒ€ì… ë°˜ë³µ ì—†ì´ ActionTypeì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
interface SaveAction {
  type: 'save'
  // ...
}
interface LoadAction {
  type: 'load'
  // ...
}
type Action = SaveAction | LoadAction
type ActionType = 'save' | 'load' // íƒ€ì…ì˜ ë°˜ë³µ!

type ActionType = Action['type'] // Type is "save" | "load"
type ActionRec = Pick<Action, 'type'> // {type: "save" | "load"}
```

> ActionTypeì€ Pickì„ ì‚¬ìš©í•˜ì—¬ ì–»ê²Œ ë˜ëŠ”, type ì†ì„±ì„ ê°€ì§€ëŠ” ì¸í„°í˜ì´ìŠ¤ì™€ëŠ” ë‹¤ë¦…ë‹ˆë‹¤.
> ActionTypeì€ "save" | "load" ì§€ë§Œ ActionRecëŠ” {type: "save" | "load" } ì´ë‹¤.



```ts
interface Options {
  width: number
  height: number
  color: string
  label: string
}
interface OptionsUpdate {
  width?: number
  height?: number
  color?: string
  label?: string
}
class UIWidget {
  constructor(init: Options) {
    /* ... */
  }
  update(options: OptionsUpdate) {
    /* ... */
  }
}
```


- ë§¤í•‘ëœ íƒ€ì…ê³¼ keyofë¥¼ ì‚¬ìš©í•˜ë©´ optionsìœ¼ë¡œë¶€í„° OptionsUpdateë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
interface Options {
  width: number
  height: number
  color: string
  label: string
}
type OptionsUpdate = { [k in keyof Options]?: Options[k] }
```

- í‘œì¤€ ìœ í‹¸ë¦¬í‹°íƒ€ì… `Partial` ì‚¬ìš©

```ts
interface Options {
  width: number
  height: number
  color: string
  label: string
}
class UIWidget {
  constructor(init: Options) {
    /* ... */
  }
  update(options: Partial<Options>) {
    /* ... */
  }
}
```



- ê°’ì˜ í˜•íƒœì— í•´ë‹¹í•˜ëŠ” íƒ€ì…ì„ ì •ì˜í•˜ê³  ì‹¶ì„ ë•Œë„ ìˆìŠµë‹ˆë‹¤.

```ts
const INIT_OPTIONS = {
  width: 640,
  height: 480,
  color: '#00FF00',
  label: 'VGA',
}
interface Options {
  width: number
  height: number
  color: string
  label: string
}
```

- ì´ëŸ°ê²½ìš° typeofë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

```ts
const INIT_OPTIONS = {
  width: 640,
  height: 480,
  color: '#00FF00',
  label: 'VGA',
}
type Options = typeof INIT_OPTIONS
```


- í•¨ìˆ˜ë‚˜ ë©”ì„œë“œì˜ ë°˜í™˜ ê°’ì— ëª…ëª…ëœ íƒ€ì…ì„ ë§Œë“¤ê³  ì‹¶ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```ts
const INIT_OPTIONS = {
  width: 640,
  height: 480,
  color: '#00FF00',
  label: 'VGA',
}

function getUserInfo(userId: string) {
  // COMPRESS
  const name = 'Bob'
  const age = 12
  const height = 48
  const weight = 70
  const favoriteColor = 'blue'
  // END
  return {
    userId,
    name,
    age,
    height,
    weight,
    favoriteColor,
  }
}
// ì¶”ë¡ ëœ ë°˜í™˜ íƒ€ì… { userId: string; name: string; age: number, ... }
```


- ì´ëŸ° ê²½ìš° ìœ í‹¸ë¦¬í‹°íƒ€ì… ReturnType ì œë„ˆë¦­ì´ ì •í™•íˆ ë“¤ì–´ë§ìŠµë‹ˆë‹¤.

```ts
type UserInfo = ReturnType<typeof getUserInfo>;
```



- ì œë„ˆë¦­ íƒ€ì…ì—ì„œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œí•œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ extendsë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒ ì…ë‹ˆë‹¤.

```ts
interface Name {
  first: string
  last: string
}
type DancingDuo<T extends Name> = [T, T]

const couple1: DancingDuo<Name> = [
  { first: 'Fred', last: 'Astaire' },
  { first: 'Ginger', last: 'Rogers' },
] // OK
const couple2: DancingDuo<{ first: string }> = [
  // ~~~~~~~~~~~~~~~
  // 'Name' íƒ€ì…ì— í•„ìš”í•œ 'last' ì†ì„±ì´
  // '{ first: string; }' íƒ€ì…ì— ì—†ìŠµë‹ˆë‹¤.
  { first: 'Sonny' },
  { first: 'Cher' },
]
```



```ts
interface Name {
  first: string
  last: string
}
type DancingDuo<T extends Name> = [T, T]
type FirstLast = Pick<Name, 'first' | 'last'> // OK
type FirstMiddle = Pick<Name, 'first' | 'middle'>
// ~~~~~~~~~~~~~~~~~~
// '"middle"' í˜•ì‹ì€
// '"first" | "Last"' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

> ê°’ì˜ ì§‘í•©ì´ë¼ëŠ” ê´€ì ì—ì„œ ìƒê°í•˜ë©´ extendsë¥¼ 'í™•ì¥'ì´ ì•„ë‹ˆë¼ 'ë¶€ë¶„ ì§‘í•©'ì´ë¼ëŠ” ê±¸ ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ë  ê²ë‹ˆë‹¤.


> ìš”ì•½

- DRY(don't repeat yourself) ì›ì¹™ì„ íƒ€ì…ì—ë„ ìµœëŒ€í•œ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒ€ì…ì— ì´ë¦„ì„ ë¶™ì—¬ì„œ ë°˜ë³µì„ í”¼í•´ì•¼ í•©ë‹ˆë‹¤. extendsë¥¼ ì‚¬ìš©í•´ì„œ ì¸í„°í˜ì´ìŠ¤ í•„ë“œì˜ ë°˜ë³µì„ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.
- íƒ€ì…ë“¤ ê°„ì˜ ë§¤í•‘ì„ ìœ„í•´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì œê³µí•œ ë„êµ¬ë“¤ì„ ê³µë¶€í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” keyof, typeof, ì¸ë±ì‹±, ë§¤í•‘ëœ íƒ€ì…ë“¤ì´ í¬í•¨ë©ë‹ˆë‹¤.
- ì œë„ˆë¦­ íƒ€ì…ì€ íƒ€ì…ì„ ìœ„í•œ í•¨ìˆ˜ì™€ ê°™ìŠµë‹ˆë‹¤. íƒ€ì…ì„ ë°˜ë³µí•˜ëŠ” ëŒ€ì‹  ì œë„ˆë¦­ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ë“¤ ê°„ì— ë§¤í•‘ì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì œë„ˆë¦­ íƒ€ì…ì„ ì œí•œ í•˜ë ¤ë©´ extendsë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.
- í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì •ì˜ëœ Pick, Partial, ReturnType ê°™ì€ ì œë„ˆë¦­ íƒ€ì…ì— ìµìˆ™í•´ì ¸ì•¼ í•©ë‹ˆë‹¤.


## ğŸ· 2-10(ì•„ì´í…œ15)  ë™ì  ë°ì´í„°ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì‚¬ìš©í•˜ê¸°

> `[property: string]: string` ì´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì´ë©°, ë‹¤ìŒ ì„¸ ê°€ì§€ ì˜ë¯¸ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.

- í‚¤ì˜ ì´ë¦„(property): í‚¤ì˜ ìœ„ì¹˜ë§Œ í‘œì‹œí•˜ëŠ” ìš©ë„ì…ë‹ˆë‹¤. íƒ€ì… ì²´ì»¤ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¬´ì‹œí•  ìˆ˜ ìˆëŠ” ì°¸ê³  ì •ë³´ë¼ê³  ìƒê°í•´ë„ ë©ë‹ˆë‹¤.
- í‚¤ì˜ íƒ€ì…: stringì´ë‚˜ number ë˜ëŠ” Symbolì˜ ì¡°í•©ì´ì–´ì•¼ í•˜ì§€ë§Œ, ë³´í†µì€ stringì„ ì‚¬ìš©í•©ë‹ˆë‹¤(ì•„ì´í…œ 16)
- ê°’ì˜ íƒ€ì…: ì–´ë–¤ ê²ƒì´ë“  ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


```ts
interface Rocket {
  name: string
  variant: string
  thrust_kN: number
}
const falconHeavy: Rocket = {
  name: 'Falcon Heavy',
  variant: 'v1',
  thrust_kN: 15_200,
}
```

> thrust_kNì— ì–¸ë”ë°”(`_` )ëŠ” proposal-numeric-separatorë¡œ ìˆ«ìì˜ ìë¦¬ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.


- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ëŠ” ë™ì  ë°ì´í„°ë¥¼ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- ì—´ ì´ë¦„ì„ ì•Œê³  ìˆëŠ” íŠ¹ì •í•œ ìƒí™©ì— parseCSVê°€ ì‚¬ìš©ëœë‹¤ë©´, ë¯¸ë¦¬ ì„ ì–¸í•´ ë‘” íƒ€ì…ìœ¼ë¡œ ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```ts
function parseCSV(input: string): { [columnName: string]: string }[] {
  const lines = input.split('\n')
  const [header, ...rows] = lines
  return rows.map(rowStr => {
    const row: { [columnName: string]: string } = {}
    rowStr.split(',').forEach((cell, i) => {
      row[header[i]] = cell
    })
    return row
  })
}
interface ProductRow {
  productId: string
  name: string
  price: string
}

declare let csvData: string
const products = parseCSV(csvData) as unknown as ProductRow[]
```


- ì„ ì–¸í•´ ë‘” ì—´ë“¤ì´ ëŸ°íƒ€ì„ì— ì‹¤ì œë¡œ ì¼ì¹˜í•œë‹¤ëŠ” ë³´ì¥ì€ ì—†ê¸° ë•Œë¬¸ì— í•„ìš” í•˜ë‹¤ë©´ ê°’ íƒ€ì…ì— undefinedë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
function parseCSV(input: string): { [columnName: string]: string }[] {
  const lines = input.split('\n')
  const [header, ...rows] = lines
  return rows.map(rowStr => {
    const row: { [columnName: string]: string } = {}
    rowStr.split(',').forEach((cell, i) => {
      row[header[i]] = cell
    })
    return row
  })
}
interface ProductRow {
  productId: string
  name: string
  price: string
}

declare let csvData: string
const products = parseCSV(csvData) as unknown as ProductRow[]
function safeParseCSV(input: string): { [columnName: string]: string | undefined }[] {
  return parseCSV(input)
}
const rows = parseCSV(csvData)
const prices: { [produt: string]: number } = {}
for (const row of rows) {
  prices[row.productId] = Number(row.price)
}

const safeRows = safeParseCSV(csvData)
for (const row of safeRows) {
  prices[row.productId] = Number(row.price)
  // ~~~~~~~~~~ 'undefined' í˜•ì‹ì„ ì¸ë±ìŠ¤ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
}
```


- ì–´ë–¤ íƒ€ì…ì— ê°€ëŠ¥í•œ í•„ë“œê°€ ì œí•œë˜ì–´ ìˆëŠ” ê²½ìš°ë¼ë©´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¡œ ëª¨ë¸ë§í•˜ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤.

```ts
interface Row1 {
  [column: string]: number
} // ë„ˆë¬´ ê´‘ë²”ìœ„
interface Row2 {
  a: number
  b?: number
  c?: number
  d?: number
} // ìµœì„ 
type Row3 =
  | { a: number }
  | { a: number; b: number }
  | { a: number; b: number; c: number }
  | { a: number; b: number; c: number; d: number } // ê°€ì¥ ì •í™•í•˜ì§€ë§Œ ì‚¬ìš©í•˜ê¸° ë²ˆê±°ë¡œì›€
```

> ë°ì´í„°ì— A, B, C, D ê°™ì€ í‚¤ê°€ ìˆì§€ë§Œ, ì–¼ë§ˆë‚˜ ë§ì´ ìˆëŠ”ì§€ ëª¨ë¥¸ë‹¤ë©´ ì„ íƒì  í•„ë“œ ë˜ëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ëª¨ë¸ë§í•˜ë©´ ë©ë‹ˆë‹¤.



> string íƒ€ì…ì´ ë„ˆë¬´ ê´‘ë²”ìœ„í•´ì„œ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë° ë¬¸ì œê°€ ìˆë‹¤ë©´, ë‘ ê°€ì§€ ë‹¤ë¥¸ ëŒ€ì•ˆ


1. Recordë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```ts
type Vec3D = Record<'x' | 'y' | 'z', number>
// Type Vec3D = {
//   x: number;
//   y: number;
//   z: number;
// }
```


2. ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë§¤í•‘ëœ íƒ€ì…ì€ í‚¤ë§ˆë‹¤ ë³„ë„ì˜ íƒ€ì…ì„ ì‚¬ìš©í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.

```ts
type Vec3D = { [k in 'x' | 'y' | 'z']: number }
// Same as above
type ABC = { [k in 'a' | 'b' | 'c']: k extends 'b' ? string : number }
// Type ABC = {
//   a: number;
//   b: string;
//   c: number;
// }
```


> ìš”ì•½

- ëŸ°íƒ€ì„ ë•Œê¹Œì§€ ê°ì²´ì˜ ì†ì„±ì„ ì•Œ ìˆ˜ ì—†ì„ ê²½ìš°ì—ë§Œ(ì˜ˆë¥¼ ë“¤ì–´ CSV íŒŒì¼ì—ì„œ ë¡œë“œí•˜ëŠ” ê²½ìš°) ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- ì•ˆì „í•œ ì ‘ê·¼ì„ ìœ„í•´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì˜ ê°’ íƒ€ì…ì— undefinedë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
- ê°€ëŠ¥í•˜ë‹¤ë©´ **ì¸í„°í˜ì´ìŠ¤, Record, ë§¤í•‘ëœ íƒ€ì… ê°™ì€ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë³´ë‹¤ ì •í™•í•œ íƒ€ì…ì„ ì‚¬ìš©** í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.



## ğŸ¤¡ 2-11(ì•„ì´í…œ16)  number ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë³´ë‹¤ëŠ” Array, íŠœí”Œ, ArrayLikeë¥¼ ì‚¬ìš©í•˜ê¸°

- typescriptì—ì„œ Arrayì˜ íƒ€ì…ìŠ¤íŒ©ì—ì„œ

```ts
interface Array<T>{
	...
	...
	...
	[n: number]: T;
}
```

> javascript ëŸ°íƒ€ì„í™˜ê²½ì—ì„œ ë°°ì—´ì„ ë¬¸ìì—´í‚¤ì™€ ìˆ«ìí‚¤ ë‘˜ë‹¤ ì ‘ê·¼ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì´ ì½”ë“œëŠ” ì™„ì „íˆ ê°€ìƒì´ë¼ê³  í•  ìˆ˜ ìˆì§€ë§Œ, íƒ€ì… ì²´í¬ ì‹œì ì— ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ìˆì–´ ìœ ìš©í•©ë‹ˆë‹¤.


```ts
const xs = [1, 2, 3]
const x0 = xs[0] // OK
const x1 = xs['1']
// ~~~ ì¸ë±ìŠ¤ ì‹ì´ 'number' í˜•ì‹ì´ ì•„ë‹ˆë¯€ë¡œ
//      ìš”ì†Œì— ì•”ì‹œì ìœ¼ë¡œ 'any' í˜•ì‹ì´ ìˆìŠµë‹ˆë‹¤.

function get<T>(array: T[], k: string): T {
  return array[k]
  // ~ ì¸ë±ìŠ¤ ì‹ì´ 'number' í˜•ì‹ì´ ì•„ë‹ˆë¯€ë¡œ
  //   ìš”ì†Œì— ì•”ì‹œì ìœ¼ë¡œ 'any' í˜•ì‹ì´ ìˆìŠµë‹ˆë‹¤.
}
```

> íƒ€ì… ì²´í¬ ì‹œì ì— ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ìˆì–´ ìœ ìš©í•©ë‹ˆë‹¤.



- 0bject.keys ê°™ì€ êµ¬ë¬¸ì€ ì—¬ì „íˆ ë¬¸ìì—´ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.

```ts
const xs = [1, 2, 3]
const keys = Object.keys(xs) // íƒ€ì…ì´ string[]
for (const key in xs) {
  key // íƒ€ì…ì´ string
  const x = xs[key] // íƒ€ì…ì´ number
}

```

> stringì´ numberì— í• ë‹¹ë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ì˜ˆì œì˜ ë§ˆì§€ë§‰ ì¤„ì´ ë™ì‘í•˜ëŠ” ê²ƒì´ ì´ìƒí•˜ê²Œ ë³´ì¼ ê²ë‹ˆë‹¤. ë°°ì—´ì„ ìˆœíšŒí•˜ëŠ” ì½”ë“œ ìŠ¤íƒ€ì¼ì— ëŒ€í•œ ì‹¤ìš©ì ì¸ í—ˆìš©ì´ ë¼ê³  ìƒê°í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
> ë°°ì—´ì„ ìˆœíšŒí•˜ê¸°ì— ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹™ë‹ˆë‹¤.


- ì¸ë±ìŠ¤ì— ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ `for-of` ì‚¬ìš©

- ì¸ë±ìŠ¤ì˜ íƒ€ì…ì´ ì¤‘ìš”í•˜ë‹¤ë©´, number íƒ€ì…ì„ ì œê³µí•´ ì¤„ `forEach` ë¥¼ ì‚¬ìš©.

- ë£¨í”„ ì¤‘ê°„ì— ë©ˆì¶°ì•¼ í•œë‹¤ë©´, `forë¬¸` ì‚¬ìš©





- ì–´ë–¤ ê¸¸ì´ë¥¼ ê°€ì§€ëŠ” ë°°ì—´ê³¼ ë¹„ìŠ·í•œ í˜•íƒœì˜ íŠœí”Œì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì— ìˆëŠ” `ArrayLike` íƒ€ì…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```ts
const xs = [1, 2, 3]
function checkedAccess<T>(xs: ArrayLike<T>, i: number): T {
  if (i < xs.length) {
    return xs[i]
  }
  throw new Error(`ë°°ì—´ì˜ ëì„ ì§€ë‚˜ì„œ ${i}ë¥¼ ì ‘ê·¼í•˜ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.`)
}
```


> ê¸¸ì´ì™€ ìˆ«ì ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë§Œ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ê°€ ì‹¤ì œë¡œëŠ” ë“œë¬¼ê¸°ëŠ” í•˜ì§€ë§Œ í•„ìš”í•˜ë‹¤ë©´ ArrayLikeë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ArrayLikeë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ í‚¤ëŠ” ì—¬ì „íˆ ë¬¸ìì—´ì´ë¼ëŠ” ì ì„ ìŠì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤.

```ts
const xs = [1, 2, 3]
const tupleLike: ArrayLike<string> = {
  '0': 'A',
  '1': 'B',
  length: 2,
} // ì •ìƒ

```


> ìš”ì•½

- ë°°ì—´ì€ ê°ì²´ì´ë¯€ë¡œ í‚¤ëŠ” ìˆ«ìê°€ ì•„ë‹ˆë¼ ë¬¸ìì—´ì…ë‹ˆë‹¤. ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¡œ ì‚¬ìš©ëœ number íƒ€ì…ì€ ë²„ê·¸ë¥¼ ì¡ê¸° ìœ„í•œ ìˆœìˆ˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì…ë‹ˆë‹¤.
- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì— numberë¥¼ ì‚¬ìš©í•˜ê¸°ë³´ë‹¤ Arrayë‚˜ íŠœí”Œ, ë˜ëŠ” ArrayLike íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

- [n] comment
> ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¡œ ì‚¬ìš©ëœ number íƒ€ì…ì€ ë²„ê·¸ë¥¼ ì¡ê¸° ìœ„í•œ ìˆœìˆ˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì…ë‹ˆë‹¤.
> ì´ê²Œ ë¬´ìŠ¨ë§ì´ëƒë©´ 
> `interface Array<T>{
>	`[n: number]: T;`
   `}`
> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì •ì˜ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ í‚¤ê°’ì´ numberì¸ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¡œ ì •ì˜ ë˜ì–´ ìˆëŠ”ë° ì´ëŠ”
> ë²„ê·¸ë¥¼ ì¡ê¸° ìœ„í•œ ìˆœìˆ˜ íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¼ëŠ” ëœ»ì„.

## ğŸ‘¹ 2-12(ì•„ì´í…œ17) ë³€ê²½ ê´€ë ¨ëœ ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•´ readonly ì‚¬ìš©í•˜ê¸°

```ts
function arraySum(arr: readonly number[]) {
  let sum = 0,
    num
  while ((num = arr.pop()) !== undefined) {
    // ~~~ 'readonly number[]' í˜•ì‹ì— 'pop' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
    sum += num
  }
  return sum
}
```



- `readonly number[]` ëŠ” 'íƒ€ì…'ì´ê³ , `number[]` ì™€ êµ¬ë¶„ë˜ëŠ” ëª‡ ê°€ì§€ íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.

1. ë°°ì—´ì˜ ìš”ì†Œë¥¼ ì½ì„ ìˆ˜ ìˆì§€ë§Œ, ì“¸ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.
2. lengthë¥¼ ì½ì„ ìˆ˜ ìˆì§€ë§Œ, ë°”ê¿€ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤(ë°°ì—´ì„ ë³€ê²½í•¨).
3. ë°°ì—´ì„ ë³€ê²½í•˜ëŠ” popì„ ë¹„ë¡¯í•œ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.



- ë§¤ê°œë³€ìˆ˜ë¥¼ readonlyë¡œ ì„ ì–¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¼ì´ ìƒê¹ë‹ˆë‹¤.

1. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ í•¨ìˆ˜ ë‚´ì—ì„œ ë³€ê²½ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì²´í¬í•©ë‹ˆë‹¤.
2. í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œëŠ” í•¨ìˆ˜ê°€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë³´ì¥ì„ ë°›ê²Œ ë©ë‹ˆë‹¤.
3. í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œ í•¨ìˆ˜ì— readonly ë°°ì—´ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë„£ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```ts
function arraySum(arr: readonly number[]) {
  let sum = 0
  for (const num of arr) {
    sum += num
  }
  return sum
}
```

> ë§Œì•½ í•¨ìˆ˜ê°€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, readonlyë¡œ ì„ ì–¸í•´ì•¼ í•©ë‹ˆë‹¤. ë” ë„“ì€ íƒ€ì…ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆê³ (ì•„ì´í…œ 29), ì˜ë„ì¹˜ ì•Šì€ ë³€ê²½ì€ ë°©ì§€ë  ê²ƒì…ë‹ˆë‹¤.



- readonlyë¥¼ ì‚¬ìš©í•˜ë©´ ì§€ì—­ ë³€ìˆ˜ì™€ ê´€ë ¨ëœ ëª¨ë“  ì¢…ë¥˜ì˜ ë³€ê²½ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
`
Frankenstein; or, The Modern Prometheus
by Mary Shelley

You will rejoice to hear that no disaster has accompanied the commencement
of an enterprise which you have regarded with such evil forebodings. I
arrived here yesterday, and my first task is to assure my dear sister of
my welfare and increasing confidence in the success of my undertaking.

I am already far north of London, and as I walk in the streets of
Petersburgh, I feel a cold northern breeze play upon my cheeks, which
braces my nerves and fills me with delight.
`

function parseTaggedText(lines: string[]): string[][] {
  const paragraphs: string[][] = []
  const currPara: string[] = []

  const addParagraph = () => {
    if (currPara.length) {
      paragraphs.push(currPara)
      currPara.length = 0 // Clear the lines
    }
  }

  for (const line of lines) {
    if (!line) {
      addParagraph()
    } else {
      currPara.push(line)
    }
  }
  addParagraph()
  return paragraphs
}
```

> ìœ„ì˜ ì†Œì„¤ ë‚´ìš©ì„ ì—°ì†ëœ í–‰ì„ ê°€ì ¸ì™€ì„œ ë¹ˆ ì¤„ì„ ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„ë˜ëŠ” ë‹¨ë½ ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê¸°ëŠ¥ì„ í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ê²°ê³¼ `[ [], [], []]` ì™„ì „íˆ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.
> 
> `paragraphs.push (currPara) ;` 
> currParaì˜ ë‚´ìš©ì´ ì‚½ì…ë˜ì§€ ì•Šê³  ë°°ì—´ì˜ ì°¸ì¡°ê°€ ì‚½ì…ë˜ì—ˆìŠµë‹ˆë‹¤.
> currParaì— ìƒˆ ê°’ì„ ì±„ìš°ê±°ë‚˜ ì§€ìš´ë‹¤ë©´ ë™ì¼í•œ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” paragraphs ìš”ì†Œì—ë„ ë³€ê²½ì´ ë°˜ì˜ë©ë‹ˆë‹¤.
> 
> `paragraphs.push (currpara);`
> `currPara.length = 0; // ë°°ì—´ì„ ë¹„ì›€`
> ì´ ì½”ë“œëŠ” ìƒˆ ë‹¨ë½ì„ paragraphsì— ì‚½ì…í•˜ê³  ë°”ë¡œ ì§€ì›Œ ë²„ë¦½ë‹ˆë‹¤.
> ë¬¸ì œëŠ” currpara.lengthë¥¼ ìˆ˜ì •í•˜ê³  currpara.pushë¥¼ í˜¸ì¶œí•˜ë©´ ë‘˜ë‹¤ currPara ë°°ì—´ì„ ë³€ê²½í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. currParaë¥¼ readonlyë¡œ ì„ ì–¸í•˜ì—¬ ì´ëŸ° ë™ì‘ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
function parseTaggedText(lines: string[]): string[][] {
  const currPara: readonly string[] = []
  const paragraphs: string[][] = []

  const addParagraph = () => {
    if (currPara.length) {
      paragraphs.push(
        currPara,
        // ~~~~~~~~ 'readonly string[]' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
        //          'string[]' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
      )
      currPara.length = 0 // ìš”ì†Œë¥¼ ë¹„ì›€
      // ~~~~~~ ì½ê¸° ì „ìš© ì†ì„±ì´ê¸° ë•Œë¬¸ì— 'length'ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

    }
  }

  for (const line of lines) {
    if (!line) {
      addParagraph()
    } else {
      currPara.push(line)
      // ~~~~ 'readonly string[]' í˜•ì‹ì— 'push' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
    }
  }
  addParagraph()
  return paragraphs
}
```

> currParaë¥¼ letìœ¼ë¡œ ì„ ì–¸í•˜ê³  ë³€í™˜ì´ ì—†ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë‘ê°œì˜ ì˜¤ë¥˜ë¥¼ ê³ ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> let currPara: readonly string[] = 0;
> ...
> currPara = []; // ë°°ì—´ì„ ë¹„ì›€
> ...
> currPara = currPara.concat ( `[line]` );


- ì—¬ì „íˆ paragraphsì— ëŒ€í•œ ì˜¤ë¥˜ëŠ” ë‚¨ì•„ ìˆìŠµë‹ˆë‹¤. ì´ ì˜¤ë¥˜ë¥¼ ë°”ë¡œì¡ëŠ” ë°©ë²• ì€ ì„¸ ê°€ì§€ì…ë‹ˆë‹¤.

1. currparaì˜ ë³µì‚¬ë³¸ì„ ë§Œë“œëŠ” ë°©ë²•ì…ë‹ˆë‹¤. 
>`paragraphs.push ( [...currParal);` 
2. paragraphs(ê·¸ë¦¬ê³  í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…)ë¥¼ readonly string[]ì˜ ë°°ì—´ ë¡œ ë³€ê²½í•˜ëŠ” ë°©ë²•
> `const paragraphs: (readonly string[])[] = [];`
3. ë°°ì—´ì˜ readonly ì†ì„±ì„ ì œê±°í•˜ê¸° ìœ„í•´ ë‹¨ì–¸ë¬¸ì„ ì“°ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
> `paragraphs.push(currPara as string[]);`


- readonlyëŠ” ì–•ê²Œ(shallow) ë™ì‘í•œë‹¤ëŠ” ê²ƒì— ìœ ì˜í•˜ë©° ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

1. ê°ì²´ì˜ readonly ë°°ì—´ì´ ìˆë‹¤ë©´, ê·¸ ê°ì²´ ìì²´ëŠ” readonlyê°€ ì•„ë‹™ë‹ˆë‹¤. (ê¹Šì€ ë³µì‚¬ê°€ ì•„ë‹ˆë€ì†Œë¦¬)
2. Readonly ì œë„ˆë¦­ì—ë„ ê·¸ ê°ì²´ ìì²´ëŠ” readonlyê°€ ì•„ë‹™ë‹ˆë‹¤. (ê¹Šì€ ë³µì‚¬ê°€ ì•„ë‹ˆë€ì†Œë¦¬)



- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì—ë„ readonlyë¥¼ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
let obj: { readonly [k: string]: number } = {}
// ë˜ëŠ” Readonly<{[k: stringl: number}
obj.hi = 45
//  ~~ ... í˜•ì‹ì˜ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ëŠ” ì½ê¸°ë§Œ í—ˆìš©ë©ë‹ˆë‹¤.
obj = { ...obj, hi: 12 } // OK
obj = { ...obj, bye: 34 } // OK

```


> ìš”ì•½

- *ë§Œì•½ í•¨ìˆ˜ê°€ ë§¤ê°œë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ readonlyë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.*  readonly ë§¤ê°œë³€ìˆ˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª…í™•í•˜ê²Œ í•˜ë©°, ë§¤ê°œë³€ìˆ˜ê°€ ë³€ê²½ ë˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.
- readonlyë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ê²½í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆê³ , ë³€ê²½ì´ ë°œìƒí•˜ëŠ” ì½”ë“œë„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- constì™€ readonlyì˜ ì°¨ì´ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.
- readonLyëŠ” ì–•ê²Œ ë™ì‘í•œë‹¤ëŠ” ê²ƒì„ ëª…ì‹¬í•´ì•¼ í•©ë‹ˆë‹¤.

- [n] comment
> const ì™€ readonly ì˜ ì°¨ì´
> const ëŠ” ì°¸ì¡°íƒ€ì…ì˜ ê²½ìš° ë©”ì„œë“œë¥¼ í†µí•´ì„œ ìˆ˜ì •ê°€ëŠ¥ í•  ìˆ˜ ìˆë‹¤.
> ëª…ì‹œì ìœ¼ë¡œ readonly íƒ€ì…ì„ ì§€ì •í•´ì¤„ ê²½ìš°, ì°¸ì¡°íƒ€ì…ì˜ ìˆ˜ì • ê°€ëŠ¥í•œ ë©”ì„œë“œë“¤ì„ ì‚¬ìš© í•  ìˆ˜ ì—†ê²Œ ë˜ì–´ì„œ ì§€ì—­ë³€ìˆ˜ë¡œì„œ ë‚˜íƒ€ë‚˜ëŠ” ë²„ê·¸ë“¤ì„ í•´ê²° í•´ì¤„ ìˆ˜ ìˆë‹¤.



## ğŸ‘» 2-13(ì•„ì´í…œ18) ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ë™ê¸°í™”í•˜ê¸°

- ì‹¤íŒ¨ì— ë‹«íŒ(fail close) ì ‘ê·¼ë²•ìœ¼ë¡œ ìµœì í™” ë°©ë²•

```ts
interface ScatterProps {
  // The data
  xs: number[]
  ys: number[]

  // Display
  xRange: [number, number]
  yRange: [number, number]
  color: string

  // Events
  onClick: (x: number, y: number, index: number) => void
}
function shouldUpdate(oldProps: ScatterProps, newProps: ScatterProps) {
  let k: keyof ScatterProps
  for (k in oldProps) {
    if (oldProps[k] !== newProps[k]) {
      if (k !== 'onClick') return true
    }
  }
  return false
}
```

> ë§Œì•½ ìƒˆë¡œìš´ ì†ì„±ì´ ì¶”ê°€ë˜ë©´ shouldUpdate í•¨ìˆ˜ëŠ” ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì°¨íŠ¸ë¥¼ ë‹¤ì‹œ ê·¸ë¦´ ê²ƒì…ë‹ˆë‹¤.
> ì°¨íŠ¸ê°€ ì •í™•í•˜ì§€ë§Œ ë„ˆë¬´ ìì£¼ ê·¸ë ¤ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.


- ì‹¤íŒ¨ì— ì—´ë¦°(fail open) ì ‘ê·¼ë²•ìœ¼ë¡œ ìµœì í™” ë°©ë²•

```ts
interface ScatterProps {
  // The data
  xs: number[]
  ys: number[]

  // Display
  xRange: [number, number]
  yRange: [number, number]
  color: string

  // Events
  onClick: (x: number, y: number, index: number) => void
}
function shouldUpdate(oldProps: ScatterProps, newProps: ScatterProps) {
  return (
    oldProps.xs !== newProps.xs ||
    oldProps.ys !== newProps.ys ||
    oldProps.xRange !== newProps.xRange ||
    oldProps.yRange !== newProps.yRange ||
    oldProps.color !== newProps.color
    // (no check for onClick)
  )
}
```

> ì´ ì½”ë“œëŠ” ì°¨íŠ¸ë¥¼ ë¶ˆí•„ìš”í•˜ê²Œ ë‹¤ì‹œ ê·¸ë¦¬ëŠ” ë‹¨ì ì„ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
> í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì°¨íŠ¸ë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•  ê²½ìš°ì— ëˆ„ë½ë˜ëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> ì¼ë°˜ì ì¸ ê²½ìš°ì— ì“°ì´ëŠ” ë°©ë²•ì€ ì•„ë‹™ë‹ˆë‹¤.

>ìœ„ì˜ ë‘ ë°©ë²• ë‘˜ë‹¤ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ˆë‹¤.


- íƒ€ì… ì²´ì»¤ê°€ ë™ì‘í•˜ë„ë¡ ê°œì„ í•œ ì½”ë“œì…ë‹ˆë‹¤. í•µì‹¬ì€ ë§¤í•‘ëœ íƒ€ì…ê³¼ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```ts
interface ScatterProps {
  // The data
  xs: number[]
  ys: number[]

  // Display
  xRange: [number, number]
  yRange: [number, number]
  color: string

  // Events
  onClick: (x: number, y: number, index: number) => void
}
const REQUIRES_UPDATE: { [k in keyof ScatterProps]: boolean } = {
  xs: true,
  ys: true,
  xRange: true,
  yRange: true,
  color: true,
  onClick: false,
}

function shouldUpdate(oldProps: ScatterProps, newProps: ScatterProps) {
  let k: keyof ScatterProps
  for (k in oldProps) {
    if (oldProps[k] !== newProps[k] && REQUIRES_UPDATE[k]) {
      return true
    }
  }
  return false
}
```

> `[k in keyof ScatterProps]` ì€ íƒ€ì… ì²´ì»¤ì—ê²Œ REQUIRES_UPDATEê°€ ScatterProps ê³¼ ë™ì¼í•œ ì†ì„±ì„ ê°€ì ¸ì•¼ í•œë‹¤ëŠ” ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.


- ë‚˜ì¤‘ì— ScatterPropsì— ìƒˆë¡œìš´ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš° ë‹¤ìŒ ì½”ë“œì™€ ê°™ì€ í˜•íƒœê°€ ë  ê²ƒì…ë‹ˆë‹¤.

```ts
interface ScatterProps {
  // The data
  xs: number[]
  ys: number[]

  // Display
  xRange: [number, number]
  yRange: [number, number]
  color: string

  // Events
  onClick: (x: number, y: number, index: number) => void
}
interface ScatterProps {
  // ...
  onDoubleClick: () => void
}
const REQUIRES_UPDATE: { [k in keyof ScatterProps]: boolean } = {
  //  ~~~~~~~~~~ onDoubleclick' ì†ì„±ì´ íƒ€ì…ì— ì—†ìŠµë‹ˆë‹¤.
  // COMPRESS
  xs: true,
  ys: true,
  xRange: true,
  yRange: true,
  color: true,
  onClick: false,
  // END
}
```

> REQUIRES_UPDATEì˜ ì •ì˜ì— ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
> ì´ëŸ° ë°©ì‹ì€ ì˜¤ë¥˜ë¥¼ ì •í™•íˆ ì¡ì•„ ëƒ…ë‹ˆë‹¤. ì†ì„±ì„ ì‚­ì œí•˜ê±°ë‚˜ ì´ë¦„ì„ ë°”ê¾¸ì–´ë„ ë¹„ìŠ·í•œ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
> ì—¬ê¸°ì„œ boolean ê°’ì„ ê°€ì§„ ê°ì²´ë¥¼ ì‚¬ìš©í–ˆë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.



- ë§Œì•½ booleanì´ ì•„ë‹Œ ë°°ì—´ì„ ì‚¬ìš©í–ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ë©ë‹ˆë‹¤.

```ts
interface ScatterProps {
  // The data
  xs: number[]
  ys: number[]

  // Display
  xRange: [number, number]
  yRange: [number, number]
  color: string

  // Events
  onClick: (x: number, y: number, index: number) => void
}
interface ScatterProps {
  // ...
  onDoubleClick: () => void
}
const PROPS_REQUIRING_UPDATE: (keyof ScatterProps)[] = [
  'xs',
  'ys',
  // ...
]
```


> ìš”ì•½

- ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ê´€ë ¨ëœ ê°’ê³¼ íƒ€ì…ì„ ë™ê¸°í™”í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- ì¸í„°í˜ì´ìŠ¤ì— ìƒˆë¡œìš´ ì†ì„±ì„ ì¶”ê°€í•  ë•Œ, ì„ íƒì„ ê°•ì œí•˜ë„ë¡ ë§¤í•‘ëœ íƒ€ì…ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

- [n] comment
> ì•„ì´í…œ 18 ì¢€ ì–´ë µë‹¤. í•˜ì§€ë§Œ ì´í•´í•´ë³´ìë©´ ê²°ë¡ ì ìœ¼ë¡œ ê°€ì¥ ìµœì í™” ë°©ë²•ì´ë¼ê³  ì†Œê°œëœ ë‚´ìš©ì€ ìƒˆë¡œìš´ ì†ì„±ì´ ì¶”ê°€ ë˜ì—ˆì„ë•Œ íƒ€ì…ì²´ì»¤ ì—ëŸ¬ë¥¼ ë°œìƒ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```ts
interface ScatterProps {
	// The data
	xs: number[]
	ys: number[]
	
	// Display
	xRange: [number, number]
	yRange: [number, number]
	color: string
	
	// Events
	onClick: (x: number, y: number, index: number) => void
}

interface ScatterProps {
// ...
	onDoubleClick: () => void
}

function shouldUpdate(oldProps: ScatterProps, newProps: ScatterProps) {

	let k: keyof ScatterProps
	for (k in oldProps) {
		if (oldProps[k] !== newProps[k]) {
			if (k !== 'onClick') return true
		}
	}
	
	return false
}
```

> ì‹¤íŒ¨ì— ë‹«íŒ(fail close) ì ‘ê·¼ë²•ì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€ í–ˆë”ë‹ˆ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.


```ts
interface ScatterProps {
  // The data
  xs: number[]
  ys: number[]

  // Display
  xRange: [number, number]
  yRange: [number, number]
  color: string

  // Events
  onClick: (x: number, y: number, index: number) => void
}
interface ScatterProps {
  // ...
  onDoubleClick: () => void
}
const REQUIRES_UPDATE: { [k in keyof ScatterProps]: boolean } = {
  //  ~~~~~~~~~~ onDoubleclick' ì†ì„±ì´ íƒ€ì…ì— ì—†ìŠµë‹ˆë‹¤.
  // COMPRESS
  xs: true,
  ys: true,
  xRange: true,
  yRange: true,
  color: true,
  onClick: false,
  // END
}

function shouldUpdate(oldProps: ScatterProps, newProps: ScatterProps) {
  let k: keyof ScatterProps
  for (k in oldProps) {
    if (oldProps[k] !== newProps[k] && REQUIRES_UPDATE[k]) {
      return true
    }
  }
  return false
}
```

> ì—¬ê¸°ì„œëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ìœ„ì˜ ì„¤ëª…ì„ ë‹¤ì‹œ ë³´ë©´
>  `[k in keyof ScatterProps]` ì€ íƒ€ì… ì²´ì»¤ì—ê²Œ REQUIRES_UPDATEê°€ ScatterPropsê³¼ ë™ì¼í•œ ì†ì„±ì„ ê°€ì ¸ì•¼ í•œë‹¤ëŠ” ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
>  ê²°ë¡ ì ìœ¼ë¡œ ë§µë“œíƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ë¦¬í„°ëŸ´ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ íŠ¹ì • propsì— ì˜¬ ìˆ˜ ìˆëŠ” ìš”ì†Œë“¤ì˜ ë²”ìœ„ë¥¼ ì¢í˜€ì„œ íŠ¹ì • ìš”ì†Œë“¤ë§Œ ì˜¬ ìˆ˜ ìˆê³  ê·¸ ìš”ì†Œë“¤ì˜ ì‚­ì œë‚˜, ì˜¤íƒ€, ì´ë¦„ ë³€ê²½, í¬í•¨ë˜ì§€ ì•ŠëŠ” ìš”ì†Œ ì—ëŸ¬ ë“±ì„ íƒ€ì…ì²´ì»¤ê°€ ì²´í¬ í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.





